{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Renz-Lunci/Desktop/Rx/%20Technology/Repository/lakaw-socmed-Website/src/app/Gift/FreeCoinPopup.tsx"],"sourcesContent":["\"use client\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport CustomDialog from \"../components/CustomDialog\";\r\nimport { useAppDispatch } from \"../utils/hooks\";\r\nimport { hideModal } from \"../store/Slice/ModalsSlice\";\r\nimport Image from \"next/image\";\r\nimport { motion, AnimatePresence } from \"framer-motion\";\r\nimport { RiCoinFill } from \"react-icons/ri\";\r\nimport Cookies from \"js-cookie\";\r\n\r\nfunction FreeCoinPopup() {\r\n  const dispatch = useAppDispatch();\r\n  const [open, setOpen] = useState(false);\r\n  const [showCoins, setShowCoins] = useState(false);\r\n\r\n  // Open popup if cookie is true\r\n  useEffect(() => {\r\n    const hasSeenPopup = Cookies.get(\"FreeCoinPopup\");\r\n    if (hasSeenPopup === \"true\") {\r\n      setOpen(true);\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (open) {\r\n      const timer = setTimeout(() => setShowCoins(true), 500);\r\n      return () => clearTimeout(timer);\r\n    } else {\r\n      setShowCoins(false);\r\n    }\r\n  }, [open]);\r\n\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n    Cookies.set(\"FreeCoinPopup\", \"false\"); // prevent showing again\r\n    dispatch(hideModal(\"FreeCoin\"));\r\n  };\r\n\r\n  return (\r\n    <CustomDialog open={open} onClose={handleClose} width=\"420px\">\r\n      <div className=\"relative flex flex-col items-center justify-center min-h-[320px] p-4 overflow-hidden\">\r\n        {/* Falling coins */}\r\n        <AnimatePresence>\r\n          {showCoins &&\r\n            Array.from({ length: 12 }).map((_, i) => (\r\n              <motion.div\r\n                key={i}\r\n                initial={{ y: -100, opacity: 0, x: Math.random() * 300 - 150 }}\r\n                animate={{\r\n                  y: [0, 340],\r\n                  opacity: [1, 0],\r\n                  x: Math.random() * 300 - 150,\r\n                }}\r\n                exit={{ opacity: 0 }}\r\n                transition={{\r\n                  duration: 2.5 + Math.random(),\r\n                  delay: Math.random() * 1,\r\n                  repeat: Infinity,\r\n                  repeatDelay: 1,\r\n                }}\r\n                className=\"absolute top-0\"\r\n              >\r\n                <RiCoinFill className=\"text-yellow-600 text-2xl\" />\r\n              </motion.div>\r\n            ))}\r\n        </AnimatePresence>\r\n\r\n        {/* Main coin */}\r\n        <motion.div\r\n          animate={{ scale: [1, 1.2, 1] }}\r\n          transition={{\r\n            duration: 1.2,\r\n            repeat: Infinity,\r\n            repeatType: \"loop\",\r\n            ease: \"easeInOut\",\r\n          }}\r\n          className=\"background-opacityGradient p-0.5 rounded-full w-20 h-20 flex items-center justify-center z-10\"\r\n        >\r\n          <Image\r\n            src={\"/profile/coin.png\"}\r\n            alt=\"coin\"\r\n            width={140}\r\n            height={140}\r\n            className=\"rounded-full p-3\"\r\n          />\r\n        </motion.div>\r\n\r\n        {/* Coin balance */}\r\n        <div className=\"rounded-2xl background-opacityGradient flex items-center gap-3 px-3 py-1.5 mt-4 z-10\">\r\n          <Image src=\"/profile/coin.png\" alt=\"coin\" width={20} height={20} />\r\n          <p className=\"font-medium text-[12px] text-dark\">500</p>\r\n        </div>\r\n\r\n        {/* Title */}\r\n        <h3 className=\"text-xl font-semibold text-dark text-center mt-4 z-10\">\r\n          Congratulations!!!\r\n        </h3>\r\n\r\n        {/* Description */}\r\n        <p className=\"text-[#656565] text-sm text-center mt-2 z-10\">\r\n          You have received 500 coins free on your successful registration, enjoy\r\n          buying gifts.\r\n        </p>\r\n      </div>\r\n    </CustomDialog>\r\n  );\r\n}\r\n\r\nexport default FreeCoinPopup;\r\n"],"names":[],"mappings":";;;;;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AARA;;;;;;;;;;AAUA,SAAS;IACP,MAAM,WAAW,IAAA,4NAAc;IAC/B,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,8RAAQ,EAAC;IACjC,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,8RAAQ,EAAC;IAE3C,+BAA+B;IAC/B,IAAA,+RAAS,EAAC;QACR,MAAM,eAAe,6OAAO,CAAC,GAAG,CAAC;QACjC,IAAI,iBAAiB,QAAQ;YAC3B,QAAQ;QACV;IACF,GAAG,EAAE;IAEL,IAAA,+RAAS,EAAC;QACR,IAAI,MAAM;YACR,MAAM,QAAQ,WAAW,IAAM,aAAa,OAAO;YACnD,OAAO,IAAM,aAAa;QAC5B,OAAO;YACL,aAAa;QACf;IACF,GAAG;QAAC;KAAK;IAET,MAAM,cAAc;QAClB,QAAQ;QACR,6OAAO,CAAC,GAAG,CAAC,iBAAiB,UAAU,wBAAwB;QAC/D,SAAS,IAAA,sOAAS,EAAC;IACrB;IAEA,qBACE,2TAAC,iOAAY;QAAC,MAAM;QAAM,SAAS;QAAa,OAAM;kBACpD,cAAA,2TAAC;YAAI,WAAU;;8BAEb,2TAAC,yRAAe;8BACb,aACC,MAAM,IAAI,CAAC;wBAAE,QAAQ;oBAAG,GAAG,GAAG,CAAC,CAAC,GAAG,kBACjC,2TAAC,iRAAM,CAAC,GAAG;4BAET,SAAS;gCAAE,GAAG,CAAC;gCAAK,SAAS;gCAAG,GAAG,KAAK,MAAM,KAAK,MAAM;4BAAI;4BAC7D,SAAS;gCACP,GAAG;oCAAC;oCAAG;iCAAI;gCACX,SAAS;oCAAC;oCAAG;iCAAE;gCACf,GAAG,KAAK,MAAM,KAAK,MAAM;4BAC3B;4BACA,MAAM;gCAAE,SAAS;4BAAE;4BACnB,YAAY;gCACV,UAAU,MAAM,KAAK,MAAM;gCAC3B,OAAO,KAAK,MAAM,KAAK;gCACvB,QAAQ;gCACR,aAAa;4BACf;4BACA,WAAU;sCAEV,cAAA,2TAAC,yOAAU;gCAAC,WAAU;;;;;;2BAhBjB;;;;;;;;;;8BAsBb,2TAAC,iRAAM,CAAC,GAAG;oBACT,SAAS;wBAAE,OAAO;4BAAC;4BAAG;4BAAK;yBAAE;oBAAC;oBAC9B,YAAY;wBACV,UAAU;wBACV,QAAQ;wBACR,YAAY;wBACZ,MAAM;oBACR;oBACA,WAAU;8BAEV,cAAA,2TAAC,qNAAK;wBACJ,KAAK;wBACL,KAAI;wBACJ,OAAO;wBACP,QAAQ;wBACR,WAAU;;;;;;;;;;;8BAKd,2TAAC;oBAAI,WAAU;;sCACb,2TAAC,qNAAK;4BAAC,KAAI;4BAAoB,KAAI;4BAAO,OAAO;4BAAI,QAAQ;;;;;;sCAC7D,2TAAC;4BAAE,WAAU;sCAAoC;;;;;;;;;;;;8BAInD,2TAAC;oBAAG,WAAU;8BAAwD;;;;;;8BAKtE,2TAAC;oBAAE,WAAU;8BAA+C;;;;;;;;;;;;;;;;;AAOpE;uCAEe","debugId":null}},
    {"offset": {"line": 199, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Renz-Lunci/Desktop/Rx/%20Technology/Repository/lakaw-socmed-Website/src/app/Gift/GiftCategories.tsx"],"sourcesContent":["\"use client\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { useGiftCategories } from \"../store/api/getGiftCategories\";\r\nimport { useAppDispatch, useAppSelector } from \"../utils/hooks\";\r\nimport { setSelectedCategory } from \"../store/Slice/selectedGiftCategorySlice\";\r\nimport { ClipLoader } from \"react-spinners\";\r\n\r\nexport default function GiftCategories() {\r\n  const dispatch = useAppDispatch();\r\n  const selectedCategoryId = useAppSelector(\r\n    (state) => state.gift.selectedCategoryId\r\n  );\r\n\r\n  const [page] = useState(1);\r\n  const { data, isLoading, isError } = useGiftCategories(page);\r\n\r\n  // ðŸ‘‰ Auto-select the first category if none is selected\r\n  useEffect(() => {\r\n    if (\r\n      data?.data?.Records?.length &&\r\n      !selectedCategoryId // only if not already set\r\n    ) {\r\n      dispatch(setSelectedCategory(data.data.Records[0].gift_category_id));\r\n    }\r\n  }, [data, selectedCategoryId, dispatch]);\r\n\r\n  if (isLoading)\r\n    return (\r\n      <div className=\"max-h-[550px]\">\r\n        <div>\r\n          <ClipLoader color=\"#1A9D77\" size={15} />\r\n        </div>\r\n      </div>\r\n    );\r\n\r\n  if (isError) return <div>Something went wrong!</div>;\r\n\r\n  return (\r\n    <div className=\"flex items-center justify-center gap-4 background-opacityGradient px-4 rounded-xl\">\r\n      {data?.data?.Records.map((category, index: number) => (\r\n        <React.Fragment key={category.gift_category_id}>\r\n          <button\r\n            onClick={() =>\r\n              dispatch(setSelectedCategory(category.gift_category_id))\r\n            }\r\n            className={`flex-1 text-sm relative font-medium py-2 cursor-pointer transition-colors duration-200\r\n              ${\r\n                selectedCategoryId === category.gift_category_id\r\n                  ? \"text-main-green\"\r\n                  : \"text-gray-500 hover:text-main-green\"\r\n              }\r\n            `}\r\n          >\r\n            {category.name}\r\n            {selectedCategoryId === category.gift_category_id && (\r\n              <span className=\"absolute left-1/2 -translate-x-1/2 bottom-0 sm:w-16 w-20 h-[2px] bg-main-green rounded-full\" />\r\n            )}\r\n          </button>\r\n          {index < data?.data?.Records.length - 1 && (\r\n            <div className=\"w-px h-3 bg-main-green/[0.35]\"></div>\r\n          )}\r\n        </React.Fragment>\r\n      ))}\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AACA;AACA;AACA;AACA;AACA;AALA;;;;;;;AAOe,SAAS;IACtB,MAAM,WAAW,IAAA,4NAAc;IAC/B,MAAM,qBAAqB,IAAA,4NAAc,EACvC,CAAC,QAAU,MAAM,IAAI,CAAC,kBAAkB;IAG1C,MAAM,CAAC,KAAK,GAAG,IAAA,8RAAQ,EAAC;IACxB,MAAM,EAAE,IAAI,EAAE,SAAS,EAAE,OAAO,EAAE,GAAG,IAAA,kPAAiB,EAAC;IAEvD,wDAAwD;IACxD,IAAA,+RAAS,EAAC;QACR,IACE,MAAM,MAAM,SAAS,UACrB,CAAC,mBAAmB,0BAA0B;UAC9C;YACA,SAAS,IAAA,8PAAmB,EAAC,KAAK,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC,gBAAgB;QACpE;IACF,GAAG;QAAC;QAAM;QAAoB;KAAS;IAEvC,IAAI,WACF,qBACE,2TAAC;QAAI,WAAU;kBACb,cAAA,2TAAC;sBACC,cAAA,2TAAC,0RAAU;gBAAC,OAAM;gBAAU,MAAM;;;;;;;;;;;;;;;;IAK1C,IAAI,SAAS,qBAAO,2TAAC;kBAAI;;;;;;IAEzB,qBACE,2TAAC;QAAI,WAAU;kBACZ,MAAM,MAAM,QAAQ,IAAI,CAAC,UAAU,sBAClC,2TAAC,6RAAK,CAAC,QAAQ;;kCACb,2TAAC;wBACC,SAAS,IACP,SAAS,IAAA,8PAAmB,EAAC,SAAS,gBAAgB;wBAExD,WAAW,CAAC;cACV,EACE,uBAAuB,SAAS,gBAAgB,GAC5C,oBACA,sCACL;YACH,CAAC;;4BAEA,SAAS,IAAI;4BACb,uBAAuB,SAAS,gBAAgB,kBAC/C,2TAAC;gCAAK,WAAU;;;;;;;;;;;;oBAGnB,QAAQ,MAAM,MAAM,QAAQ,SAAS,mBACpC,2TAAC;wBAAI,WAAU;;;;;;;eAnBE,SAAS,gBAAgB;;;;;;;;;;AAyBtD","debugId":null}},
    {"offset": {"line": 307, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Renz-Lunci/Desktop/Rx/%20Technology/Repository/lakaw-socmed-Website/src/app/Gift/SendGift.tsx"],"sourcesContent":["\"use client\";\r\nimport React, { useRef, useEffect } from \"react\";\r\nimport CustomDialog from \"../components/CustomDialog\";\r\nimport { useAppDispatch, useAppSelector } from \"../utils/hooks\";\r\nimport { hideModal, showModal } from \"../store/Slice/ModalsSlice\";\r\nimport GiftCategories from \"./GiftCategories\";\r\nimport { useGifts } from \"../store/api/getGift\";\r\nimport {\r\n  setSelectedGift,\r\n  incrementQuantity,\r\n  decrementQuantity,\r\n  resetGift,\r\n} from \"../store/Slice/selectedGiftCategorySlice\";\r\nimport Image from \"next/image\";\r\nimport { ClipLoader } from \"react-spinners\";\r\nimport Cookies from \"js-cookie\";\r\nimport { SendGiftRes } from \"../types/Gift\";\r\nimport useApiPost from \"../hooks/postData\";\r\nimport { toast } from \"react-toastify\";\r\nimport { clearUserId } from \"../store/Slice/UserIdHashtagIdSlice\";\r\nimport { clearSelectedReel } from \"../store/Slice/SelectedReelDetail\";\r\nimport { useUserProfile } from \"../store/api/updateUser\";\r\n\r\nfunction SendGift() {\r\n  const dispatch = useAppDispatch();\r\n  const open = useAppSelector((state) => state.modals.SendGift);\r\n  const { selectedCategoryId, selectedGiftId, selectedGiftValue, quantity } =\r\n    useAppSelector((state) => state.gift);\r\n  const { postData } = useApiPost();\r\n\r\n  const socialId = useAppSelector((state) => state.selectedReel.ReelId);\r\n  const recieverUserIdRedux = useAppSelector((state) => state.userId.user_id);\r\n\r\n  const liveState = useAppSelector((state) => state.live);\r\n  // get recipient dynamically from live if live modal is open\r\n  const recieverUserId = liveState.user_id || recieverUserIdRedux;\r\n\r\n  const { data, isLoading, isError, fetchNextPage, hasNextPage, isFetchingNextPage } =\r\n    useGifts(selectedCategoryId);\r\n\r\n  const observerRef = useRef<HTMLDivElement | null>(null);\r\n\r\n  useEffect(() => {\r\n    if (!observerRef.current || !hasNextPage) return;\r\n    const observer = new IntersectionObserver(\r\n      (entries) => {\r\n        if (entries[0].isIntersecting && hasNextPage) fetchNextPage();\r\n      },\r\n      { threshold: 1 }\r\n    );\r\n    observer.observe(observerRef.current);\r\n    return () => observer.disconnect();\r\n  }, [hasNextPage, fetchNextPage]);\r\n\r\n  const total = selectedGiftValue * quantity;\r\n  const token = Cookies.get(\"Reelboost_auth_token\");\r\n  const { data: userData } = useUserProfile(token ?? \"\");\r\n\r\n  const handleGiftSend = async () => {\r\n    if (!recieverUserId) {\r\n      // toast.error(\"Recipient not found!\");\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const res: SendGiftRes = await postData(\"/transaction/send-gift\", {\r\n        reciever_id: recieverUserId,\r\n        gift_id: selectedGiftId,\r\n        social_id: socialId || null, // null for live\r\n        quantity,\r\n        transaction_ref: socialId ? \"social\" : \"live\",\r\n      });\r\n\r\n      if (res.status) {\r\n        toast.success(res.message);\r\n        dispatch(hideModal(\"SendGift\"));\r\n        dispatch(showModal(\"GiftSentSuccessfully\"));\r\n        dispatch(clearUserId());\r\n        dispatch(clearSelectedReel());\r\n      } else {\r\n        toast.error(res.message);\r\n      }\r\n    } catch (err) {\r\n      toast.error(\"Failed to send gift!\");\r\n    }\r\n  };\r\n\r\n  const handleRecharge = () => {\r\n    if (Number(userData?.data?.available_coins ?? 0) < total) {\r\n      dispatch(showModal(\"InsufficientBalance\"));\r\n    } else {\r\n      handleGiftSend();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <CustomDialog\r\n      open={open}\r\n      onClose={() => {\r\n        dispatch(hideModal(\"SendGift\"));\r\n        dispatch(resetGift());\r\n      }}\r\n      width=\"450px\"\r\n    >\r\n      <div className=\"p-4\">\r\n        <GiftCategories />\r\n\r\n        <div className=\"grid grid-cols-3 gap-4 mt-4 max-h-[550px] scrollbar-hide overflow-y-auto\">\r\n          {isLoading && (\r\n            <div className=\"min-h-[550px] flex justify-center items-center\">\r\n              <ClipLoader color=\"#1A9D77\" size={15} />\r\n            </div>\r\n          )}\r\n          {isError && <div>Failed to load gifts</div>}\r\n          {!isLoading &&\r\n            data?.pages.map((page, pageIndex) =>\r\n              page?.data?.Records.map((gift) => (\r\n                <div\r\n                  key={`${pageIndex}-${gift.gift_id}`}\r\n                  onClick={() =>\r\n                    dispatch(\r\n                      setSelectedGift({\r\n                        id: gift.gift_id,\r\n                        value: gift.gift_value,\r\n                        image: gift.gift_thumbnail,\r\n                      })\r\n                    )\r\n                  }\r\n                  className={`flex flex-col items-center gap-2 p-2 border rounded-lg cursor-pointer transition \r\n                    ${\r\n                      selectedGiftId === gift.gift_id\r\n                        ? \"border-main-green bg-main-green/[0.1]\"\r\n                        : \"border-main-green/[0.36]\"\r\n                    }`}\r\n                >\r\n                  <Image\r\n                    src={gift.gift_thumbnail || \"/home/gift.png\"}\r\n                    alt={gift.name}\r\n                    width={60}\r\n                    height={60}\r\n                    className=\"rounded-lg\"\r\n                  />\r\n                  <div className=\"flex items-center gap-1 background-opacityGradient py-1.5 px-3 rounded-lg\">\r\n                    <Image src=\"/profile/coin.png\" alt=\"coin\" width={16} height={16} />\r\n                    <span className=\"text-xs font-semibold text-dark\">{gift.gift_value}</span>\r\n                  </div>\r\n                </div>\r\n              ))\r\n            )}\r\n        </div>\r\n\r\n        <div ref={observerRef} className=\" mt-2 flex justify-center items-center\">\r\n          {isFetchingNextPage && <div>Loading more...</div>}\r\n        </div>\r\n\r\n        {selectedGiftId && (\r\n          <div className=\"mt-4 flex items-center justify-between bg-gray-50 p-3 rounded-lg shadow-sm\">\r\n            <div className=\"flex items-center gap-2\">\r\n              <Image src=\"/profile/coin.png\" alt=\"coin\" width={20} height={20} />\r\n              <span className=\"font-semibold\">{total}</span>\r\n            </div>\r\n\r\n            <div className=\"flex items-center gap-2\">\r\n              <button\r\n                onClick={() => dispatch(decrementQuantity())}\r\n                className=\"px-2 py-1 bg-main-green/[0.04] rounded cursor-pointer\"\r\n              >\r\n                -\r\n              </button>\r\n              <span>{quantity}</span>\r\n              <button\r\n                onClick={() => dispatch(incrementQuantity())}\r\n                className=\"px-2 py-1 rounded bg-main-green/[0.04] cursor-pointer\"\r\n              >\r\n                +\r\n              </button>\r\n            </div>\r\n\r\n            <button\r\n              className=\"bg-main-green text-primary px-4 py-2 rounded-xl cursor-pointer flex items-center gap-1\"\r\n              onClick={handleRecharge}\r\n            >\r\n              Send <Image src=\"/chat/send.png\" alt=\"send\" height={20} width={20} />\r\n            </button>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </CustomDialog>\r\n  );\r\n}\r\n\r\nexport default SendGift;\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 627, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Renz-Lunci/Desktop/Rx/%20Technology/Repository/lakaw-socmed-Website/src/app/Gift/InsufficientBalance.tsx"],"sourcesContent":["\"use client\"\r\nimport CustomDialog from \"../components/CustomDialog\";\r\nimport { useAppDispatch, useAppSelector } from \"../utils/hooks\";\r\nimport { hideModal } from \"../store/Slice/ModalsSlice\";\r\nimport Image from \"next/image\";\r\nimport { useRouter } from \"next/navigation\";\r\n\r\nfunction InsufficientBalance() {\r\n  const dispatch = useAppDispatch();\r\n  const open = useAppSelector((state) => state.modals.InsufficientBalance);\r\n  const router = useRouter();\r\n  const isLive = useAppSelector((state) => state.modals.LivePopup)\r\n\r\n  return (\r\n    <CustomDialog\r\n      open={open}\r\n      onClose={() => dispatch(hideModal(\"InsufficientBalance\"))}\r\n      width=\"420px\"\r\n    >\r\n      <div className=\"relative flex flex-col items-center justify-center py-8 p-4 overflow-hidden\">\r\n        {/* Main coin with continuous pop animation */}\r\n        <div className=\"background-opacityGradient p-0.5 rounded-full w-20 h-20 flex items-center justify-center z-10\">\r\n          <Image\r\n            src={\"/gift/insufficientBalance.png\"}\r\n            alt=\"coin\"\r\n            width={160}\r\n            height={160}\r\n            className=\"rounded-full p-3 w-52 \"\r\n          />\r\n        </div>\r\n\r\n        {/* title */}\r\n        <h3 className=\"text-xl font-semibold text-dark text-center mt-4 z-10\">\r\n          Insufficient Balance\r\n        </h3>\r\n\r\n        {/* text */}\r\n        <p className=\"text-[#656565] text-sm text-center mt-2 px-8 z-10\">\r\n          Insufficient balance. Please add funds to complete the transaction.\r\n        </p>\r\n\r\n        {/* Recharge button */}\r\n        <button\r\n          className={`w-4/5 text-sm rounded-xl py-3 mt-8\r\n                bg-main-green text-primary cursor-pointer`}\r\n          onClick={() => {\r\n            dispatch(hideModal(\"SendGift\"));\r\n            dispatch(hideModal(\"InsufficientBalance\"));\r\n            router.push(\"/setting/recharge\");\r\n            if(isLive) {\r\n              dispatch(hideModal(\"LivePopup\"))\r\n            }\r\n          }}\r\n        >\r\n          Recharge\r\n        </button>\r\n      </div>\r\n    </CustomDialog>\r\n  );\r\n}\r\n\r\nexport default InsufficientBalance;\r\n"],"names":[],"mappings":";;;;;AACA;AACA;AACA;AACA;AACA;AALA;;;;;;;AAOA,SAAS;IACP,MAAM,WAAW,IAAA,4NAAc;IAC/B,MAAM,OAAO,IAAA,4NAAc,EAAC,CAAC,QAAU,MAAM,MAAM,CAAC,mBAAmB;IACvE,MAAM,SAAS,IAAA,4NAAS;IACxB,MAAM,SAAS,IAAA,4NAAc,EAAC,CAAC,QAAU,MAAM,MAAM,CAAC,SAAS;IAE/D,qBACE,2TAAC,iOAAY;QACX,MAAM;QACN,SAAS,IAAM,SAAS,IAAA,sOAAS,EAAC;QAClC,OAAM;kBAEN,cAAA,2TAAC;YAAI,WAAU;;8BAEb,2TAAC;oBAAI,WAAU;8BACb,cAAA,2TAAC,qNAAK;wBACJ,KAAK;wBACL,KAAI;wBACJ,OAAO;wBACP,QAAQ;wBACR,WAAU;;;;;;;;;;;8BAKd,2TAAC;oBAAG,WAAU;8BAAwD;;;;;;8BAKtE,2TAAC;oBAAE,WAAU;8BAAoD;;;;;;8BAKjE,2TAAC;oBACC,WAAW,CAAC;yDACmC,CAAC;oBAChD,SAAS;wBACP,SAAS,IAAA,sOAAS,EAAC;wBACnB,SAAS,IAAA,sOAAS,EAAC;wBACnB,OAAO,IAAI,CAAC;wBACZ,IAAG,QAAQ;4BACT,SAAS,IAAA,sOAAS,EAAC;wBACrB;oBACF;8BACD;;;;;;;;;;;;;;;;;AAMT;uCAEe","debugId":null}},
    {"offset": {"line": 724, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Renz-Lunci/Desktop/Rx/%20Technology/Repository/lakaw-socmed-Website/src/app/Gift/GiftSentSuccessfully.tsx"],"sourcesContent":["\"use client\";\r\nimport CustomDialog from \"../components/CustomDialog\";\r\nimport { useAppDispatch, useAppSelector } from \"../utils/hooks\";\r\nimport { hideModal } from \"../store/Slice/ModalsSlice\";\r\nimport Image from \"next/image\";\r\nimport { motion } from \"framer-motion\";\r\nimport Confetti from \"react-confetti\";\r\n\r\nfunction GiftSentSuccessfully() {\r\n  const dispatch = useAppDispatch();\r\n  const open = useAppSelector((state) => state.modals.GiftSentSuccessfully);\r\n  const { selectedGiftImage, total } = useAppSelector((state) => state.gift);\r\n\r\n  return (\r\n    <>\r\n      <CustomDialog\r\n        open={open}\r\n        onClose={() => dispatch(hideModal(\"GiftSentSuccessfully\"))}\r\n        width=\"420px\"\r\n      >\r\n        <Confetti\r\n          initialVelocityX={6}\r\n          initialVelocityY={10}\r\n          width={420}\r\n          height={320}\r\n        />\r\n        <div className=\"relative flex flex-col items-center justify-center min-h-[320px] p-4 overflow-hidden\">\r\n          {/* Main coin */}\r\n          <motion.div\r\n            animate={{ scale: [1, 1.2, 1] }}\r\n            transition={{\r\n              duration: 1.2,\r\n              repeat: Infinity,\r\n              repeatType: \"loop\",\r\n              ease: \"easeInOut\",\r\n            }}\r\n            className=\"background-opacityGradient p-0.5 rounded-full w-20 h-20 flex items-center justify-center z-10\"\r\n          >\r\n\r\n            <Image\r\n              src={selectedGiftImage || \"\"}\r\n              alt=\"coin\"\r\n              width={140}\r\n              height={140}\r\n              className=\"rounded-full p-3\"\r\n            />\r\n          </motion.div>\r\n\r\n          {/* Coin balance */}\r\n          <div className=\"rounded-2xl background-opacityGradient flex items-center gap-3 px-3 py-1.5 mt-4 z-10\">\r\n            <Image src=\"/profile/coin.png\" alt=\"coin\" width={20} height={20} />\r\n            <p className=\"font-medium text-[12px] text-dark\">{total}</p>\r\n          </div>\r\n\r\n          {/* Title */}\r\n          <h3 className=\"text-xl font-semibold text-dark text-center mt-4 z-10\">\r\n            Wohaa Gift Sent!!\r\n          </h3>\r\n\r\n          {/* Description */}\r\n          <p className=\"text-[#656565] w-44 text-sm text-center mt-2 z-10\">\r\n            You have successful sent the gift\r\n          </p>\r\n        </div>\r\n      </CustomDialog>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default GiftSentSuccessfully;\r\n"],"names":[],"mappings":";;;;;AACA;AACA;AACA;AACA;AACA;AACA;AANA;;;;;;;;AAQA,SAAS;IACP,MAAM,WAAW,IAAA,4NAAc;IAC/B,MAAM,OAAO,IAAA,4NAAc,EAAC,CAAC,QAAU,MAAM,MAAM,CAAC,oBAAoB;IACxE,MAAM,EAAE,iBAAiB,EAAE,KAAK,EAAE,GAAG,IAAA,4NAAc,EAAC,CAAC,QAAU,MAAM,IAAI;IAEzE,qBACE;kBACE,cAAA,2TAAC,iOAAY;YACX,MAAM;YACN,SAAS,IAAM,SAAS,IAAA,sOAAS,EAAC;YAClC,OAAM;;8BAEN,2TAAC,uPAAQ;oBACP,kBAAkB;oBAClB,kBAAkB;oBAClB,OAAO;oBACP,QAAQ;;;;;;8BAEV,2TAAC;oBAAI,WAAU;;sCAEb,2TAAC,iRAAM,CAAC,GAAG;4BACT,SAAS;gCAAE,OAAO;oCAAC;oCAAG;oCAAK;iCAAE;4BAAC;4BAC9B,YAAY;gCACV,UAAU;gCACV,QAAQ;gCACR,YAAY;gCACZ,MAAM;4BACR;4BACA,WAAU;sCAGV,cAAA,2TAAC,qNAAK;gCACJ,KAAK,qBAAqB;gCAC1B,KAAI;gCACJ,OAAO;gCACP,QAAQ;gCACR,WAAU;;;;;;;;;;;sCAKd,2TAAC;4BAAI,WAAU;;8CACb,2TAAC,qNAAK;oCAAC,KAAI;oCAAoB,KAAI;oCAAO,OAAO;oCAAI,QAAQ;;;;;;8CAC7D,2TAAC;oCAAE,WAAU;8CAAqC;;;;;;;;;;;;sCAIpD,2TAAC;4BAAG,WAAU;sCAAwD;;;;;;sCAKtE,2TAAC;4BAAE,WAAU;sCAAoD;;;;;;;;;;;;;;;;;;;AAO3E;uCAEe","debugId":null}},
    {"offset": {"line": 859, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Renz-Lunci/Desktop/Rx/%20Technology/Repository/lakaw-socmed-Website/src/app/Gift/GPayPayment.tsx"],"sourcesContent":["\"use client\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport GooglePayButton from \"@google-pay/button-react\";\r\nimport { useAppDispatch, useAppSelector } from \"../utils/hooks\";\r\nimport useApiPost from \"../hooks/postData\";\r\nimport { RechargeResponse } from \"../types/Gift\";\r\nimport { toast } from \"react-toastify\";\r\nimport { hideModal, showModal } from \"../store/Slice/ModalsSlice\";\r\nimport { ProjectConfigRes } from \"../types/ResTypes\";\r\nimport Cookies from \"js-cookie\";\r\n\r\nexport default function GPayPayment() {\r\n  const totalAmount = useAppSelector(\r\n    (state) => state.transactionPlans.total_money\r\n  );\r\n  const selectedPlanId = useAppSelector(\r\n    (state) => state.transactionPlans.selectedPlanId\r\n  );\r\n  const { postData } = useApiPost();\r\n  const dispatch = useAppDispatch();\r\n  const [merchantId,setMerchantId] = useState(\"\");\r\n  const [merchantName,setMerchantName] = useState(\"\");\r\n  const token = Cookies.get(\"Reelboost_auth_token\")\r\n\r\n  useEffect(() => {\r\n    if (!token) return ;\r\n      const fetchConfig = async () => {\r\n        try {\r\n          const res = await fetch(\r\n            `${process.env.NEXT_PUBLIC_API_URL}/project_conf`\r\n          );\r\n          const data: ProjectConfigRes = await res.json();\r\n          if (data?.data?.gpay_merch_id) setMerchantId(data.data.gpay_merch_id);\r\n          if (data?.data?.gpay_merch_name) setMerchantName(data.data.gpay_merch_name);\r\n        } catch (error) {\r\n        }\r\n      };\r\n      fetchConfig();\r\n    }, [token]);\r\n\r\n  return (\r\n    <GooglePayButton\r\n      environment=\"PRODUCTION\"\r\n      buttonColor=\"white\"\r\n      paymentRequest={{\r\n        apiVersion: 2,\r\n        \r\n        apiVersionMinor: 0,\r\n        allowedPaymentMethods: [\r\n          {\r\n            type: \"CARD\",\r\n            parameters: {\r\n              allowedAuthMethods: [\"PAN_ONLY\", \"CRYPTOGRAM_3DS\"],\r\n              allowedCardNetworks: [\"VISA\", \"MASTERCARD\"],\r\n            },\r\n            tokenizationSpecification: {\r\n              type: \"PAYMENT_GATEWAY\",\r\n              parameters: {\r\n                gateway: \"stripe\",\r\n                \"stripe:version\": \"2020-08-27\",\r\n                \"stripe:publishableKey\":\r\n                  process.env.NEXT_PUBLIC_STRIPE_KEY!\r\n              },\r\n            },\r\n          },\r\n        ],\r\n        merchantInfo: {\r\n          merchantId: merchantId, // Replace with your GPay merchant ID in production\r\n          merchantName: merchantName,\r\n        },\r\n        transactionInfo: {\r\n          totalPriceStatus: \"FINAL\",\r\n          totalPriceLabel: \"Total\",\r\n          totalPrice: String(totalAmount),\r\n          currencyCode: \"USD\",\r\n          countryCode: \"US\",\r\n        },\r\n      }}\r\n      onLoadPaymentData={async (paymentData) => {\r\n\r\n        // Extract Stripe token from Google Pay\r\n        const token =\r\n          paymentData.paymentMethodData?.tokenizationData?.token || null;\r\n\r\n        if (!token) {\r\n          return;\r\n        }\r\n\r\n        try {\r\n          // Call your backend API\r\n          const res: RechargeResponse = await postData(\r\n            \"/transaction/recharge\",\r\n            {\r\n              payment_method: \"Google pay\",\r\n              success: \"success\",\r\n              acutal_money: totalAmount,\r\n              plan_id: selectedPlanId,\r\n              transaction_id_gateway: \"\", // Send token to backend\r\n            }\r\n          );\r\n          if (res.status) {\r\n            dispatch(hideModal(\"PaymentGateway\"));\r\n            toast.success(res.message);\r\n\r\n            dispatch(showModal(\"RechargeSuccessful\"));\r\n          } else {\r\n            toast.error(res.message);\r\n          }\r\n        } catch (error) {}\r\n      }}\r\n      onCancel={() => {\r\n        dispatch(hideModal(\"PaymentGateway\"))\r\n        toast.success(\"Payment Cancel\")\r\n      }}\r\n      onError={(err) => {\r\n      }}\r\n    />\r\n  );\r\n}\r\n   "],"names":[],"mappings":";;;;;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AATA;;;;;;;;;AAWe,SAAS;IACtB,MAAM,cAAc,IAAA,4NAAc,EAChC,CAAC,QAAU,MAAM,gBAAgB,CAAC,WAAW;IAE/C,MAAM,iBAAiB,IAAA,4NAAc,EACnC,CAAC,QAAU,MAAM,gBAAgB,CAAC,cAAc;IAElD,MAAM,EAAE,QAAQ,EAAE,GAAG,IAAA,wNAAU;IAC/B,MAAM,WAAW,IAAA,4NAAc;IAC/B,MAAM,CAAC,YAAW,cAAc,GAAG,IAAA,8RAAQ,EAAC;IAC5C,MAAM,CAAC,cAAa,gBAAgB,GAAG,IAAA,8RAAQ,EAAC;IAChD,MAAM,QAAQ,6OAAO,CAAC,GAAG,CAAC;IAE1B,IAAA,+RAAS,EAAC;QACR,IAAI,CAAC,OAAO;QACV,MAAM,cAAc;YAClB,IAAI;gBACF,MAAM,MAAM,MAAM,MAChB,wGAAmC,aAAa,CAAC;gBAEnD,MAAM,OAAyB,MAAM,IAAI,IAAI;gBAC7C,IAAI,MAAM,MAAM,eAAe,cAAc,KAAK,IAAI,CAAC,aAAa;gBACpE,IAAI,MAAM,MAAM,iBAAiB,gBAAgB,KAAK,IAAI,CAAC,eAAe;YAC5E,EAAE,OAAO,OAAO,CAChB;QACF;QACA;IACF,GAAG;QAAC;KAAM;IAEZ,qBACE,2TAAC,2PAAe;QACd,aAAY;QACZ,aAAY;QACZ,gBAAgB;YACd,YAAY;YAEZ,iBAAiB;YACjB,uBAAuB;gBACrB;oBACE,MAAM;oBACN,YAAY;wBACV,oBAAoB;4BAAC;4BAAY;yBAAiB;wBAClD,qBAAqB;4BAAC;4BAAQ;yBAAa;oBAC7C;oBACA,2BAA2B;wBACzB,MAAM;wBACN,YAAY;4BACV,SAAS;4BACT,kBAAkB;4BAClB,yBACE,QAAQ,GAAG,CAAC,sBAAsB;wBACtC;oBACF;gBACF;aACD;YACD,cAAc;gBACZ,YAAY;gBACZ,cAAc;YAChB;YACA,iBAAiB;gBACf,kBAAkB;gBAClB,iBAAiB;gBACjB,YAAY,OAAO;gBACnB,cAAc;gBACd,aAAa;YACf;QACF;QACA,mBAAmB,OAAO;YAExB,uCAAuC;YACvC,MAAM,QACJ,YAAY,iBAAiB,EAAE,kBAAkB,SAAS;YAE5D,IAAI,CAAC,OAAO;gBACV;YACF;YAEA,IAAI;gBACF,wBAAwB;gBACxB,MAAM,MAAwB,MAAM,SAClC,yBACA;oBACE,gBAAgB;oBAChB,SAAS;oBACT,cAAc;oBACd,SAAS;oBACT,wBAAwB;gBAC1B;gBAEF,IAAI,IAAI,MAAM,EAAE;oBACd,SAAS,IAAA,sOAAS,EAAC;oBACnB,yOAAK,CAAC,OAAO,CAAC,IAAI,OAAO;oBAEzB,SAAS,IAAA,sOAAS,EAAC;gBACrB,OAAO;oBACL,yOAAK,CAAC,KAAK,CAAC,IAAI,OAAO;gBACzB;YACF,EAAE,OAAO,OAAO,CAAC;QACnB;QACA,UAAU;YACR,SAAS,IAAA,sOAAS,EAAC;YACnB,yOAAK,CAAC,OAAO,CAAC;QAChB;QACA,SAAS,CAAC,OACV;;;;;;AAGN","debugId":null}},
    {"offset": {"line": 982, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Renz-Lunci/Desktop/Rx/%20Technology/Repository/lakaw-socmed-Website/src/app/Gift/PaymentWithPaypal.tsx"],"sourcesContent":["\"use client\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { PayPalScriptProvider, PayPalButtons } from \"@paypal/react-paypal-js\";\r\nimport { useAppSelector, useAppDispatch } from \"../utils/hooks\";\r\nimport useApiPost from \"../hooks/postData\";\r\nimport { showModal, hideModal } from \"../store/Slice/ModalsSlice\";\r\nimport { toast } from \"react-toastify\";\r\nimport { RechargeResponse } from \"../types/Gift\";\r\nimport { ProjectConfigRes } from \"../types/ResTypes\";\r\nimport Cookies from \"js-cookie\";\r\n\r\nexport default function PaymentWithPaypal() {\r\n  const dispatch = useAppDispatch();\r\n  const amount =\r\n    useAppSelector((state) => state.transactionPlans.total_money) || \"0.00\";\r\n  const selectedPlanId = useAppSelector(\r\n    (state) => state.transactionPlans.selectedPlanId\r\n  );\r\n  const { postData } = useApiPost();\r\n  const [paypalClientId, setPaypalClientId] = useState(\"\");\r\nconst token = Cookies.get(\"Reelboost_auth_token\")\r\n  useEffect(() => {\r\n    if (!token) return;\r\n\r\n    const fetchConfig = async () => {\r\n      try {\r\n        const res = await fetch(\r\n          `${process.env.NEXT_PUBLIC_API_URL}/project_conf`\r\n        );\r\n        const data: ProjectConfigRes = await res.json();\r\n        setPaypalClientId(data?.data.paypal_public_key || \"\");\r\n      } catch (error) {\r\n      }\r\n    };\r\n    fetchConfig();\r\n  }, [token]);\r\n\r\n  if (!paypalClientId) {\r\n    return <div>Loading PayPal...</div>; // or a spinner\r\n  }\r\n\r\n  return (\r\n    <PayPalScriptProvider\r\n      options={{\r\n        clientId: paypalClientId, // âœ… from state, not env\r\n        currency: \"USD\",\r\n      }}\r\n    >\r\n      <div className=\"w-full max-w-2xl mx-auto p-4 border rounded-lg shadow-md max-h-[70vh] overflow-y-auto\">\r\n        <h2 className=\"text-xl font-semibold mb-4 text-center\">\r\n          Pay with PayPal\r\n        </h2>\r\n\r\n        <PayPalButtons\r\n          style={{\r\n            layout: \"vertical\",\r\n            color: \"blue\",\r\n            shape: \"rect\",\r\n            label: \"paypal\",\r\n          }}\r\n          createOrder={(data, actions) => {\r\n            return actions.order.create({\r\n              intent: \"CAPTURE\", // âœ… required by TS typings\r\n              purchase_units: [\r\n                {\r\n                  description: \"Your purchase\",\r\n                  amount: {\r\n                    currency_code: \"USD\", // âœ… required\r\n                    value: String(amount), // must be string\r\n                  },\r\n                },\r\n              ],\r\n              application_context: {\r\n                shipping_preference: \"NO_SHIPPING\",\r\n              },\r\n            });\r\n          }}\r\n          onApprove={async (data, actions) => {\r\n            if (!actions.order) return;\r\n            try {\r\n              const details = await actions.order.capture();\r\n\r\n              // Call your backend API\r\n              const res: RechargeResponse = await postData(\r\n                \"/transaction/recharge\",\r\n                {\r\n                  payment_method: \"Paypal\",\r\n                  success: \"success\",\r\n                  acutal_money: amount,\r\n                  plan_id: selectedPlanId,\r\n                  transaction_id_gateway: details.id, // PayPal order ID\r\n                }\r\n              );\r\n\r\n              if (res.status) {\r\n                dispatch(hideModal(\"PaymentGateway\"));\r\n                toast.success(res.message);\r\n                dispatch(showModal(\"RechargeSuccessful\"));\r\n              } else {\r\n                toast.error(res.message);\r\n              }\r\n            } catch (error) {\r\n              // toast.error(\"Something went wrong while processing the payment.\");\r\n            }\r\n          }}\r\n          onError={(err) => {\r\n            toast.error(\"An error occurred during PayPal Checkout.\");\r\n          }}\r\n          onCancel={() => {\r\n            toast.info(\"Payment cancelled by the user.\");\r\n          }}\r\n        />\r\n      </div>\r\n    </PayPalScriptProvider>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AATA;;;;;;;;;AAWe,SAAS;IACtB,MAAM,WAAW,IAAA,4NAAc;IAC/B,MAAM,SACJ,IAAA,4NAAc,EAAC,CAAC,QAAU,MAAM,gBAAgB,CAAC,WAAW,KAAK;IACnE,MAAM,iBAAiB,IAAA,4NAAc,EACnC,CAAC,QAAU,MAAM,gBAAgB,CAAC,cAAc;IAElD,MAAM,EAAE,QAAQ,EAAE,GAAG,IAAA,wNAAU;IAC/B,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,IAAA,8RAAQ,EAAC;IACvD,MAAM,QAAQ,6OAAO,CAAC,GAAG,CAAC;IACxB,IAAA,+RAAS,EAAC;QACR,IAAI,CAAC,OAAO;QAEZ,MAAM,cAAc;YAClB,IAAI;gBACF,MAAM,MAAM,MAAM,MAChB,wGAAmC,aAAa,CAAC;gBAEnD,MAAM,OAAyB,MAAM,IAAI,IAAI;gBAC7C,kBAAkB,MAAM,KAAK,qBAAqB;YACpD,EAAE,OAAO,OAAO,CAChB;QACF;QACA;IACF,GAAG;QAAC;KAAM;IAEV,IAAI,CAAC,gBAAgB;QACnB,qBAAO,2TAAC;sBAAI;;;;;kBAAyB,eAAe;IACtD;IAEA,qBACE,2TAAC,8RAAoB;QACnB,SAAS;YACP,UAAU;YACV,UAAU;QACZ;kBAEA,cAAA,2TAAC;YAAI,WAAU;;8BACb,2TAAC;oBAAG,WAAU;8BAAyC;;;;;;8BAIvD,2TAAC,uRAAa;oBACZ,OAAO;wBACL,QAAQ;wBACR,OAAO;wBACP,OAAO;wBACP,OAAO;oBACT;oBACA,aAAa,CAAC,MAAM;wBAClB,OAAO,QAAQ,KAAK,CAAC,MAAM,CAAC;4BAC1B,QAAQ;4BACR,gBAAgB;gCACd;oCACE,aAAa;oCACb,QAAQ;wCACN,eAAe;wCACf,OAAO,OAAO;oCAChB;gCACF;6BACD;4BACD,qBAAqB;gCACnB,qBAAqB;4BACvB;wBACF;oBACF;oBACA,WAAW,OAAO,MAAM;wBACtB,IAAI,CAAC,QAAQ,KAAK,EAAE;wBACpB,IAAI;4BACF,MAAM,UAAU,MAAM,QAAQ,KAAK,CAAC,OAAO;4BAE3C,wBAAwB;4BACxB,MAAM,MAAwB,MAAM,SAClC,yBACA;gCACE,gBAAgB;gCAChB,SAAS;gCACT,cAAc;gCACd,SAAS;gCACT,wBAAwB,QAAQ,EAAE;4BACpC;4BAGF,IAAI,IAAI,MAAM,EAAE;gCACd,SAAS,IAAA,sOAAS,EAAC;gCACnB,yOAAK,CAAC,OAAO,CAAC,IAAI,OAAO;gCACzB,SAAS,IAAA,sOAAS,EAAC;4BACrB,OAAO;gCACL,yOAAK,CAAC,KAAK,CAAC,IAAI,OAAO;4BACzB;wBACF,EAAE,OAAO,OAAO;wBACd,qEAAqE;wBACvE;oBACF;oBACA,SAAS,CAAC;wBACR,yOAAK,CAAC,KAAK,CAAC;oBACd;oBACA,UAAU;wBACR,yOAAK,CAAC,IAAI,CAAC;oBACb;;;;;;;;;;;;;;;;;AAKV","debugId":null}},
    {"offset": {"line": 1122, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Renz-Lunci/Desktop/Rx/%20Technology/Repository/lakaw-socmed-Website/src/app/Gift/PaymentWithStripe.tsx"],"sourcesContent":["\"use client\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { loadStripe,Stripe } from \"@stripe/stripe-js\";\r\nimport {\r\n  Elements,\r\n  CardNumberElement,\r\n  CardExpiryElement,\r\n  CardCvcElement,\r\n  useStripe,\r\n  useElements,\r\n} from \"@stripe/react-stripe-js\";\r\nimport useApiPost from \"../hooks/postData\";\r\nimport { useAppDispatch, useAppSelector } from \"../utils/hooks\";\r\nimport { RechargeResponse } from \"../types/Gift\";\r\nimport { PaymentIntentResponse, ProjectConfigRes } from \"../types/ResTypes\";\r\nimport { toast } from \"react-toastify\";\r\nimport { hideModal, showModal } from \"../store/Slice/ModalsSlice\";\r\nimport Cookies from \"js-cookie\";\r\n\r\n// const stripePromise = loadStripe(process.env.NEXT_PUBLIC_STRIPE_KEY!);\r\n\r\nfunction CheckoutForm() {\r\n  const stripe = useStripe();\r\n  const elements = useElements();\r\n  const { postData } = useApiPost();\r\n  const { plans, selectedPlanId, total_money } = useAppSelector(\r\n    (state) => state.transactionPlans\r\n  );\r\n  const [clientSecret, setClientSecret] = useState(\"\");\r\n  const dispatch = useAppDispatch();\r\n\r\n  // Create payment intent when component mounts (dialog opens)\r\n  useEffect(() => {\r\n    const createPaymentIntent = async () => {\r\n      try {\r\n        const res: PaymentIntentResponse = await postData(\r\n          \"/transaction/create-stripe-paymentintent\",\r\n          { plan_id: selectedPlanId }\r\n        );\r\n        setClientSecret(res?.data.clientSecret);\r\n      } catch (err) {\r\n      }\r\n    };\r\n\r\n    if (selectedPlanId) {\r\n      createPaymentIntent();\r\n    }\r\n  }, [selectedPlanId]);\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    if (!stripe || !elements || !clientSecret) return;\r\n\r\n    const cardNumber = elements.getElement(CardNumberElement);\r\n    if (!cardNumber) return;\r\n\r\n    // Confirm payment with Stripe\r\n    const { error, paymentIntent } = await stripe.confirmCardPayment(\r\n      clientSecret,\r\n      { payment_method: { card: cardNumber } }\r\n    );\r\n\r\n    if (error) {\r\n      return;\r\n    }\r\n\r\n    if (paymentIntent?.status === \"succeeded\") {\r\n      // Call backend to register the recharge\r\n      try {\r\n        const res: RechargeResponse = await postData(\"/transaction/recharge\", {\r\n          payment_method: \"stripe\",\r\n          success: \"success\",\r\n          acutal_money: total_money,\r\n          plan_id: selectedPlanId,\r\n          transaction_id_gateway: clientSecret,\r\n        });\r\n        if(res.status) {\r\n          toast.success(res.message)\r\n          dispatch(hideModal(\"PaymentGateway\"));\r\n          dispatch(showModal(\"RechargeSuccessful\"))\r\n        } else {\r\n          toast.error(res.message)\r\n        }\r\n      } catch (err) {\r\n      }\r\n    }\r\n  };\r\n\r\n  const elementStyle = {\r\n    style: {\r\n      base: {\r\n        fontSize: \"16px\",\r\n        color: \"#32325d\",\r\n        fontFamily: \"Arial, sans-serif\",\r\n        \"::placeholder\": { color: \"#a0a0a0\" },\r\n      },\r\n      invalid: { color: \"#fa755a\" },\r\n    },\r\n  };\r\n\r\n  return (\r\n    <form\r\n      onSubmit={handleSubmit}\r\n      className=\"flex flex-col gap-6 w-full max-w-md mx-auto\"\r\n    >\r\n      <div className=\"p-3 border rounded-lg bg-primary\">\r\n        <CardNumberElement options={elementStyle} />\r\n      </div>\r\n\r\n      <div className=\"flex gap-4\">\r\n        <div className=\"flex-1 p-3 border rounded-xl bg-primary\">\r\n          <CardExpiryElement options={elementStyle} />\r\n        </div>\r\n        <div className=\"flex-1 p-3 border rounded-xl bg-primary\">\r\n          <CardCvcElement options={elementStyle} />\r\n        </div>\r\n      </div>\r\n\r\n      <button\r\n        type=\"submit\"\r\n        disabled={!stripe || !clientSecret}\r\n        className=\"bg-main-green text-primary py-3 rounded-xl font-semibold hover:opacity-90 transition\"\r\n      >\r\n        Pay with Stripe\r\n      </button>\r\n    </form>\r\n  );\r\n}\r\n\r\n\r\nexport default function PaymentWithStripe() {\r\n  const [stripePromise, setStripePromise] = useState<Promise<Stripe | null> | null>(null);\r\nconst token = Cookies.get(\"Reelboost_auth_token\")\r\n  useEffect(() => {\r\n    if (!token) return;\r\n\r\n    const fetchConfig = async () => {\r\n      try {\r\n        const res = await fetch(`${process.env.NEXT_PUBLIC_API_URL}/project_conf`);\r\n        const data: ProjectConfigRes = await res.json();\r\n        if (data?.data?.stripe_public_key) {\r\n          setStripePromise(loadStripe(data.data.stripe_public_key));\r\n        }\r\n      } catch (err) {\r\n      }\r\n    };\r\n    fetchConfig();\r\n  }, [token]);\r\n\r\n  if (!stripePromise) {\r\n    return <div>Loading Stripe...</div>; // loader until key is ready\r\n  }\r\n\r\n  return (\r\n    <Elements stripe={stripePromise}>\r\n      <CheckoutForm />\r\n    </Elements>\r\n  );\r\n}"],"names":[],"mappings":";;;;;AACA;AACA;AAAA;AACA;AAQA;AACA;AAGA;AACA;AACA;AAjBA;;;;;;;;;;AAmBA,yEAAyE;AAEzE,SAAS;IACP,MAAM,SAAS,IAAA,8QAAS;IACxB,MAAM,WAAW,IAAA,gRAAW;IAC5B,MAAM,EAAE,QAAQ,EAAE,GAAG,IAAA,wNAAU;IAC/B,MAAM,EAAE,KAAK,EAAE,cAAc,EAAE,WAAW,EAAE,GAAG,IAAA,4NAAc,EAC3D,CAAC,QAAU,MAAM,gBAAgB;IAEnC,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,8RAAQ,EAAC;IACjD,MAAM,WAAW,IAAA,4NAAc;IAE/B,6DAA6D;IAC7D,IAAA,+RAAS,EAAC;QACR,MAAM,sBAAsB;YAC1B,IAAI;gBACF,MAAM,MAA6B,MAAM,SACvC,4CACA;oBAAE,SAAS;gBAAe;gBAE5B,gBAAgB,KAAK,KAAK;YAC5B,EAAE,OAAO,KAAK,CACd;QACF;QAEA,IAAI,gBAAgB;YAClB;QACF;IACF,GAAG;QAAC;KAAe;IAEnB,MAAM,eAAe,OAAO;QAC1B,EAAE,cAAc;QAChB,IAAI,CAAC,UAAU,CAAC,YAAY,CAAC,cAAc;QAE3C,MAAM,aAAa,SAAS,UAAU,CAAC,sRAAiB;QACxD,IAAI,CAAC,YAAY;QAEjB,8BAA8B;QAC9B,MAAM,EAAE,KAAK,EAAE,aAAa,EAAE,GAAG,MAAM,OAAO,kBAAkB,CAC9D,cACA;YAAE,gBAAgB;gBAAE,MAAM;YAAW;QAAE;QAGzC,IAAI,OAAO;YACT;QACF;QAEA,IAAI,eAAe,WAAW,aAAa;YACzC,wCAAwC;YACxC,IAAI;gBACF,MAAM,MAAwB,MAAM,SAAS,yBAAyB;oBACpE,gBAAgB;oBAChB,SAAS;oBACT,cAAc;oBACd,SAAS;oBACT,wBAAwB;gBAC1B;gBACA,IAAG,IAAI,MAAM,EAAE;oBACb,yOAAK,CAAC,OAAO,CAAC,IAAI,OAAO;oBACzB,SAAS,IAAA,sOAAS,EAAC;oBACnB,SAAS,IAAA,sOAAS,EAAC;gBACrB,OAAO;oBACL,yOAAK,CAAC,KAAK,CAAC,IAAI,OAAO;gBACzB;YACF,EAAE,OAAO,KAAK,CACd;QACF;IACF;IAEA,MAAM,eAAe;QACnB,OAAO;YACL,MAAM;gBACJ,UAAU;gBACV,OAAO;gBACP,YAAY;gBACZ,iBAAiB;oBAAE,OAAO;gBAAU;YACtC;YACA,SAAS;gBAAE,OAAO;YAAU;QAC9B;IACF;IAEA,qBACE,2TAAC;QACC,UAAU;QACV,WAAU;;0BAEV,2TAAC;gBAAI,WAAU;0BACb,cAAA,2TAAC,sRAAiB;oBAAC,SAAS;;;;;;;;;;;0BAG9B,2TAAC;gBAAI,WAAU;;kCACb,2TAAC;wBAAI,WAAU;kCACb,cAAA,2TAAC,sRAAiB;4BAAC,SAAS;;;;;;;;;;;kCAE9B,2TAAC;wBAAI,WAAU;kCACb,cAAA,2TAAC,mRAAc;4BAAC,SAAS;;;;;;;;;;;;;;;;;0BAI7B,2TAAC;gBACC,MAAK;gBACL,UAAU,CAAC,UAAU,CAAC;gBACtB,WAAU;0BACX;;;;;;;;;;;;AAKP;AAGe,SAAS;IACtB,MAAM,CAAC,eAAe,iBAAiB,GAAG,IAAA,8RAAQ,EAAgC;IACpF,MAAM,QAAQ,6OAAO,CAAC,GAAG,CAAC;IACxB,IAAA,+RAAS,EAAC;QACR,IAAI,CAAC,OAAO;QAEZ,MAAM,cAAc;YAClB,IAAI;gBACF,MAAM,MAAM,MAAM,MAAM,wGAAmC,aAAa,CAAC;gBACzE,MAAM,OAAyB,MAAM,IAAI,IAAI;gBAC7C,IAAI,MAAM,MAAM,mBAAmB;oBACjC,iBAAiB,IAAA,qPAAU,EAAC,KAAK,IAAI,CAAC,iBAAiB;gBACzD;YACF,EAAE,OAAO,KAAK,CACd;QACF;QACA;IACF,GAAG;QAAC;KAAM;IAEV,IAAI,CAAC,eAAe;QAClB,qBAAO,2TAAC;sBAAI;;;;;kBAAyB,4BAA4B;IACnE;IAEA,qBACE,2TAAC,6QAAQ;QAAC,QAAQ;kBAChB,cAAA,2TAAC;;;;;;;;;;AAGP","debugId":null}},
    {"offset": {"line": 1335, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Renz-Lunci/Desktop/Rx/%20Technology/Repository/lakaw-socmed-Website/src/app/Gift/PaymentGatewayOptions.tsx"],"sourcesContent":["\"use client\";\r\nimport React, { useState } from \"react\";\r\nimport Image from \"next/image\";\r\nimport CustomDialog from \"../components/CustomDialog\";\r\nimport { useAppDispatch, useAppSelector } from \"../utils/hooks\";\r\nimport { hideModal } from \"../store/Slice/ModalsSlice\";\r\nimport GPayPayment from \"./GPayPayment\";\r\nimport PaymentWithPaypal from \"./PaymentWithPaypal\";\r\nimport PaymentWithStripe from \"./PaymentWithStripe\";\r\n\r\nfunction PaymentGatewayOptions() {\r\n  const [selected, setSelected] = useState<string>(\"\");\r\n  const [showPayment, setShowPayment] = useState(false);\r\n\r\n  const open = useAppSelector((state) => state.modals.PaymentGateway);\r\n  const dispatch = useAppDispatch();\r\n\r\n  const paymentMethods = [\r\n    { id: \"stripe\", name: \"Stripe\", logo: \"/gift/StripeLogo.png\" },\r\n    { id: \"gpay\", name: \"Google Pay\", logo: \"/gift/GooglePayLogo.png\" },\r\n    { id: \"paypal\", name: \"Paypal\", logo: \"/gift/PaypalLogo.png\" },\r\n  ];\r\n\r\n  const handlePayNow = () => {\r\n    if (!selected) {\r\n      alert(\"Please select a payment method first!\");\r\n      return;\r\n    }\r\n    setShowPayment(true);\r\n  };\r\n\r\n  const renderPaymentUI = () => {\r\n    switch (selected) {\r\n      case \"stripe\":\r\n        return <PaymentWithStripe />;\r\n      case \"gpay\":\r\n        return <GPayPayment />;\r\n      case \"paypal\":\r\n        return <PaymentWithPaypal />;\r\n      default:\r\n        return null;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <CustomDialog\r\n      open={open}\r\n      onClose={() => {\r\n        setShowPayment(false);\r\n        dispatch(hideModal(\"PaymentGateway\"));\r\n      }}\r\n      // Dynamically change modal width\r\n      width={showPayment && selected === \"stripe\" ? \"600px\" : \"450px\"}\r\n      title={!showPayment ? \"Payment Methods\" : \"Payment\"}\r\n    >\r\n      <div className=\"flex flex-col gap-6 p-4 py-8\">\r\n        {!showPayment ? (\r\n          <>\r\n            {/* Payment methods list */}\r\n            <div className=\"flex flex-col gap-4\">\r\n              {paymentMethods.map((method) => (\r\n                <div\r\n                  key={method.id}\r\n                  onClick={() => setSelected(method.id)}\r\n                  className={`flex items-center justify-between border rounded-xl px-4 py-3 cursor-pointer transition \r\n                  ${\r\n                    selected === method.id\r\n                      ? \"border-main-green bg-main-green/[0.04]\"\r\n                      : \"border-gray-300\"\r\n                  }`}\r\n                >\r\n                  <div className=\"flex items-center gap-3\">\r\n                    <Image\r\n                      src={method.logo}\r\n                      alt={method.name}\r\n                      height={24}\r\n                      width={24}\r\n                    />\r\n                    <p className=\"text-dark text-sm font-medium\">\r\n                      {method.name}\r\n                    </p>\r\n                  </div>\r\n                  <input\r\n                    type=\"radio\"\r\n                    checked={selected === method.id}\r\n                    onChange={() => setSelected(method.id)}\r\n                    className=\"w-4 h-4 accent-main-green\"\r\n                  />\r\n                </div>\r\n              ))}\r\n            </div>\r\n\r\n            {/* Pay Now button */}\r\n            <button\r\n              onClick={handlePayNow}\r\n              className=\"w-3/4 mx-auto mt-4 rounded-xl bg-main-green text-primary py-2\"\r\n            >\r\n              Recharge\r\n            </button>\r\n          </>\r\n        ) : (\r\n          <div className=\"flex flex-col items-center gap-6\">\r\n            {renderPaymentUI()}\r\n          </div>\r\n        )}\r\n      </div>\r\n    </CustomDialog>\r\n  );\r\n}\r\n\r\nexport default PaymentGatewayOptions;\r\n"],"names":[],"mappings":";;;;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AARA;;;;;;;;;;AAUA,SAAS;IACP,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,8RAAQ,EAAS;IACjD,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,8RAAQ,EAAC;IAE/C,MAAM,OAAO,IAAA,4NAAc,EAAC,CAAC,QAAU,MAAM,MAAM,CAAC,cAAc;IAClE,MAAM,WAAW,IAAA,4NAAc;IAE/B,MAAM,iBAAiB;QACrB;YAAE,IAAI;YAAU,MAAM;YAAU,MAAM;QAAuB;QAC7D;YAAE,IAAI;YAAQ,MAAM;YAAc,MAAM;QAA0B;QAClE;YAAE,IAAI;YAAU,MAAM;YAAU,MAAM;QAAuB;KAC9D;IAED,MAAM,eAAe;QACnB,IAAI,CAAC,UAAU;YACb,MAAM;YACN;QACF;QACA,eAAe;IACjB;IAEA,MAAM,kBAAkB;QACtB,OAAQ;YACN,KAAK;gBACH,qBAAO,2TAAC,gOAAiB;;;;;YAC3B,KAAK;gBACH,qBAAO,2TAAC,0NAAW;;;;;YACrB,KAAK;gBACH,qBAAO,2TAAC,gOAAiB;;;;;YAC3B;gBACE,OAAO;QACX;IACF;IAEA,qBACE,2TAAC,iOAAY;QACX,MAAM;QACN,SAAS;YACP,eAAe;YACf,SAAS,IAAA,sOAAS,EAAC;QACrB;QACA,iCAAiC;QACjC,OAAO,eAAe,aAAa,WAAW,UAAU;QACxD,OAAO,CAAC,cAAc,oBAAoB;kBAE1C,cAAA,2TAAC;YAAI,WAAU;sBACZ,CAAC,4BACA;;kCAEE,2TAAC;wBAAI,WAAU;kCACZ,eAAe,GAAG,CAAC,CAAC,uBACnB,2TAAC;gCAEC,SAAS,IAAM,YAAY,OAAO,EAAE;gCACpC,WAAW,CAAC;kBACZ,EACE,aAAa,OAAO,EAAE,GAClB,2CACA,mBACJ;;kDAEF,2TAAC;wCAAI,WAAU;;0DACb,2TAAC,qNAAK;gDACJ,KAAK,OAAO,IAAI;gDAChB,KAAK,OAAO,IAAI;gDAChB,QAAQ;gDACR,OAAO;;;;;;0DAET,2TAAC;gDAAE,WAAU;0DACV,OAAO,IAAI;;;;;;;;;;;;kDAGhB,2TAAC;wCACC,MAAK;wCACL,SAAS,aAAa,OAAO,EAAE;wCAC/B,UAAU,IAAM,YAAY,OAAO,EAAE;wCACrC,WAAU;;;;;;;+BAxBP,OAAO,EAAE;;;;;;;;;;kCA+BpB,2TAAC;wBACC,SAAS;wBACT,WAAU;kCACX;;;;;;;6CAKH,2TAAC;gBAAI,WAAU;0BACZ;;;;;;;;;;;;;;;;AAMb;uCAEe","debugId":null}},
    {"offset": {"line": 1513, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Renz-Lunci/Desktop/Rx/%20Technology/Repository/lakaw-socmed-Website/src/app/Gift/RechargeSuccessful.tsx"],"sourcesContent":["\"use client\"\r\nimport CustomDialog from \"../components/CustomDialog\";\r\nimport { useAppDispatch, useAppSelector } from \"../utils/hooks\";\r\nimport { hideModal } from \"../store/Slice/ModalsSlice\";\r\nimport Image from \"next/image\";\r\nimport { motion } from \"framer-motion\";\r\nimport Confetti from \"react-confetti\";\r\n\r\nfunction RechargeSuccessful() {\r\n  const dispatch = useAppDispatch();\r\n  const open = useAppSelector((state) => state.modals.RechargeSuccessful);\r\n  const totalCoinsAdded = useAppSelector((state) => state.transactionPlans.total_money);\r\n\r\n  return (\r\n    <>\r\n      <CustomDialog\r\n        open={open}\r\n        onClose={() => dispatch(hideModal(\"RechargeSuccessful\"))}\r\n        width=\"420px\"\r\n      >\r\n        <Confetti\r\n          initialVelocityX={6}\r\n          initialVelocityY={10}\r\n          width={420}\r\n          height={320}\r\n        />\r\n        <div className=\"relative flex flex-col items-center justify-center min-h-[320px] p-4 overflow-hidden\">\r\n          {/* Main coin */}\r\n          <motion.div\r\n            animate={{ scale: [1, 1.2, 1] }}\r\n            transition={{\r\n              duration: 1.2,\r\n              repeat: Infinity,\r\n              repeatType: \"loop\",\r\n              ease: \"easeInOut\",\r\n            }}\r\n            className=\"background-opacityGradient p-0.5 rounded-full w-20 h-20 flex items-center justify-center z-10\"\r\n          >\r\n\r\n            <Image\r\n              src={\"/profile/coin.png\"}\r\n              alt=\"coin\"\r\n              width={140}\r\n              height={140}\r\n              className=\"rounded-full p-3\"\r\n            />\r\n          </motion.div>\r\n\r\n          {/* Coin balance */}\r\n          <div className=\"rounded-2xl background-opacityGradient flex items-center gap-2 px-3 py-1.5 mt-4 z-10\">\r\n            <Image src=\"/profile/coin.png\" alt=\"coin\" width={20} height={20} />\r\n            <p className=\"font-medium text-[12px] text-dark\">{totalCoinsAdded}</p>\r\n          </div>\r\n\r\n          {/* Title */}\r\n          <h3 className=\"text-xl font-semibold text-dark text-center mt-4 z-10\">\r\n            Recharge Successful\r\n          </h3>\r\n\r\n          {/* Description */}\r\n          <p className=\"text-[#656565] w-52 text-sm text-center mt-2 z-10\">\r\n            Recharge successful â€“ Enjoy uninterrupted service!\r\n          </p>\r\n        </div>\r\n      </CustomDialog>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default RechargeSuccessful;\r\n"],"names":[],"mappings":";;;;;AACA;AACA;AACA;AACA;AACA;AACA;AANA;;;;;;;;AAQA,SAAS;IACP,MAAM,WAAW,IAAA,4NAAc;IAC/B,MAAM,OAAO,IAAA,4NAAc,EAAC,CAAC,QAAU,MAAM,MAAM,CAAC,kBAAkB;IACtE,MAAM,kBAAkB,IAAA,4NAAc,EAAC,CAAC,QAAU,MAAM,gBAAgB,CAAC,WAAW;IAEpF,qBACE;kBACE,cAAA,2TAAC,iOAAY;YACX,MAAM;YACN,SAAS,IAAM,SAAS,IAAA,sOAAS,EAAC;YAClC,OAAM;;8BAEN,2TAAC,uPAAQ;oBACP,kBAAkB;oBAClB,kBAAkB;oBAClB,OAAO;oBACP,QAAQ;;;;;;8BAEV,2TAAC;oBAAI,WAAU;;sCAEb,2TAAC,iRAAM,CAAC,GAAG;4BACT,SAAS;gCAAE,OAAO;oCAAC;oCAAG;oCAAK;iCAAE;4BAAC;4BAC9B,YAAY;gCACV,UAAU;gCACV,QAAQ;gCACR,YAAY;gCACZ,MAAM;4BACR;4BACA,WAAU;sCAGV,cAAA,2TAAC,qNAAK;gCACJ,KAAK;gCACL,KAAI;gCACJ,OAAO;gCACP,QAAQ;gCACR,WAAU;;;;;;;;;;;sCAKd,2TAAC;4BAAI,WAAU;;8CACb,2TAAC,qNAAK;oCAAC,KAAI;oCAAoB,KAAI;oCAAO,OAAO;oCAAI,QAAQ;;;;;;8CAC7D,2TAAC;oCAAE,WAAU;8CAAqC;;;;;;;;;;;;sCAIpD,2TAAC;4BAAG,WAAU;sCAAwD;;;;;;sCAKtE,2TAAC;4BAAE,WAAU;sCAAoD;;;;;;;;;;;;;;;;;;;AAO3E;uCAEe","debugId":null}},
    {"offset": {"line": 1648, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Renz-Lunci/Desktop/Rx/%20Technology/Repository/lakaw-socmed-Website/src/app/Gift/MyGifts.tsx"],"sourcesContent":["\"use client\";\r\nimport React, { useEffect, useRef } from \"react\";\r\nimport Image from \"next/image\";\r\nimport { useAppDispatch, useAppSelector } from \"../utils/hooks\";\r\nimport { hideModal } from \"../store/Slice/ModalsSlice\";\r\nimport CustomDialog from \"../components/CustomDialog\";\r\nimport { useReceivedGifts } from \"../store/api/getReceivedGifts\";\r\nimport { ClipLoader } from \"react-spinners\";\r\n\r\nfunction MyGifts() {\r\n  const open = useAppSelector((state) => state.modals.MyGifts);\r\n  const socialId = useAppSelector((state) => state.selectedReel.ReelId);\r\n  const receiverId = useAppSelector((state) => state.userId.user_id);\r\n  const dispatch = useAppDispatch();\r\n\r\n  const {\r\n    data,\r\n    fetchNextPage,\r\n    hasNextPage,\r\n    isFetchingNextPage,\r\n    isLoading,\r\n    isError,\r\n  } = useReceivedGifts(socialId, receiverId);\r\n\r\n  const loaderRef = useRef<HTMLDivElement | null>(null);\r\n\r\n  // Intersection Observer for infinite scroll\r\n  useEffect(() => {\r\n    if (!loaderRef.current || !hasNextPage) return;\r\n\r\n    const observer = new IntersectionObserver(\r\n      (entries) => {\r\n        if (entries[0].isIntersecting && hasNextPage) {\r\n          fetchNextPage();\r\n        }\r\n      },\r\n      { threshold: 1 }\r\n    );\r\n\r\n    observer.observe(loaderRef.current);\r\n\r\n    return () => {\r\n      if (loaderRef.current) observer.unobserve(loaderRef.current);\r\n    };\r\n  }, [fetchNextPage, hasNextPage]);\r\n\r\n  const allGifts = data?.pages.flatMap((page) => page.data.Records) || [];\r\n\r\n  return (\r\n    <CustomDialog\r\n      open={open}\r\n      onClose={() => dispatch(hideModal(\"MyGifts\"))}\r\n      width=\"420px\"\r\n      title=\"Gift Received\"\r\n    >\r\n      <div className=\"max-h-[65vh] overflow-y-auto\">\r\n        {isLoading && <p className=\"text-center text-gray-500 py-4\">Loading...</p>}\r\n        {isError && (\r\n          <p className=\"text-center text-red-500 py-4\">Failed to load gifts.</p>\r\n        )}\r\n\r\n        {!isLoading && allGifts.length === 0 && (\r\n          <div className=\"flex flex-col justify-center items-center gap-1 py-14\">\r\n            <Image\r\n              src=\"/profile/NoGift.png\"\r\n              alt=\"no gift\"\r\n              width={100}\r\n              height={100}\r\n            />\r\n            <p className=\"text-sm font-normal text-dark\">\r\n              No Gifts Received Yet!!\r\n            </p>\r\n            <p className=\"text-gray text-sm\">Connect and your first gift might just arrive.</p>\r\n          </div>\r\n        )}\r\n\r\n        <div className=\"divide-y divide-gray-300\">\r\n          {allGifts.map((gift) => (\r\n            <div\r\n              key={gift.transaction_id}\r\n              className=\"flex justify-between items-center w-full py-2.5 px-4\"\r\n            >\r\n              {/* Sender */}\r\n              <div className=\"flex gap-3 items-center\">\r\n                <div className=\"w-10 h-10 rounded-full overflow-hidden\">\r\n                  <Image\r\n                    src={gift.sender?.profile_pic || \"/default-avatar.png\"}\r\n                    alt=\"sender\"\r\n                    width={48}\r\n                    height={48}\r\n                    className=\"object-cover\"\r\n                  />\r\n                </div>\r\n                <div className=\"flex flex-col\">\r\n                  <h2 className=\"text-sm font-semibold\">{gift.sender?.full_name}</h2>\r\n                  <p className=\"text-xs text-gray-500\">{gift.sender?.user_name}</p>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Gift */}\r\n              <div className=\"flex flex-col items-center gap-2\">\r\n                <Image\r\n                  src={gift.Gift?.gift_thumbnail || \"/default-gift.png\"}\r\n                  alt={gift.Gift?.name || \"gift\"}\r\n                  width={28}\r\n                  height={28}\r\n                  className=\"object-contain\"\r\n                />\r\n                <div className=\"flex items-center gap-1 bg-main-green/[0.3] py-1 px-3 rounded-full\">\r\n                  <Image src=\"/profile/coin.png\" alt=\"coin\" width={12} height={12} />\r\n                  <span className=\"text-xs font-medium text-dark\">{gift.gift_value}</span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n\r\n        {/* Infinite Scroll Loader */}\r\n        <div ref={loaderRef} className=\"h-4  flex justify-center items-center\">\r\n          {isFetchingNextPage && (\r\n            <ClipLoader color=\"#1A9D77\" size={15} />\r\n          )}\r\n        </div>\r\n      </div>\r\n    </CustomDialog>\r\n  );\r\n}\r\n\r\nexport default MyGifts;\r\n"],"names":[],"mappings":";;;;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAPA;;;;;;;;;AASA,SAAS;IACP,MAAM,OAAO,IAAA,4NAAc,EAAC,CAAC,QAAU,MAAM,MAAM,CAAC,OAAO;IAC3D,MAAM,WAAW,IAAA,4NAAc,EAAC,CAAC,QAAU,MAAM,YAAY,CAAC,MAAM;IACpE,MAAM,aAAa,IAAA,4NAAc,EAAC,CAAC,QAAU,MAAM,MAAM,CAAC,OAAO;IACjE,MAAM,WAAW,IAAA,4NAAc;IAE/B,MAAM,EACJ,IAAI,EACJ,aAAa,EACb,WAAW,EACX,kBAAkB,EAClB,SAAS,EACT,OAAO,EACR,GAAG,IAAA,gPAAgB,EAAC,UAAU;IAE/B,MAAM,YAAY,IAAA,4RAAM,EAAwB;IAEhD,4CAA4C;IAC5C,IAAA,+RAAS,EAAC;QACR,IAAI,CAAC,UAAU,OAAO,IAAI,CAAC,aAAa;QAExC,MAAM,WAAW,IAAI,qBACnB,CAAC;YACC,IAAI,OAAO,CAAC,EAAE,CAAC,cAAc,IAAI,aAAa;gBAC5C;YACF;QACF,GACA;YAAE,WAAW;QAAE;QAGjB,SAAS,OAAO,CAAC,UAAU,OAAO;QAElC,OAAO;YACL,IAAI,UAAU,OAAO,EAAE,SAAS,SAAS,CAAC,UAAU,OAAO;QAC7D;IACF,GAAG;QAAC;QAAe;KAAY;IAE/B,MAAM,WAAW,MAAM,MAAM,QAAQ,CAAC,OAAS,KAAK,IAAI,CAAC,OAAO,KAAK,EAAE;IAEvE,qBACE,2TAAC,iOAAY;QACX,MAAM;QACN,SAAS,IAAM,SAAS,IAAA,sOAAS,EAAC;QAClC,OAAM;QACN,OAAM;kBAEN,cAAA,2TAAC;YAAI,WAAU;;gBACZ,2BAAa,2TAAC;oBAAE,WAAU;8BAAiC;;;;;;gBAC3D,yBACC,2TAAC;oBAAE,WAAU;8BAAgC;;;;;;gBAG9C,CAAC,aAAa,SAAS,MAAM,KAAK,mBACjC,2TAAC;oBAAI,WAAU;;sCACb,2TAAC,qNAAK;4BACJ,KAAI;4BACJ,KAAI;4BACJ,OAAO;4BACP,QAAQ;;;;;;sCAEV,2TAAC;4BAAE,WAAU;sCAAgC;;;;;;sCAG7C,2TAAC;4BAAE,WAAU;sCAAoB;;;;;;;;;;;;8BAIrC,2TAAC;oBAAI,WAAU;8BACZ,SAAS,GAAG,CAAC,CAAC,qBACb,2TAAC;4BAEC,WAAU;;8CAGV,2TAAC;oCAAI,WAAU;;sDACb,2TAAC;4CAAI,WAAU;sDACb,cAAA,2TAAC,qNAAK;gDACJ,KAAK,KAAK,MAAM,EAAE,eAAe;gDACjC,KAAI;gDACJ,OAAO;gDACP,QAAQ;gDACR,WAAU;;;;;;;;;;;sDAGd,2TAAC;4CAAI,WAAU;;8DACb,2TAAC;oDAAG,WAAU;8DAAyB,KAAK,MAAM,EAAE;;;;;;8DACpD,2TAAC;oDAAE,WAAU;8DAAyB,KAAK,MAAM,EAAE;;;;;;;;;;;;;;;;;;8CAKvD,2TAAC;oCAAI,WAAU;;sDACb,2TAAC,qNAAK;4CACJ,KAAK,KAAK,IAAI,EAAE,kBAAkB;4CAClC,KAAK,KAAK,IAAI,EAAE,QAAQ;4CACxB,OAAO;4CACP,QAAQ;4CACR,WAAU;;;;;;sDAEZ,2TAAC;4CAAI,WAAU;;8DACb,2TAAC,qNAAK;oDAAC,KAAI;oDAAoB,KAAI;oDAAO,OAAO;oDAAI,QAAQ;;;;;;8DAC7D,2TAAC;oDAAK,WAAU;8DAAiC,KAAK,UAAU;;;;;;;;;;;;;;;;;;;2BA/B/D,KAAK,cAAc;;;;;;;;;;8BAuC9B,2TAAC;oBAAI,KAAK;oBAAW,WAAU;8BAC5B,oCACC,2TAAC,0RAAU;wBAAC,OAAM;wBAAU,MAAM;;;;;;;;;;;;;;;;;;;;;;AAM9C;uCAEe","debugId":null}}]
}