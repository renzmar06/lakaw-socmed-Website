{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Renz-Lunci/Downloads/TIKTOK%20%282%29/TIKTOK/reel-boost-website/src/app/profile/EditProfile.tsx"],"sourcesContent":["\"use client\";\r\nimport { useAppDispatch, useAppSelector } from \"../utils/hooks\";\r\nimport \"react-phone-input-2/lib/high-res.css\";\r\nimport PhoneInput, { CountryData } from \"react-phone-input-2\";\r\nimport { hideModal } from \"../store/Slice/ModalsSlice\";\r\nimport { toast } from \"react-toastify\";\r\nimport { useEffect, useRef, useState } from \"react\";\r\nimport { FaPlus } from \"react-icons/fa\";\r\nimport { ProjectConfigRes, UpdateUserRes } from \"../types/ResTypes\";\r\nimport useApiPost from \"../hooks/postData\";\r\nimport { updateUserData } from \"../store/Slice/UserDataSlice\";\r\nimport { useUserProfile } from \"../store/api/updateUser\";\r\nimport Cookies from \"js-cookie\";\r\nimport Image from \"next/image\";\r\nimport CustomDialog from \"../components/CustomDialog\";\r\n\r\nexport default function EditProfile() {\r\n  const dispatch = useAppDispatch();\r\n  const open = useAppSelector((state) => state.modals.EditProfile);\r\n  const { postData } = useApiPost();\r\n  const fileInputRef = useRef<HTMLInputElement>(null);\r\n\r\n  const handleImageClick = (e: React.MouseEvent<HTMLDivElement>) => {\r\n    e.preventDefault(); // prevents default behavior\r\n    if (fileInputRef.current) {\r\n      fileInputRef.current.click();\r\n    }\r\n  };\r\n  const [selectedImageFile, setSelectedImageFile] = useState<File | null>(null);\r\n  const [imagePreviewUrl, setImagePreviewUrl] = useState<string>(\"\"); // for showing preview\r\nconst token = Cookies.get(\"Reelboost_auth_token\")\r\n    const [mediaflow, setMediaflow] = useState<\"LOCAL\" | \"S3\" | string>(\"\");\r\n   useEffect(() => {\r\n    if (!token) return;\r\n\r\n    const fetchConfig = async () => {\r\n      try {\r\n        const res = await fetch(\r\n          `${process.env.NEXT_PUBLIC_API_URL}/project_conf`\r\n        );\r\n        const data: ProjectConfigRes = await res.json();\r\n        if (data?.data?.mediaflow) {\r\n          setMediaflow(data.data.mediaflow);\r\n        }\r\n      } catch (error) {\r\n      }\r\n    };\r\n    fetchConfig();\r\n  }, [token]);\r\n\r\n  const handleImageChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const file = e.target.files?.[0];\r\n    if (file) {\r\n      setSelectedImageFile(file);\r\n      setImagePreviewUrl(URL.createObjectURL(file));\r\n    }\r\n  };\r\n\r\n  interface FormDataType {\r\n    user_name: string;\r\n    first_name: string;\r\n    last_name: string;\r\n    email: string;\r\n    country_code: string;\r\n    mobile: string;\r\n    bio: string;\r\n  }\r\n\r\n  const [formData, setFormData] = useState<FormDataType>({\r\n    user_name: \"\",\r\n    first_name: \"\",\r\n    last_name: \"\",\r\n    email: \"\",\r\n    country_code: \"\",\r\n    mobile: \"\",\r\n    bio: \"\",\r\n  });\r\n\r\n\r\n  const { data: userData, isSuccess } = useUserProfile(token ?? \"\");\r\n\r\n  // Auto-populate form from query on success\r\n  useEffect(() => {\r\n    if (isSuccess && userData?.status && userData.data) {\r\n      const user = userData.data;\r\n\r\n      setFormData({\r\n        user_name: user.user_name || \"\",\r\n        first_name: user.first_name || \"\",\r\n        last_name: user.last_name || \"\",\r\n        email: user.email || \"\",\r\n        country_code: user.country_code || \"\",\r\n        mobile: user.mobile_num || \"\",\r\n        bio: user.bio || \"\",\r\n      });\r\n\r\n      // Set image preview to profile_pic\r\n      setImagePreviewUrl(user.profile_pic);\r\n    }\r\n  }, [isSuccess, userData, dispatch]);\r\n\r\n  const handleGetUserDetails = async () => {\r\n    try {\r\n      const submitData = new FormData();\r\n      submitData.append(\"user_name\", formData.user_name);\r\n      submitData.append(\"first_name\", formData.first_name);\r\n      submitData.append(\"last_name\", formData.last_name);\r\n      submitData.append(\"email\", formData.email);\r\n      submitData.append(\"country_code\", formData.country_code);\r\n      submitData.append(\"mobile\", formData.mobile);\r\n      submitData.append(\"bio\", formData.bio);\r\n\r\n      //  Send selected image as `files`\r\n      if (selectedImageFile) {\r\n        if (mediaflow === \"LOCAL\") {\r\n        submitData.append(\"files\", selectedImageFile);\r\n      } else {\r\n        submitData.append(\"file_media_1\", selectedImageFile);\r\n      }\r\n        submitData.append(\"files\", selectedImageFile);\r\n        submitData.append(\"pictureType\", \"profile_pic\");\r\n      }\r\n\r\n      const response: UpdateUserRes = await postData(\r\n        \"/users/updateUser\",\r\n        submitData,\r\n\r\n        \"multipart/form-data\"\r\n      );\r\n\r\n      if (response?.status) {\r\n        toast.success(\"Profile updated successfully\");\r\n        dispatch(updateUserData(response.data));\r\n        dispatch(hideModal(\"EditProfile\"));\r\n      } else {\r\n        toast.error(response?.message);\r\n      }\r\n    } catch (error) {\r\n      toast.error(\"Something went wrong\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {/* <Dialog\r\n        open={open}\r\n        onClose={() => dispatch(hideModal(\"EditProfile\"))}\r\n        fullWidth\r\n        PaperProps={{\r\n          sx: {\r\n            p: 0,\r\n            overflow: \"visible\",\r\n            borderRadius: 3,\r\n            maxHeight: \"90vh\",\r\n            width: \"430px\",\r\n            maxWidth: \"100%\",\r\n          },\r\n        }}\r\n        BackdropProps={{\r\n          sx: {\r\n            background: \"#000000BD\",\r\n          },\r\n        }}\r\n      > */}\r\n      <CustomDialog\r\n        open={open}\r\n        onClose={() => dispatch(hideModal(\"EditProfile\"))}\r\n        width=\"430px\"\r\n        title=\"Edit Profile\"\r\n      >\r\n        {/* Login Form ====================================================================================*/}\r\n        <div className=\"w-full  py-6\">\r\n          <form className=\"\">\r\n            <div className=\"max-h-[55vh] overflow-y-auto flex flex-col gap-4 px-7\">\r\n              {/* Profile Pic ================ */}\r\n              <div className=\"flex justify-center items-center w-full py-3.5\">\r\n                <input\r\n                  type=\"file\"\r\n                  accept=\"image/*\"\r\n                  className=\"hidden\"\r\n                  onChange={handleImageChange}\r\n                  ref={fileInputRef}\r\n                />\r\n\r\n                <div\r\n                  className=\"relative w-28 h-28 cursor-pointer\"\r\n                  onClick={handleImageClick}\r\n                >\r\n                  <Image\r\n                    src={imagePreviewUrl}\r\n                    alt=\"User\"\r\n                    className=\"w-full h-full object-cover rounded-full p-1 border border-main-green\"\r\n                    height={120}\r\n                    width={120}\r\n                  />\r\n\r\n                  <div className=\"absolute bottom-0 right-0 bg-main-green p-1 rounded-full border-4 border-primary z-10\">\r\n                    <FaPlus className=\"text-primary text-xs\" />\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Username =================== */}\r\n              <div className=\"flex flex-col gap-0.5\">\r\n                <label className=\"text-dark text-sm font-medium\">\r\n                  User Name\r\n                </label>\r\n\r\n                <div className=\"relative\">\r\n                  {/* Left Icon */}\r\n                  <div className=\"absolute left-2 top-1/2 transform -translate-y-1/2 p-2 rounded-full flex items-center justify-center background-opacityGradient\">\r\n                    <Image\r\n                      src=\"/signup/username.png\"\r\n                      alt=\"User\"\r\n                      width={20}\r\n                      height={20}\r\n                    />\r\n                  </div>\r\n\r\n                  {/* Right Verified Icon */}\r\n                  <div className=\"absolute right-3 top-1/2 transform -translate-y-1/2\">\r\n                    <Image\r\n                      src=\"/profile/verified.png\" // Replace with your actual verified icon path\r\n                      alt=\"Verified\"\r\n                      width={23}\r\n                      height={23}\r\n                    />\r\n                  </div>\r\n\r\n                  {/* Input (disabled) */}\r\n                  <input\r\n                    type=\"text\"\r\n                    className=\"border border-border-color background-opacityGradient rounded-lg w-full py-3.5 my-1 pl-16 pr-10 placeholder:text-gray text-xs bg-white focus:outline-none focus:ring-1 focus:ring-main-green  cursor-not-allowed\"\r\n                    placeholder=\"Enter Username\"\r\n                    value={formData.user_name}\r\n                    autoComplete=\"off\"\r\n                    autoCorrect=\"off\"\r\n                    spellCheck=\"false\"\r\n                    disabled\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n              {/* First Name ================== */}\r\n              <div className=\"flex flex-col gap-0.5\">\r\n                <label className=\"text-dark text-sm font-\">First Name</label>\r\n                <div className=\"relative\">\r\n                  <div className=\"absolute left-2 top-1/2 transform -translate-y-1/2 p-2 rounded-full flex items-center justify-center background-opacityGradient\">\r\n                    <Image\r\n                      src=\"/signup/name.png\"\r\n                      alt=\"User\"\r\n                      width={20}\r\n                      height={20}\r\n                    />\r\n                    {/* <CiUser className='w-5 h-5 text-custom' /> */}\r\n                  </div>\r\n                  <input\r\n                    type=\"text\"\r\n                    className=\"border border-border-color rounded-lg w-full py-3.5 my-1 pl-16 text-xs placeholder:text-gray bg-white focus:outline-none focus:ring-1 focus:ring-main-green\"\r\n                    placeholder=\"Enter First Name\"\r\n                    value={formData.first_name}\r\n                    autoComplete=\"off\"\r\n                    autoCorrect=\"off\"\r\n                    spellCheck=\"false\"\r\n                    onChange={(e) =>\r\n                      setFormData({ ...formData, first_name: e.target.value })\r\n                    }\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n              {/* Last Name ================== */}\r\n              <div className=\"flex flex-col gap-0.5\">\r\n                <label className=\"text-dark text-sm font-\">Last Name</label>\r\n                <div className=\"relative\">\r\n                  <div className=\"absolute left-2 top-1/2 transform -translate-y-1/2 p-2 rounded-full flex items-center justify-center background-opacityGradient\">\r\n                    <Image\r\n                      src=\"/signup/name.png\"\r\n                      alt=\"User\"\r\n                      height={20}\r\n                      width={20}\r\n                    />\r\n                    {/* <CiUser className='w-5 h-5 text-custom' /> */}\r\n                  </div>\r\n                  <input\r\n                    type=\"text\"\r\n                    className=\"border border-border-color rounded-lg w-full py-3.5 my-1 pl-16 text-xs placeholder:text-gray bg-white focus:outline-none focus:ring-1 focus:ring-main-green\"\r\n                    placeholder=\"Enter Last Name\"\r\n                    value={formData.last_name}\r\n                    autoComplete=\"off\"\r\n                    autoCorrect=\"off\"\r\n                    spellCheck=\"false\"\r\n                    onChange={(e) =>\r\n                      setFormData({ ...formData, last_name: e.target.value })\r\n                    }\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n              {/* Phone number ===================== */}\r\n              <div className=\"flex flex-col gap-0.5\">\r\n                <label className=\"text-dark text-sm font-medium\">\r\n                  Mobile Number\r\n                </label>\r\n                <div className=\"relative\">\r\n                  {/* Phone Input */}\r\n                  <PhoneInput\r\n                    containerClass={`pr-10 py-1.5 border border-border-color rounded-lg w-full text-xs placeholder:text-gray focus:outline-none focus:ring-1 focus:ring-main-green ${\r\n                      userData?.data.login_type === \"phone\"\r\n                        ? \"cursor-not-allowed background-opacityGradient\"\r\n                        : \"\"\r\n                    }`}\r\n                    inputClass=\"\"\r\n                    inputStyle={{\r\n                      background: \"transparent\", // remove white bg from the number area\r\n                      border: \"none\",\r\n                      width: \"100%\",\r\n                    }}\r\n                    buttonStyle={{\r\n                      background: \"transparent\", // remove white bg from country code button\r\n                      border: \"none\",\r\n                    }}\r\n                    placeholder=\"Mobile Number\"\r\n                    value={formData.country_code + formData.mobile}\r\n                    onChange={(value, data: CountryData) => {\r\n                      if (userData?.data.login_type !== \"phone\") {\r\n                        setFormData({\r\n                          ...formData,\r\n                          mobile: value.slice(data.dialCode.length),\r\n                          country_code: `+${data.dialCode}`,\r\n                        });\r\n                      }\r\n                    }}\r\n                    country={\"us\"}\r\n                    enableSearch\r\n                    disabled={userData?.data.login_type === \"phone\"}\r\n                  />\r\n\r\n                  {/* Right Icon (Verified) */}\r\n                  {userData?.data.login_type === \"phone\" && (\r\n                    <div className=\"absolute right-3 top-1/2 transform -translate-y-1/2\">\r\n                      <Image\r\n                        src=\"/profile/verified.png\"\r\n                        alt=\"Verified\"\r\n                        width={22}\r\n                        height={22}\r\n                      />\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              </div>\r\n\r\n              {/* Email */}\r\n              <div className=\"flex flex-col gap-0.5\">\r\n                <label className=\"text-dark text-sm font-medium\">Email</label>\r\n                <div className=\"relative\">\r\n                  {/* Left Icon */}\r\n                  <div className=\"absolute left-2 top-1/2 transform -translate-y-1/2 p-2 rounded-full flex items-center justify-center background-opacityGradient\">\r\n                    <Image\r\n                      src=\"/signup/email.png\"\r\n                      alt=\"Email\"\r\n                      width={20}\r\n                      height={20}\r\n                    />\r\n                  </div>\r\n\r\n                  {/* Verified Icon on Right */}\r\n                  {userData?.data.login_type === \"email\" && (\r\n                    <div className=\"absolute right-3 top-1/2 transform -translate-y-1/2\">\r\n                      <Image\r\n                        src=\"/profile/verified.png\"\r\n                        alt=\"Verified\"\r\n                        height={22}\r\n                        width={22}\r\n                      />\r\n                    </div>\r\n                  )}\r\n\r\n                  <input\r\n                    type=\"email\"\r\n                    className={`border border-border-color rounded-lg w-full py-3.5 my-1 pl-16 pr-10 text-xs placeholder:text-gray focus:outline-none focus:ring-1 focus:ring-main-green ${\r\n                      userData?.data.login_type === \"email\"\r\n                        ? \"cursor-not-allowed background-opacityGradient\"\r\n                        : \"\"\r\n                    }`}\r\n                    placeholder=\"Enter Email\"\r\n                    value={formData.email}\r\n                    autoComplete=\"off\"\r\n                    autoCorrect=\"off\"\r\n                    spellCheck=\"false\"\r\n                    onChange={(e) => {\r\n                      if (userData?.data.login_type !== \"email\") {\r\n                        setFormData({ ...formData, email: e.target.value });\r\n                      }\r\n                    }}\r\n                    disabled={userData?.data.login_type === \"email\"}\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n              {/* Bio ========================== */}\r\n              <div className=\"flex flex-col gap-0.5\">\r\n                <label className=\"\">Bio</label>\r\n                <div className=\"relative\">\r\n                  {/* Icon inside the textarea container */}\r\n                  <div className=\"absolute left-2 background-opacityGradient p-2 rounded-full top-2 flex items-center justify-center z-10\">\r\n                    <Image\r\n                      src=\"/signup/bio.png\"\r\n                      alt=\"User\"\r\n                      width={22}\r\n                      height={22}\r\n                    />\r\n                  </div>\r\n\r\n                  {/* Textarea with left padding to avoid overlap with icon */}\r\n                  <textarea\r\n                    rows={5}\r\n                    className=\"w-full border border-gray-300 rounded-md pl-16 pr-2 pt-4 pb-2 bg-white focus:outline-none focus:ring-1 focus:ring-main-green text-xs font-gilroy_regular placeholder:text-gray-400\"\r\n                    placeholder=\"Enter Bio\"\r\n                    value={formData.bio}\r\n                    onChange={(e) =>\r\n                      setFormData({ ...formData, bio: e.target.value })\r\n                    }\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"my-5 mx-5\">\r\n              <button\r\n                type=\"button\"\r\n                className=\"bg-main-green text-primary rounded-xl w-full py-3 font-normal text-sm cursor-pointer\"\r\n                onClick={() => {\r\n                  handleGetUserDetails();\r\n                }}\r\n              >\r\n                Submit\r\n              </button>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </CustomDialog>\r\n    </>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 659, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Renz-Lunci/Downloads/TIKTOK%20%282%29/TIKTOK/reel-boost-website/src/app/profile/MyFollowers.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { hideModal } from \"@/app/store/Slice/ModalsSlice\";\r\nimport { useAppDispatch, useAppSelector } from \"@/app/utils/hooks\";\r\nimport React, { useEffect, useRef } from \"react\";\r\nimport useApiPost from \"../hooks/postData\";\r\nimport { FollowersRes } from \"../types/FollowFollowingList\";\r\nimport { ClipLoader } from \"react-spinners\";\r\nimport { setUserId } from \"../store/Slice/UserIdHashtagIdSlice\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport Cookies from \"js-cookie\";\r\nimport { toast } from \"react-toastify\";\r\nimport {\r\n  decrementFollowing,\r\n  incrementFollowing,\r\n} from \"../store/Slice/FollowFollowingCount\";\r\nimport Image from \"next/image\";\r\nimport CustomDialog from \"../components/CustomDialog\";\r\nimport {\r\n  setFollowers,\r\n  appendFollowers,\r\n  setPage,\r\n  setHasMore,\r\n  setIsLoading,\r\n  setIsFetchingMore,\r\n  updateFollowStatus,\r\n  resetFollowers,\r\n} from \"../store/Slice/FollowersSlice\";\r\n\r\ninterface MyFollowersProps {\r\n  userId?: string | number;\r\n}\r\n\r\nfunction MyFollowers({ userId }: MyFollowersProps) {\r\n  const open = useAppSelector((state) => state.modals.MyFollowers);\r\n  const { followers, page, hasMore, isLoading, isFetchingMore } = useAppSelector(\r\n    (state) => state.followers\r\n  );\r\n\r\n  const dispatch = useAppDispatch();\r\n  const { postData } = useApiPost();\r\n  const fallbackUserId = Cookies.get(\"Reelboost_user_id\");\r\n  const finalUserId = userId || fallbackUserId;\r\n\r\n  const listRef = useRef<HTMLDivElement | null>(null);\r\n  const isFetchingRef = useRef(false);\r\n  const router = useRouter();\r\n\r\n  // Fetch followers\r\n  const fetchFollowers = async (pageNum: number, append = false) => {\r\n    if (!finalUserId || (!hasMore && append)) return;\r\n\r\n    try {\r\n      dispatch(pageNum === 1 ? setIsLoading(true) : setIsFetchingMore(true));\r\n      isFetchingRef.current = true;\r\n\r\n      const res: FollowersRes = await postData(\r\n        \"/follow/follow-following-list\",\r\n        {\r\n          page: pageNum,\r\n          type: \"follower\",\r\n          user_id: finalUserId,\r\n        }\r\n      );\r\n\r\n      if (res?.status === true) {\r\n        const newRecords = res.data.Records || [];\r\n        dispatch(append ? appendFollowers(newRecords) : setFollowers(newRecords));\r\n\r\n        const total = res.data?.Pagination?.total_records || 0;\r\n        const totalFetched =\r\n          (append ? followers.length : 0) + newRecords.length;\r\n        dispatch(setHasMore(totalFetched < total));\r\n      }\r\n    } catch (err) {\r\n      // toast.error(\"Failed to fetch followers\");\r\n    } finally {\r\n      dispatch(pageNum === 1 ? setIsLoading(false) : setIsFetchingMore(false));\r\n      isFetchingRef.current = false;\r\n    }\r\n  };\r\n\r\n  // On modal open\r\n  useEffect(() => {\r\n    if (open) {\r\n      dispatch(resetFollowers());\r\n      dispatch(setPage(1));\r\n      fetchFollowers(1, false);\r\n    }\r\n  }, [open, finalUserId]);\r\n\r\n  // Fetch when page increments\r\n  useEffect(() => {\r\n    if (page > 1) {\r\n      fetchFollowers(page, true);\r\n    }\r\n  }, [page]);\r\n\r\n  // Scroll handler (same as OtherUserFollowers)\r\n  const handleScroll = (e: React.UIEvent<HTMLDivElement>) => {\r\n    if (!hasMore || isFetchingRef.current) return;\r\n\r\n    const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\r\n    if (scrollHeight - scrollTop - clientHeight < 50) {\r\n      dispatch(setPage(page + 1));\r\n    }\r\n  };\r\n\r\n  // Navigate to user profile\r\n  const handleUserRoute = (userId: number) => {\r\n    dispatch(setUserId(userId));\r\n    dispatch(hideModal(\"MyFollowers\"));\r\n    router.push(`/profile/${userId}`);\r\n  };\r\n\r\n  // Follow/Unfollow\r\n  const handleFollowUnfollow = async (\r\n    targetUserId: number,\r\n    isFollowed: boolean\r\n  ) => {\r\n    try {\r\n      const res: FollowersRes = await postData(\"/follow/follow-unfollow\", {\r\n        user_id: targetUserId,\r\n      });\r\n\r\n      if (res.status === true) {\r\n        toast.success(res?.message);\r\n        dispatch(\r\n          updateFollowStatus({ userId: targetUserId, isFollowed: !isFollowed })\r\n        );\r\n        dispatch(isFollowed ? decrementFollowing() : incrementFollowing());\r\n      } else {\r\n        toast.error(res?.message);\r\n      }\r\n    } catch {\r\n      toast.error(\"Something went wrong\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <CustomDialog\r\n      open={open}\r\n      onClose={() => dispatch(hideModal(\"MyFollowers\"))}\r\n      width=\"420px\"\r\n    >\r\n      <div className=\"bg-primary py-6 rounded-xl\">\r\n        {/* Header */}\r\n        <div className=\"place-items-center pb-5\">\r\n          <p className=\"font-medium text-sm text-center font-gilroy_semibold text-dark\">\r\n            Followers\r\n          </p>\r\n          <div className=\"flex place-items-center justify-center\">\r\n            <div\r\n              className=\"w-10 h-[1.2px]\"\r\n              style={{\r\n                background:\r\n                  \"linear-gradient(141.72deg, #239C57 -1.01%, #019FC8 103.86%)\",\r\n              }}\r\n            ></div>\r\n            <div\r\n              className=\"rounded-full w-1.5 h-1.5\"\r\n              style={{\r\n                background:\r\n                  \"linear-gradient(141.72deg, #239C57 -1.01%, #019FC8 103.86%)\",\r\n              }}\r\n            ></div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Followers List */}\r\n        {isLoading ? (\r\n          <div className=\"flex justify-center place-items-center py-10\">\r\n            <ClipLoader color=\"#1A9D77\" size={15} />\r\n          </div>\r\n        ) : (\r\n          <div\r\n            ref={listRef}\r\n            onScroll={handleScroll}  // âœ… Trigger infinite scroll\r\n            className=\"mt-4 overflow-y-auto max-h-[550px] px-2 scrollbar-thin scrollbar-thumb-gray-300\"\r\n          >\r\n            {followers.length === 0 ? (\r\n              <div className=\"flex flex-col place-items-center justify-center py-8\">\r\n                <Image\r\n                  src=\"/home/Empty.png\"\r\n                  alt=\"empty\"\r\n                  height={80}\r\n                  width={80}\r\n                />\r\n                <p className=\"text-sm text-center text-gray-500\">\r\n                  No followers found.\r\n                </p>\r\n              </div>\r\n            ) : (\r\n              <>\r\n                {followers.map((record) => {\r\n                  const user = record.follower;\r\n                  return (\r\n                    <div\r\n                      key={record.follow_id}\r\n                      className=\"flex justify-between mb-4 px-4 place-items-center\"\r\n                    >\r\n                      <div\r\n                        className=\"flex gap-2 place-items-center cursor-pointer\"\r\n                        onClick={() => handleUserRoute(user.user_id)}\r\n                      >\r\n                        <div className=\"rounded-full w-[40px] h-[40px] bg-gray-200\">\r\n                          <Image\r\n                            src={user.profile_pic}\r\n                            className=\"w-full h-full object-cover rounded-full\"\r\n                            alt={user.user_name}\r\n                            height={40}\r\n                            width={40}\r\n                          />\r\n                        </div>\r\n                        <div className=\"flex flex-col\">\r\n                          <h3 className=\"text-xs text-dark\">\r\n                            {user.user_name}\r\n                          </h3>\r\n                          <p className=\"text-[10px] font-normal text-gray\">\r\n                            {user.full_name}\r\n                          </p>\r\n                        </div>\r\n                      </div>\r\n\r\n                      <button\r\n                        className={`cursor-pointer rounded-xl text-[10px] font-normal w-20 py-1 ${\r\n                          record.isFollowed\r\n                            ? \"border border-main-green text-main-green\"\r\n                            : \"bg-main-green text-primary\"\r\n                        }`}\r\n                        onClick={() =>\r\n                          handleFollowUnfollow(user.user_id, record.isFollowed)\r\n                        }\r\n                      >\r\n                        {record.isFollowed ? \"Following\" : \"Follow Back\"}\r\n                      </button>\r\n                    </div>\r\n                  );\r\n                })}\r\n                {isFetchingMore && (\r\n                  <div className=\"flex justify-center py-4\">\r\n                    <ClipLoader color=\"#1A9D77\" size={15} />\r\n                  </div>\r\n                )}\r\n              </>\r\n            )}\r\n          </div>\r\n        )}\r\n      </div>\r\n    </CustomDialog>\r\n  );\r\n}\r\n\r\nexport default MyFollowers;\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 992, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Renz-Lunci/Downloads/TIKTOK%20%282%29/TIKTOK/reel-boost-website/src/app/profile/MyFollowing.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useAppDispatch, useAppSelector } from \"@/app/utils/hooks\";\r\nimport React, { useEffect, useRef } from \"react\";\r\nimport useApiPost from \"../hooks/postData\";\r\nimport { FollowingRecord, FollowingRes } from \"../types/FollowFollowingList\";\r\nimport { ClipLoader } from \"react-spinners\";\r\nimport { setUserId } from \"../store/Slice/UserIdHashtagIdSlice\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport { toast } from \"react-toastify\";\r\nimport {\r\n  decrementFollowing,\r\n  incrementFollowing,\r\n} from \"../store/Slice/FollowFollowingCount\";\r\nimport Image from \"next/image\";\r\nimport { hideModal } from \"@/app/store/Slice/ModalsSlice\";\r\nimport { updateCurrentConversation } from \"../store/Slice/CurrentConversationSlice\";\r\nimport {\r\n  clearMessageList,\r\n  updateMessageList,\r\n} from \"../store/Slice/MessageListSlice\";\r\nimport { resetPagination, updatePagination } from \"../store/Slice/MessageOptionsSlice\";\r\nimport { socketInstance } from \"../socket/socket\";\r\nimport { MessageListRes } from \"../types/MessageListType\";\r\nimport CustomDialog from \"../components/CustomDialog\";\r\nimport {\r\n  setFollowing,\r\n  appendFollowing,\r\n  setPage,\r\n  setTotalPages,\r\n  setHasMore,\r\n  setIsLoading,\r\n  setIsFetchingMore,\r\n  updateFollowStatus,\r\n  resetFollowing,\r\n} from \"../store/Slice/FollowingSlice\";\r\n\r\nfunction MyFollowing() {\r\n  const open = useAppSelector((state) => state.modals.MyFollowing);\r\n  const { following, page, hasMore, isLoading, isFetchingMore } =\r\n    useAppSelector((state) => state.following);\r\n  const chatList = useAppSelector((state) => state.chatList);\r\n\r\n  const dispatch = useAppDispatch();\r\n  const { postData } = useApiPost();\r\n  const containerRef = useRef<HTMLDivElement | null>(null);\r\n  const isFetchingRef = useRef(false); // Prevent multiple fetches\r\n  const router = useRouter();\r\n\r\n  // Fetch following API\r\n  const fetchFollowing = async (pageNum: number, append = false) => {\r\n    // guard: no more pages, avoid redundant fetch\r\n    if (append && !hasMore) return;\r\n\r\n    try {\r\n      // set UI loading flags\r\n      if (pageNum === 1) dispatch(setIsLoading(true));\r\n      else dispatch(setIsFetchingMore(true));\r\n\r\n      // mark fetching to avoid duplicate triggers\r\n      isFetchingRef.current = true;\r\n\r\n      const res: FollowingRes = await postData(\"/follow/follow-following-list\", {\r\n        page: pageNum,\r\n        type: \"following\",\r\n      });\r\n\r\n      if (res?.status) {\r\n        const newRecords = res.data.Records || [];\r\n\r\n        if (pageNum === 1) {\r\n          dispatch(setFollowing(newRecords));\r\n        } else {\r\n          dispatch(appendFollowing(newRecords));\r\n        }\r\n\r\n        const pagination = res.data?.Pagination;\r\n        const totalPagesFromApi = pagination?.total_pages || 1;\r\n        const currentPageFromApi = pagination?.current_page || pageNum;\r\n\r\n        dispatch(setTotalPages(totalPagesFromApi));\r\n        // if current < total => has more\r\n        dispatch(setHasMore(currentPageFromApi < totalPagesFromApi));\r\n      } else {\r\n        toast.error(res?.message || \"Failed to fetch following\");\r\n      }\r\n    } catch (err) {\r\n      toast.error(\"Failed to fetch following\");\r\n    } finally {\r\n      if (pageNum === 1) dispatch(setIsLoading(false));\r\n      else dispatch(setIsFetchingMore(false));\r\n      isFetchingRef.current = false;\r\n    }\r\n  };\r\n\r\n  // On modal open -> reset + fetch first page\r\n  useEffect(() => {\r\n    if (open) {\r\n      dispatch(resetFollowing());\r\n      dispatch(setPage(1));\r\n      // fetch first page directly\r\n      fetchFollowing(1, false);\r\n    }\r\n    // intentionally depend only on `open` so it runs when modal opens\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [open]);\r\n\r\n  // When page increments (due to scroll) -> fetch that page (append)\r\n  useEffect(() => {\r\n    // do not fetch when page is 1 (we already fetched on open)\r\n    if (page > 1) {\r\n      fetchFollowing(page, true);\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [page]);\r\n\r\n  // Scroll handler using 50px threshold; sets page safely\r\n  const handleScroll = (e: React.UIEvent<HTMLDivElement>) => {\r\n    const el = e.currentTarget;\r\n    const { scrollTop, scrollHeight, clientHeight } = el;\r\n\r\n    // near bottom if remaining space is less than 50px\r\n    const remaining = scrollHeight - scrollTop - clientHeight;\r\n    if (remaining < 50 && hasMore && !isFetchingRef.current) {\r\n      // set lock immediately to prevent multiple dispatches until fetch starts\r\n      isFetchingRef.current = true;\r\n      dispatch(setPage(page + 1));\r\n    }\r\n  };\r\n\r\n  // Follow/Unfollow handler\r\n  const handleFollowUnfollow = async (targetUserId: number, isFollowed: boolean) => {\r\n    try {\r\n      const res: FollowingRes = await postData(\"/follow/follow-unfollow\", {\r\n        user_id: targetUserId,\r\n      });\r\n\r\n      if (res.status) {\r\n        toast.success(res?.message);\r\n        dispatch(updateFollowStatus({ userId: targetUserId, isFollowed: !isFollowed }));\r\n        dispatch(isFollowed ? decrementFollowing() : incrementFollowing());\r\n      } else {\r\n        toast.error(res?.message);\r\n      }\r\n\r\n      // close modal after action (as you did previously)\r\n      dispatch(hideModal(\"MyFollowing\"));\r\n    } catch (err) {\r\n      toast.error(\"Something went wrong\");\r\n    }\r\n  };\r\n\r\n  // Message user (keeps your existing logic)\r\n  const handleMessage = async (targetUser: FollowingRecord[\"User\"]) => {\r\n    dispatch(hideModal(\"MyFollowing\"));\r\n\r\n    const existingChat = Array.isArray(chatList)\r\n      ? chatList.find((chat) => chat.PeerUserData.user_id === targetUser.user_id)\r\n      : null;\r\n\r\n    const socket = socketInstance();\r\n\r\n    // dispatch(clearMessageList());\r\n    dispatch(resetPagination());\r\n\r\n    if (existingChat && existingChat.Records.length > 0) {\r\n      const record = existingChat.Records[0];\r\n\r\n      dispatch(\r\n        updateCurrentConversation({\r\n          ...record,\r\n          PeerUserData: existingChat.PeerUserData,\r\n        })\r\n      );\r\n\r\n      if (socket) {\r\n        socket.off(\"message_list\");\r\n        const handleMessageList = (res: MessageListRes) => {\r\n          dispatch(updateMessageList(res.Records));\r\n          dispatch(\r\n            updatePagination({\r\n              currentPage: res.Pagination.current_page,\r\n              totalPages: res.Pagination.total_pages,\r\n            })\r\n          );\r\n        };\r\n\r\n        socket.on(\"message_list\", handleMessageList);\r\n      }\r\n    } else {\r\n      dispatch(\r\n        updateCurrentConversation({\r\n          chat_id: 0,\r\n          PeerUserData: {\r\n      ...targetUser,\r\n      createdAt: new Date().toISOString(), // fallback for missing property\r\n    },\r\n          Messages: [],\r\n          isNewConversation: true,\r\n        })\r\n      );\r\n    }\r\n\r\n    router.push(\"/message\");\r\n  };\r\n  \r\n\r\n  const handleUserRoute = (userId: number) => {\r\n    dispatch(setUserId(userId));\r\n    dispatch(hideModal(\"MyFollowing\"));\r\n    router.push(`/profile/${userId}`);\r\n  };\r\n\r\n  return (\r\n    <CustomDialog\r\n      open={open}\r\n      onClose={() => dispatch(hideModal(\"MyFollowing\"))}\r\n      width=\"420px\"\r\n    >\r\n      <div className=\"bg-primary py-6 rounded-xl\">\r\n        {/* Header */}\r\n        <div className=\"place-items-center pb-5\">\r\n          <p className=\"font-medium text-sm text-center font-gilroy_semibold text-dark\">\r\n            Following\r\n          </p>\r\n          <div className=\"flex place-items-center justify-center\">\r\n            <div\r\n              className=\"w-10 h-[1.2px]\"\r\n              style={{\r\n                background:\r\n                  \"linear-gradient(141.72deg, #239C57 -1.01%, #019FC8 103.86%)\",\r\n              }}\r\n            />\r\n            <div\r\n              className=\"rounded-full w-1.5 h-1.5\"\r\n              style={{\r\n                background:\r\n                  \"linear-gradient(141.72deg, #239C57 -1.01%, #019FC8 103.86%)\",\r\n              }}\r\n            />\r\n          </div>\r\n        </div>\r\n\r\n        {/* Following List */}\r\n        {isLoading ? (\r\n          <div className=\"flex justify-center py-8\">\r\n            <ClipLoader color=\"#1A9D77\" size={20} />\r\n          </div>\r\n        ) : (\r\n          <div\r\n            ref={containerRef}\r\n            onScroll={handleScroll}\r\n            className=\"mt-4 overflow-y-auto max-h-[550px] px-6 scrollbar-thin scrollbar-thumb-gray-300\"\r\n          >\r\n            {following.length === 0 ? (\r\n              <div className=\"flex flex-col place-items-center justify-center py-8\">\r\n                <Image src=\"/home/Empty.png\" alt=\"empty\" width={80} height={80} />\r\n                <p className=\"text-sm text-center text-gray-500\">\r\n                  Not following anyone yet.\r\n                </p>\r\n              </div>\r\n            ) : (\r\n              <>\r\n                {following.map((record) => {\r\n                  const user = record.User;\r\n                  return (\r\n                    <div\r\n                      key={record.follow_id}\r\n                      className=\"flex justify-between mb-4 place-items-center\"\r\n                    >\r\n                      <div\r\n                        className=\"flex gap-2 place-items-center cursor-pointer\"\r\n                        onClick={() => handleUserRoute(record.user_id)}\r\n                      >\r\n                        <div className=\"rounded-full w-[40px] h-[40px] overflow-hidden bg-gray-200\">\r\n                          <Image\r\n                            src={user.profile_pic || \"/default-avatar.png\"}\r\n                            className=\"w-full h-full object-cover\"\r\n                            alt={user.user_name}\r\n                            width={60}\r\n                            height={60}\r\n                          />\r\n                        </div>\r\n                        <div className=\"flex flex-col\">\r\n                          <h3 className=\"text-xs text-dark\">\r\n                            {user.user_name || \"username\"}\r\n                          </h3>\r\n                          <p className=\"text-[10px] font-normal text-gray\">\r\n                            {user.full_name}\r\n                          </p>\r\n                        </div>\r\n                      </div>\r\n\r\n                      {record.isFollowed ? (\r\n                        <button\r\n                          className=\"cursor-pointer text-[10px] font-normal rounded-xl w-16 py-1 bg-transparent border border-main-green text-main-green\"\r\n                          onClick={() => handleMessage(user)}\r\n                        >\r\n                          Message\r\n                        </button>\r\n                      ) : (\r\n                        <button\r\n                          className=\"cursor-pointer text-[10px] font-normal rounded-xl w-16 py-1 bg-main-green text-primary\"\r\n                          onClick={() =>\r\n                            handleFollowUnfollow(record.user_id, record.isFollowed)\r\n                          }\r\n                        >\r\n                          Follow\r\n                        </button>\r\n                      )}\r\n                    </div>\r\n                  );\r\n                })}\r\n                {isFetchingMore && (\r\n                  <div className=\"flex justify-center py-4\">\r\n                    <ClipLoader color=\"#1A9D77\" size={15} />\r\n                  </div>\r\n                )}\r\n              </>\r\n            )}\r\n          </div>\r\n        )}\r\n      </div>\r\n    </CustomDialog>\r\n  );\r\n}\r\n\r\nexport default MyFollowing;\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1397, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Renz-Lunci/Downloads/TIKTOK%20%282%29/TIKTOK/reel-boost-website/src/app/profile/OtherUserFollowers.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport React, { useEffect, useCallback } from \"react\";\r\nimport { ClipLoader } from \"react-spinners\";\r\nimport { toast } from \"react-toastify\";\r\nimport Image from \"next/image\";\r\nimport Cookies from \"js-cookie\";\r\nimport { useRouter } from \"next/navigation\";\r\n\r\nimport CustomDialog from \"../components/CustomDialog\";\r\nimport { hideModal } from \"@/app/store/Slice/ModalsSlice\";\r\nimport { setUserId } from \"../store/Slice/UserIdHashtagIdSlice\";\r\nimport { useAppDispatch, useAppSelector } from \"@/app/utils/hooks\";\r\nimport useApiPost from \"../hooks/postData\";\r\nimport {\r\n  setFollowers,\r\n  appendFollowers,\r\n  setPage,\r\n  setHasMore,\r\n  setIsLoading,\r\n  setIsFetchingMore,\r\n  updateFollowStatus,\r\n  resetFollowers,\r\n} from \"../store/Slice/FollowersSlice\";\r\nimport { FollowersRes, FollowerRecord } from \"../types/FollowFollowingList\";\r\n\r\nfunction OtherUserFollowers() {\r\n  const open = useAppSelector((state) => state.modals.OtherUserFollowers);\r\n  const dispatch = useAppDispatch();\r\n  const { postData } = useApiPost();\r\n  const router = useRouter();\r\n\r\n  const { followers, page, hasMore, isLoading, isFetchingMore } =\r\n    useAppSelector((state) => state.followers);\r\n\r\n  // âœ… Always use OtherUserId from Redux\r\n  const otherUserId = useAppSelector((state) => state.userId.user_id);\r\n\r\n  // âœ… My userId only for hiding follow button\r\n  const MyUserId = Cookies.get(\"Reelboost_user_id\");\r\n\r\n  /** Fetch followers */\r\n  const fetchFollowers = useCallback(\r\n    async (pageToFetch: number) => {\r\n      if (!otherUserId) return;\r\n\r\n      if (pageToFetch === 1) {\r\n        dispatch(setIsLoading(true));\r\n      } else {\r\n        dispatch(setIsFetchingMore(true));\r\n      }\r\n\r\n      try {\r\n        const res: FollowersRes = await postData(\r\n          \"/follow/follow-following-list\",\r\n          {\r\n            page: pageToFetch,\r\n            type: \"follower\",\r\n            user_id: otherUserId, // âœ… Always otherUserId\r\n          }\r\n        );\r\n\r\n        if (res?.status) {\r\n          const records = res.data?.Records || [];\r\n          if (pageToFetch === 1) {\r\n            dispatch(setFollowers(records));\r\n          } else {\r\n            dispatch(appendFollowers(records));\r\n          }\r\n\r\n          dispatch(setHasMore(records.length > 0));\r\n          dispatch(setPage(pageToFetch));\r\n        } else {\r\n          dispatch(setHasMore(false));\r\n        }\r\n      } catch (err) {\r\n      } finally {\r\n        dispatch(setIsLoading(false));\r\n        dispatch(setIsFetchingMore(false));\r\n      }\r\n    },\r\n    [dispatch, postData, otherUserId]\r\n  );\r\n\r\n  /** Initial load when modal opens */\r\n  useEffect(() => {\r\n    if (open && otherUserId) {\r\n      dispatch(resetFollowers()); \r\n      fetchFollowers(1);\r\n    }\r\n  }, [open, otherUserId]);\r\n\r\n  /** Infinite scroll */\r\n  const handleScroll = (e: React.UIEvent<HTMLDivElement>) => {\r\n    const { scrollTop, clientHeight, scrollHeight } = e.currentTarget;\r\n    if (scrollHeight - scrollTop <= clientHeight + 50) {\r\n      if (!isFetchingMore && hasMore) {\r\n        fetchFollowers(page + 1); \r\n      }\r\n    }\r\n  };\r\n\r\n  /** Navigate to user profile */\r\n  const handleUserRoute = (id: number) => {\r\n    dispatch(setUserId(id));\r\n    dispatch(hideModal(\"OtherUserFollowers\"));\r\n    if (id === parseInt(MyUserId || \"0\")) {\r\n      router.push(\"/profile\");\r\n    } else {\r\n      router.push(`/profile/${id}`);\r\n    }\r\n  };\r\n\r\n  /** Follow/Unfollow */\r\n  const handleFollowUnfollow = async (id: number, isFollowed: boolean) => {\r\n    try {\r\n      const res = await postData(\"/follow/follow-unfollow\", { user_id: id });\r\n\r\n      if (res.status) {\r\n        toast.success(res.message);\r\n        dispatch(updateFollowStatus({ userId: id, isFollowed: !isFollowed }));\r\n      } else {\r\n        toast.error(res.message || \"Failed to update follow status\");\r\n      }\r\n    } catch (error) {\r\n      // toast.error(\"Something went wrong\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <CustomDialog\r\n      open={open}\r\n      onClose={() => dispatch(hideModal(\"OtherUserFollowers\"))}\r\n      width=\"420px\"\r\n    >\r\n      <div className=\"bg-primary py-6 rounded-xl\">\r\n        {/* Header */}\r\n        <div className=\"place-items-center pb-3\">\r\n          <p className=\"font-medium text-sm text-center font-gilroy_semibold text-dark\">\r\n            Followers\r\n          </p>\r\n          <div className=\"flex place-items-center justify-center\">\r\n            <div\r\n              className=\"w-10 h-[1.2px]\"\r\n              style={{\r\n                background:\r\n                  \"linear-gradient(141.72deg, #239C57 -1.01%, #019FC8 103.86%)\",\r\n              }}\r\n            />\r\n            <div\r\n              className=\"rounded-full w-1.5 h-1.5\"\r\n              style={{\r\n                background:\r\n                  \"linear-gradient(141.72deg, #239C57 -1.01%, #019FC8 103.86%)\",\r\n              }}\r\n            />\r\n          </div>\r\n        </div>\r\n\r\n        {/* Followers List */}\r\n        {isLoading ? (\r\n          <div className=\"flex justify-center place-items-center h-[550px]\">\r\n            <ClipLoader color=\"#1A9D77\" loading={isLoading} size={15} />\r\n          </div>\r\n        ) : (\r\n          <div\r\n            className=\"mt-4 max-h-[550px] overflow-y-auto px-6\"\r\n            onScroll={handleScroll}\r\n          >\r\n            {followers.length === 0 ? (\r\n              <div className=\"flex flex-col items-center h-[500px] justify-center\">\r\n                <Image\r\n                  src=\"/home/Empty.png\"\r\n                  height={80}\r\n                  width={80}\r\n                  alt=\"empty\"\r\n                />\r\n                <p className=\"text-sm text-center text-gray-500\">\r\n                  No followers found.\r\n                </p>\r\n              </div>\r\n            ) : (\r\n              followers.map((record: FollowerRecord) => {\r\n                const user = record.follower;\r\n                return (\r\n                  <div\r\n                    key={record.follow_id}\r\n                    className=\"flex justify-between mb-4 place-items-center cursor-pointer\"\r\n                  >\r\n                    <div\r\n                      className=\"flex gap-2 place-items-center\"\r\n                      onClick={() => handleUserRoute(user.user_id)}\r\n                    >\r\n                      <div className=\"rounded-full w-[40px] h-[40px] overflow-hidden bg-gray-200\">\r\n                        <Image\r\n                          src={user.profile_pic}\r\n                          className=\"w-full h-full object-cover\"\r\n                          alt={user.user_name}\r\n                          width={40}\r\n                          height={40}\r\n                        />\r\n                      </div>\r\n\r\n                      <div className=\"flex flex-col\">\r\n                        <h3 className=\"text-xs text-dark\">{user.user_name}</h3>\r\n                        <p className=\"text-[10px] font-normal text-gray\">\r\n                          {user.full_name}\r\n                        </p>\r\n                      </div>\r\n                    </div>\r\n\r\n                    {user?.user_id != Number(MyUserId) && (\r\n                      <button\r\n                        className={`cursor-pointer text-[10px] font-normal rounded-xl w-16 py-1 ${\r\n                          record.isFollowed\r\n                            ? \"border border-main-green text-main-green\"\r\n                            : \"bg-main-green text-primary\"\r\n                        }`}\r\n                        onClick={() =>\r\n                          handleFollowUnfollow(user.user_id, record.isFollowed)\r\n                        }\r\n                      >\r\n                        {record.isFollowed ? \"Following\" : \"Follow\"}\r\n                      </button>\r\n                    )}\r\n                  </div>\r\n                );\r\n              })\r\n            )}\r\n\r\n            {/* Loader while fetching more */}\r\n            {isFetchingMore && (\r\n              <div className=\"flex justify-center py-3\">\r\n                <ClipLoader color=\"#1A9D77\" loading={isFetchingMore} size={15} />\r\n              </div>\r\n            )}\r\n          </div>\r\n        )}\r\n      </div>\r\n    </CustomDialog>\r\n  );\r\n}\r\n\r\nexport default OtherUserFollowers;\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1727, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Renz-Lunci/Downloads/TIKTOK%20%282%29/TIKTOK/reel-boost-website/src/app/profile/OtherUserFollowing.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { hideModal } from \"@/app/store/Slice/ModalsSlice\";\r\nimport { useAppDispatch, useAppSelector } from \"@/app/utils/hooks\";\r\nimport React, { useEffect, useRef } from \"react\";\r\nimport useApiPost from \"../hooks/postData\";\r\nimport { FollowingRes } from \"../types/FollowFollowingList\";\r\nimport { ClipLoader } from \"react-spinners\";\r\nimport { setUserId } from \"../store/Slice/UserIdHashtagIdSlice\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport { toast } from \"react-toastify\";\r\nimport Image from \"next/image\";\r\nimport Cookies from \"js-cookie\";\r\nimport CustomDialog from \"../components/CustomDialog\";\r\nimport {\r\n  setFollowing,\r\n  appendFollowing,\r\n  setPage,\r\n  setTotalPages,\r\n  setHasMore,\r\n  setIsLoading,\r\n  setIsFetchingMore,\r\n  updateFollowStatus,\r\n  resetFollowing,\r\n} from \"../store/Slice/FollowingSlice\";\r\n\r\nfunction OtherUserFollowing() {\r\n  const open = useAppSelector((state) => state.modals.OtherUserFollowing);\r\n  const {\r\n    following,\r\n    page,\r\n    hasMore,\r\n    isLoading,\r\n    isFetchingMore,\r\n  } = useAppSelector((state) => state.following);\r\n  const userId = useAppSelector((state) => state.userId.user_id);\r\n\r\n  const dispatch = useAppDispatch();\r\n  const { postData } = useApiPost();\r\n  const router = useRouter();\r\n  const MyUserId = Cookies.get(\"Reelboost_user_id\");\r\n  const containerRef = useRef<HTMLDivElement | null>(null);\r\n  const isFetchingRef = useRef(false);\r\n\r\n  // Fetch following API\r\n  const fetchFollowing = async (pageNum: number, append = false) => {\r\n    if (append && !hasMore) return;\r\n\r\n    try {\r\n      if (pageNum === 1) dispatch(setIsLoading(true));\r\n      else dispatch(setIsFetchingMore(true));\r\n\r\n      isFetchingRef.current = true;\r\n\r\n      const res: FollowingRes = await postData(\"/follow/follow-following-list\", {\r\n        page: pageNum,\r\n        type: \"following\",\r\n        user_id: userId,\r\n      });\r\n\r\n      if (res?.status) {\r\n        const newRecords = res.data.Records || [];\r\n\r\n        if (pageNum === 1) {\r\n          dispatch(setFollowing(newRecords));\r\n        } else {\r\n          dispatch(appendFollowing(newRecords));\r\n        }\r\n\r\n        const pagination = res.data?.Pagination;\r\n        const totalPagesFromApi = pagination?.total_pages || 1;\r\n        const currentPageFromApi = pagination?.current_page || pageNum;\r\n\r\n        dispatch(setTotalPages(totalPagesFromApi));\r\n        dispatch(setHasMore(currentPageFromApi < totalPagesFromApi));\r\n      } else {\r\n        toast.error(res?.message || \"Failed to fetch following\");\r\n      }\r\n    } catch (err) {\r\n      // toast.error(\"Failed to fetch following\");\r\n    } finally {\r\n      if (pageNum === 1) dispatch(setIsLoading(false));\r\n      else dispatch(setIsFetchingMore(false));\r\n      isFetchingRef.current = false;\r\n    }\r\n  };\r\n\r\n  // On modal open -> reset + fetch first page\r\n  useEffect(() => {\r\n    if (open && userId) {\r\n      dispatch(resetFollowing());\r\n      dispatch(setPage(1));\r\n      fetchFollowing(1, false);\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [open, userId]);\r\n\r\n  // When page increments -> fetch next page\r\n  useEffect(() => {\r\n    if (page > 1) fetchFollowing(page, true);\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [page]);\r\n\r\n  // Scroll handler\r\n  const handleScroll = (e: React.UIEvent<HTMLDivElement>) => {\r\n    const el = e.currentTarget;\r\n    const { scrollTop, scrollHeight, clientHeight } = el;\r\n\r\n    const remaining = scrollHeight - scrollTop - clientHeight;\r\n    if (remaining < 50 && hasMore && !isFetchingRef.current) {\r\n      isFetchingRef.current = true;\r\n      dispatch(setPage(page + 1));\r\n    }\r\n  };\r\n\r\n  // Follow/Unfollow handler\r\n  const handleFollowUnfollow = async (targetUserId: number, isFollowed: boolean) => {\r\n    try {\r\n      const res = await postData(\"/follow/follow-unfollow\", {\r\n        user_id: targetUserId,\r\n      });\r\n\r\n      if (res.status) {\r\n        toast.success(res.message);\r\n        dispatch(updateFollowStatus({ userId: targetUserId, isFollowed: !isFollowed }));\r\n      } else {\r\n        toast.error(res.message || \"Failed to update follow status\");\r\n      }\r\n    } catch (error) {\r\n      // toast.error(\"Something went wrong\");\r\n    }\r\n  };\r\n\r\n  // Navigate to profile\r\n  const handleUserRoute = (targetUserId: number) => {\r\n    dispatch(setUserId(targetUserId));\r\n    dispatch(hideModal(\"OtherUserFollowing\"));\r\n    if (targetUserId === parseInt(MyUserId ?? \"\")) {\r\n      router.push(\"/profile\");\r\n    } else {\r\n      router.push(`/profile/${targetUserId}`);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <CustomDialog\r\n      open={open}\r\n      onClose={() => dispatch(hideModal(\"OtherUserFollowing\"))}\r\n      width=\"420px\"\r\n    >\r\n      <div className=\"bg-primary py-6 rounded-xl\">\r\n        {/* Header */}\r\n        <div className=\"place-items-center pb-3\">\r\n          <p className=\"font-medium text-sm text-center font-gilroy_semibold text-black\">\r\n            Following\r\n          </p>\r\n          <div className=\"flex place-items-center justify-center\">\r\n            <div\r\n              className=\"w-10 h-[1.2px]\"\r\n              style={{\r\n                background:\r\n                  \"linear-gradient(141.72deg, #239C57 -1.01%, #019FC8 103.86%)\",\r\n              }}\r\n            />\r\n            <div\r\n              className=\"rounded-full w-1.5 h-1.5\"\r\n              style={{\r\n                background:\r\n                  \"linear-gradient(141.72deg, #239C57 -1.01%, #019FC8 103.86%)\",\r\n              }}\r\n            />\r\n          </div>\r\n        </div>\r\n\r\n        {/* Following List */}\r\n        {isLoading ? (\r\n          <div className=\"flex justify-center py-8\">\r\n            <ClipLoader color=\"#1A9D77\" size={20} />\r\n          </div>\r\n        ) : (\r\n          <div\r\n            ref={containerRef}\r\n            onScroll={handleScroll}\r\n            className=\"mt-4 overflow-y-auto max-h-[550px] px-6 scrollbar-thin scrollbar-thumb-gray-300\"\r\n          >\r\n            {following.length === 0 ? (\r\n              <div className=\"flex flex-col items-center h-[500px] justify-center\">\r\n                <Image src=\"/home/Empty.png\" height={80} width={80} alt=\"empty\" />\r\n                <p className=\"text-sm text-center text-gray-500\">\r\n                  Not following anyone yet.\r\n                </p>\r\n              </div>\r\n            ) : (\r\n              <>\r\n                {following.map((record) => {\r\n                  const user = record.User;\r\n                  return (\r\n                    <div\r\n                      key={record.follow_id}\r\n                      className=\"flex justify-between mb-4 place-items-center\"\r\n                    >\r\n                      <div\r\n                        className=\"flex gap-2 place-items-center cursor-pointer\"\r\n                        onClick={() => handleUserRoute(record.user_id)}\r\n                      >\r\n                        <div className=\"rounded-full w-[40px] h-[40px] overflow-hidden bg-gray-200\">\r\n                          <Image\r\n                            src={user?.profile_pic || \"/default-avatar.png\"}\r\n                            className=\"w-full h-full object-cover\"\r\n                            alt={user?.user_name}\r\n                            width={60}\r\n                            height={60}\r\n                          />\r\n                        </div>\r\n\r\n                        <div className=\"flex flex-col\">\r\n                          <h3 className=\"text-xs text-dark\">{user?.user_name}</h3>\r\n                          <p className=\"text-[10px] font-normal text-gray\">\r\n                            {user?.full_name}\r\n                          </p>\r\n                        </div>\r\n                      </div>\r\n\r\n                      {user?.user_id != Number(MyUserId) && (\r\n                        <button\r\n                          className={`cursor-pointer text-[10px] font-normal rounded-xl w-16 py-1 ${\r\n                            record.isFollowed\r\n                              ? \"border-main-green border text-main-green\"\r\n                              : \" bg-main-green text-primary\"\r\n                          }`}\r\n                          onClick={() =>\r\n                            handleFollowUnfollow(record.user_id, record.isFollowed)\r\n                          }\r\n                        >\r\n                          {record.isFollowed ? \"Following\" : \"Follow\"}\r\n                        </button>\r\n                      )}\r\n                    </div>\r\n                  );\r\n                })}\r\n                {isFetchingMore && (\r\n                  <div className=\"flex justify-center py-4\">\r\n                    <ClipLoader color=\"#1A9D77\" size={15} />\r\n                  </div>\r\n                )}\r\n              </>\r\n            )}\r\n          </div>\r\n        )}\r\n      </div>\r\n    </CustomDialog>\r\n  );\r\n}\r\n\r\nexport default OtherUserFollowing;\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 2073, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Renz-Lunci/Downloads/TIKTOK%20%282%29/TIKTOK/reel-boost-website/src/app/profile/ProfileComponents/ReportBlockUser/BlockUser.tsx"],"sourcesContent":["\"use client\";\r\nimport { hideModal } from \"@/app/store/Slice/ModalsSlice\";\r\nimport { useAppDispatch, useAppSelector } from \"@/app/utils/hooks\";\r\nimport ClipLoader from \"react-spinners/ClipLoader\";\r\nimport { BlockUnblockResponse } from \"@/app/types/ResTypes\";\r\nimport useApiPost from \"@/app/hooks/postData\";\r\nimport { toast } from \"react-toastify\";\r\nimport CustomDialog from \"@/app/components/CustomDialog\";\r\n\r\n\r\nfunction BlockUser() {\r\n  const dispatch = useAppDispatch();\r\n  const open = useAppSelector((state) => state.modals.BlockUser);\r\n\r\n\r\n  const handleClose = () => {\r\n    dispatch(hideModal(\"BlockUser\"));\r\n  };\r\n\r\n  const activeUserId = useAppSelector((state) => state.userId.user_id);\r\n  const {postData,loading} = useApiPost();\r\n\r\n  const handleBlockUnblock = async() => {\r\n    try{\r\n        const response:BlockUnblockResponse = await postData ('/block/block-unblock',{user_id:activeUserId})\r\n        if(response.status) {\r\n            toast.success(response.message)\r\n        } else {\r\n            toast.error(response.message)\r\n        }\r\n            dispatch(hideModal(\"BlockUser\"))\r\n\r\n    } catch(error:unknown) {\r\n    }\r\n  }\r\n\r\n  return (\r\n    // <Dialog\r\n    //   open={open}\r\n    //   onClose={handleClose}\r\n    //   fullWidth\r\n    //   PaperProps={{\r\n    //     sx: {\r\n    //       p: 0,\r\n    //       overflow: \"visible\",\r\n    //       borderRadius: 3,\r\n    //       maxHeight: \"90vh\",\r\n    //       width: \"100%\",\r\n    //       maxWidth: 400,\r\n    //     },\r\n    //   }}\r\n    //   BackdropProps={{ sx: { background: \"#000000BD\" } }}\r\n    // >\r\n      <CustomDialog open={open} onClose={() => dispatch(hideModal(\"BlockUser\"))} width=\"400px\" title=\"Block Profile\">\r\n      <div className=\"bg-white py-6 px-6 rounded-xl text-center\">\r\n       \r\n\r\n        <p className=\"text-center text-[#606060] max-w-xs mx-auto\">\r\n          Are you sure you want to block this user?\r\n        </p>\r\n\r\n        <div className=\"flex gap-6 mt-6 justify-center\">\r\n          <button\r\n            className=\"px-10 py-2 rounded-xl text-[#3A3333] border border-main-green\"\r\n            onClick={handleClose}\r\n          >\r\n            Cancel\r\n          </button>\r\n          <button\r\n            className=\"w-[150px] py-2 text-primary font-medium text-base rounded-xl bg-main-green\"\r\n            onClick={handleBlockUnblock}\r\n          >\r\n            {loading ? (\r\n              <ClipLoader size={15} color=\"#FFFFFF\" loading={loading} />\r\n            ) : (\r\n              \"Block\"\r\n            )}\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </CustomDialog>\r\n  );\r\n}\r\n\r\nexport default BlockUser;\r\n"],"names":[],"mappings":";;;;;AACA;AACA;AACA;AAEA;AACA;AACA;AAPA;;;;;;;;AAUA,SAAS;IACP,MAAM,WAAW,IAAA,qNAAc;IAC/B,MAAM,OAAO,IAAA,qNAAc,EAAC,CAAC,QAAU,MAAM,MAAM,CAAC,SAAS;IAG7D,MAAM,cAAc;QAClB,SAAS,IAAA,+NAAS,EAAC;IACrB;IAEA,MAAM,eAAe,IAAA,qNAAc,EAAC,CAAC,QAAU,MAAM,MAAM,CAAC,OAAO;IACnE,MAAM,EAAC,QAAQ,EAAC,OAAO,EAAC,GAAG,IAAA,iNAAU;IAErC,MAAM,qBAAqB;QACzB,IAAG;YACC,MAAM,WAAgC,MAAM,SAAU,wBAAuB;gBAAC,SAAQ;YAAY;YAClG,IAAG,SAAS,MAAM,EAAE;gBAChB,kOAAK,CAAC,OAAO,CAAC,SAAS,OAAO;YAClC,OAAO;gBACH,kOAAK,CAAC,KAAK,CAAC,SAAS,OAAO;YAChC;YACI,SAAS,IAAA,+NAAS,EAAC;QAE3B,EAAE,OAAM,OAAe,CACvB;IACF;IAEA,OACE,UAAU;IACV,gBAAgB;IAChB,0BAA0B;IAC1B,cAAc;IACd,kBAAkB;IAClB,YAAY;IACZ,cAAc;IACd,6BAA6B;IAC7B,yBAAyB;IACzB,2BAA2B;IAC3B,uBAAuB;IACvB,uBAAuB;IACvB,SAAS;IACT,OAAO;IACP,wDAAwD;IACxD,IAAI;kBACF,oTAAC,0NAAY;QAAC,MAAM;QAAM,SAAS,IAAM,SAAS,IAAA,+NAAS,EAAC;QAAe,OAAM;QAAQ,OAAM;kBAC/F,cAAA,oTAAC;YAAI,WAAU;;8BAGb,oTAAC;oBAAE,WAAU;8BAA8C;;;;;;8BAI3D,oTAAC;oBAAI,WAAU;;sCACb,oTAAC;4BACC,WAAU;4BACV,SAAS;sCACV;;;;;;sCAGD,oTAAC;4BACC,WAAU;4BACV,SAAS;sCAER,wBACC,oTAAC,gOAAU;gCAAC,MAAM;gCAAI,OAAM;gCAAU,SAAS;;;;;uCAE/C;;;;;;;;;;;;;;;;;;;;;;;AAOd;uCAEe","debugId":null}},
    {"offset": {"line": 2197, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Renz-Lunci/Downloads/TIKTOK%20%282%29/TIKTOK/reel-boost-website/src/app/profile/ProfileComponents/ReportBlockUser/ReportType.tsx"],"sourcesContent":["\"use client\";\r\nimport { useAppDispatch, useAppSelector } from \"@/app/utils/hooks\";\r\nimport { useReportTypes } from \"@/app/store/api/getReportTypes\";\r\nimport { hideModal, showModal } from \"@/app/store/Slice/ModalsSlice\";\r\nimport { setSelectedReport } from \"@/app/store/Slice/SetReportTextIdSlice\";\r\nimport CustomDialog from \"@/app/components/CustomDialog\";\r\n\r\nfunction ReportType() {\r\n  const dispatch = useAppDispatch();\r\n  const open = useAppSelector((state) => state.modals.ReportUser);\r\n  const selectedReport = useAppSelector((state) => state.ReportType.selectedReport);\r\n\r\n\r\n  const { data, isFetching } = useReportTypes();\r\n  const reportList = data?.data.ReportTypes;\r\n\r\n  const handleSelect = (reportId: number, reportText: string) => {\r\n    dispatch(setSelectedReport({ id: reportId, text: reportText }));\r\n    dispatch(hideModal(\"ReportUser\"));\r\n    dispatch(showModal(\"ReportConfirmation\"));\r\n  };\r\n\r\n  return (\r\n    // <Dialog\r\n    //   open={open}\r\n    //   onClose={handleClose}\r\n    //   fullWidth\r\n    //   PaperProps={{\r\n    //     sx: { borderRadius: 3, maxWidth: 400, p: 0 },\r\n    //   }}\r\n    // >\r\n      <CustomDialog open={open} onClose={() => dispatch(hideModal(\"ReportUser\"))} width=\"400px\">\r\n      <div className=\"bg-primary py-6 rounded-xl text-center\">\r\n        <p className=\"font-semibold text-base pb-2\">Report Profile</p>\r\n\r\n        {isFetching ? (\r\n          <p className=\"text-center text-gray-500 mt-4\">Loading...</p>\r\n        ) : (\r\n          reportList?.map((report) => {\r\n            const isSelected = selectedReport?.id === report.report_type_id;\r\n            return (\r\n              <button\r\n                key={report.report_type_id}\r\n                className=\"w-full py-3 px-6 text-left hover:bg-gray-100 border-b border-gray-200 flex items-center gap-3\"\r\n                onClick={() => handleSelect(report.report_type_id, report.report_text)}\r\n              >\r\n                {/* Radio Button */}\r\n                <span\r\n                  className={`w-5 h-5 rounded-full border-2 flex items-center justify-center ${\r\n                    isSelected ? \"border-main-green\" : \"border-gray-400\"\r\n                  }`}\r\n                >\r\n                  {isSelected && <span className=\"w-3 h-3 bg-main-green rounded-full\"></span>}\r\n                </span>\r\n\r\n                {/* Report Text */}\r\n                <span className=\"text-sm text-dark-gray\">{report.report_text}</span>\r\n              </button>\r\n            );\r\n          })\r\n        )}\r\n      </div>\r\n    </CustomDialog>\r\n  );\r\n}\r\n\r\nexport default ReportType;\r\n"],"names":[],"mappings":";;;;;AACA;AACA;AACA;AACA;AACA;AALA;;;;;;;AAOA,SAAS;IACP,MAAM,WAAW,IAAA,qNAAc;IAC/B,MAAM,OAAO,IAAA,qNAAc,EAAC,CAAC,QAAU,MAAM,MAAM,CAAC,UAAU;IAC9D,MAAM,iBAAiB,IAAA,qNAAc,EAAC,CAAC,QAAU,MAAM,UAAU,CAAC,cAAc;IAGhF,MAAM,EAAE,IAAI,EAAE,UAAU,EAAE,GAAG,IAAA,qOAAc;IAC3C,MAAM,aAAa,MAAM,KAAK;IAE9B,MAAM,eAAe,CAAC,UAAkB;QACtC,SAAS,IAAA,gPAAiB,EAAC;YAAE,IAAI;YAAU,MAAM;QAAW;QAC5D,SAAS,IAAA,+NAAS,EAAC;QACnB,SAAS,IAAA,+NAAS,EAAC;IACrB;IAEA,OACE,UAAU;IACV,gBAAgB;IAChB,0BAA0B;IAC1B,cAAc;IACd,kBAAkB;IAClB,oDAAoD;IACpD,OAAO;IACP,IAAI;kBACF,oTAAC,0NAAY;QAAC,MAAM;QAAM,SAAS,IAAM,SAAS,IAAA,+NAAS,EAAC;QAAgB,OAAM;kBAClF,cAAA,oTAAC;YAAI,WAAU;;8BACb,oTAAC;oBAAE,WAAU;8BAA+B;;;;;;gBAE3C,2BACC,oTAAC;oBAAE,WAAU;8BAAiC;;;;;2BAE9C,YAAY,IAAI,CAAC;oBACf,MAAM,aAAa,gBAAgB,OAAO,OAAO,cAAc;oBAC/D,qBACE,oTAAC;wBAEC,WAAU;wBACV,SAAS,IAAM,aAAa,OAAO,cAAc,EAAE,OAAO,WAAW;;0CAGrE,oTAAC;gCACC,WAAW,CAAC,+DAA+D,EACzE,aAAa,sBAAsB,mBACnC;0CAED,4BAAc,oTAAC;oCAAK,WAAU;;;;;;;;;;;0CAIjC,oTAAC;gCAAK,WAAU;0CAA0B,OAAO,WAAW;;;;;;;uBAdvD,OAAO,cAAc;;;;;gBAiBhC;;;;;;;;;;;;AAKV;uCAEe","debugId":null}},
    {"offset": {"line": 2310, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Renz-Lunci/Downloads/TIKTOK%20%282%29/TIKTOK/reel-boost-website/src/app/profile/ProfileComponents/ReportBlockUser/ReportConfirmation.tsx"],"sourcesContent":["\"use client\";\r\nimport React from \"react\";\r\nimport { useAppDispatch, useAppSelector } from \"@/app/utils/hooks\";\r\nimport { clearSelectedReport } from \"@/app/store/Slice/SetReportTextIdSlice\";\r\nimport ClipLoader from \"react-spinners/ClipLoader\";\r\nimport useApiPost from \"@/app/hooks/postData\";\r\nimport { toast } from \"react-toastify\";\r\nimport { hideModal } from \"@/app/store/Slice/ModalsSlice\";\r\nimport { SendReportRes } from \"@/app/types/ResTypes\";\r\nimport CustomDialog from \"@/app/components/CustomDialog\";\r\n\r\nfunction ReportConfirmation() {\r\n  const dispatch = useAppDispatch();\r\n  const open = useAppSelector((state) => state.modals.ReportConfirmation);\r\n  const selectedReport = useAppSelector((state) => state.ReportType.selectedReport);\r\n  const currentUserId = useAppSelector((state) => state.userId.user_id)\r\n  const [loading, setLoading] = React.useState(false);\r\n\r\n  const handleClose = () => {\r\n    dispatch(hideModal(\"ReportConfirmation\"));\r\n    dispatch(clearSelectedReport());\r\n  };\r\n      const { postData } = useApiPost();\r\n\r\n  const handleReport = async () => {\r\n    if (!selectedReport) return;\r\n    setLoading(true);\r\n\r\n    try {\r\n      const res:SendReportRes = await postData(\"/report/report-user\", {\r\n        report_type_id: selectedReport.id,\r\n        user_id: currentUserId, // Replace with actual user id\r\n      });\r\n      if(res.status) {\r\n        toast.success(res.message)\r\n      } else {\r\n        toast.error(res.message)\r\n      }\r\n\r\n      handleClose();\r\n    } catch (err) {\r\n      toast.error(\"Failed to submit report\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    // <Dialog open={open} onClose={handleClose} fullWidth PaperProps={{ sx: { borderRadius: 3, maxWidth: 400 } }}>\r\n      <CustomDialog open={open} onClose={() => handleClose()} width=\"420px\" title=\"Confirm Report\">\r\n      <div className=\"bg-primary py-6 px-6 rounded-xl text-center\">\r\n        {/* <p className=\"font-semibold text-base\">Confirm Report</p> */}\r\n        <p className=\"text-gray-600 mt-2\">\r\n          Are you sure you want to report user ? \r\n        </p>\r\n\r\n        <div className=\"flex gap-4 mt-8 justify-center\">\r\n          <button\r\n            className=\"w-36 rounded-xl border border-gray-400\"\r\n            onClick={handleClose}\r\n          >\r\n            Cancel\r\n          </button>\r\n          <button\r\n            className=\"w-36 py-2 rounded-xl bg-main-green text-primary\"\r\n            onClick={handleReport}\r\n            disabled={loading}\r\n          >\r\n            {loading ? <ClipLoader size={15} color=\"#fff\" /> : \"Report\"}\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </CustomDialog>\r\n  );\r\n}\r\n\r\nexport default ReportConfirmation;\r\n"],"names":[],"mappings":";;;;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AATA;;;;;;;;;;AAWA,SAAS;IACP,MAAM,WAAW,IAAA,qNAAc;IAC/B,MAAM,OAAO,IAAA,qNAAc,EAAC,CAAC,QAAU,MAAM,MAAM,CAAC,kBAAkB;IACtE,MAAM,iBAAiB,IAAA,qNAAc,EAAC,CAAC,QAAU,MAAM,UAAU,CAAC,cAAc;IAChF,MAAM,gBAAgB,IAAA,qNAAc,EAAC,CAAC,QAAU,MAAM,MAAM,CAAC,OAAO;IACpE,MAAM,CAAC,SAAS,WAAW,GAAG,sRAAK,CAAC,QAAQ,CAAC;IAE7C,MAAM,cAAc;QAClB,SAAS,IAAA,+NAAS,EAAC;QACnB,SAAS,IAAA,kPAAmB;IAC9B;IACI,MAAM,EAAE,QAAQ,EAAE,GAAG,IAAA,iNAAU;IAEnC,MAAM,eAAe;QACnB,IAAI,CAAC,gBAAgB;QACrB,WAAW;QAEX,IAAI;YACF,MAAM,MAAoB,MAAM,SAAS,uBAAuB;gBAC9D,gBAAgB,eAAe,EAAE;gBACjC,SAAS;YACX;YACA,IAAG,IAAI,MAAM,EAAE;gBACb,kOAAK,CAAC,OAAO,CAAC,IAAI,OAAO;YAC3B,OAAO;gBACL,kOAAK,CAAC,KAAK,CAAC,IAAI,OAAO;YACzB;YAEA;QACF,EAAE,OAAO,KAAK;YACZ,kOAAK,CAAC,KAAK,CAAC;QACd,SAAU;YACR,WAAW;QACb;IACF;IAEA,OACE,+GAA+G;kBAC7G,oTAAC,0NAAY;QAAC,MAAM;QAAM,SAAS,IAAM;QAAe,OAAM;QAAQ,OAAM;kBAC5E,cAAA,oTAAC;YAAI,WAAU;;8BAEb,oTAAC;oBAAE,WAAU;8BAAqB;;;;;;8BAIlC,oTAAC;oBAAI,WAAU;;sCACb,oTAAC;4BACC,WAAU;4BACV,SAAS;sCACV;;;;;;sCAGD,oTAAC;4BACC,WAAU;4BACV,SAAS;4BACT,UAAU;sCAET,wBAAU,oTAAC,gOAAU;gCAAC,MAAM;gCAAI,OAAM;;;;;uCAAY;;;;;;;;;;;;;;;;;;;;;;;AAM/D;uCAEe","debugId":null}}]
}