{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Renz-Lunci/Desktop/TIKTOK/reel-boost-website/src/app/signin/PhoneSignin.tsx"],"sourcesContent":["\"use client\";\r\nimport { useState } from \"react\";\r\nimport PhoneInput, { CountryData } from \"react-phone-input-2\";\r\nimport { useAppDispatch } from \"../utils/hooks\";\r\nimport { hideModal, showModal } from \"../store/Slice/ModalsSlice\";\r\nimport useApiPost from \"../hooks/postData\";\r\nimport { toast } from \"react-toastify\";\r\nimport { setUserPhone } from \"../store/Slice/PhoneEmailSlice\";\r\nimport { ClipLoader } from \"react-spinners\";\r\nimport { SignUpRes } from \"../types/ResTypes\";\r\nimport validator from \"validator\"\r\n\r\nfunction PhoneSignin() {\r\n  const dispatch = useAppDispatch();\r\n  const { postData, loading } = useApiPost();\r\n  const [phone, setPhone] = useState<string>(\"\");\r\n  const [dialCode, setDialCode] = useState<string>(\"\");\r\n  const [countryName, setCountryName] = useState<string>(\"\");\r\n  const [countryShortName, setCountryShortName] = useState<string>(\"\");\r\n\r\n  // validation for phone number =================================================\r\n  const validatePhone = (): boolean => {\r\n  if (!phone) {\r\n    toast.error(\"Please enter a phone number.\");\r\n    return false;\r\n  }\r\n\r\n  if (!dialCode || !countryShortName) {\r\n    toast.error(\"Please select a country code.\");\r\n    return false;\r\n  }\r\n\r\n  // Remove non-digit characters\r\n  const digits = phone.replace(/\\D/g, \"\");\r\n  const dial = dialCode.replace(\"+\", \"\");\r\n\r\n  // Must start with selected dial code\r\n  if (!digits.startsWith(dial)) {\r\n    toast.error(\"Phone number must start with the selected country code.\");\r\n    return false;\r\n  }\r\n\r\n  const mobile = digits.slice(dial.length); // strip dial code\r\n\r\n  // Minimum length check (common minimum 5 digits)\r\n  if (mobile.length < 5 || !/^\\d+$/.test(mobile)) {\r\n    toast.error(\"Please enter a valid phone number.\");\r\n    return false;\r\n  }\r\n\r\n  // Use validator to check mobile number format\r\n  const fullNumber = `+${dial}${mobile}`;\r\n  if (!validator.isMobilePhone(fullNumber)) {\r\n    toast.error(\"Invalid mobile number format.\");\r\n    return false;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\n\r\n  const handleSignin = async () => {\r\n    if (!validatePhone()) return;\r\n    if (!phone || !dialCode || !countryShortName) {\r\n      toast.error(\"Please enter a valid phone number\");\r\n      return;\r\n    }\r\n\r\n    const digits = phone.replace(/\\D/g, \"\"); // remove non-numeric\r\n    const dial = dialCode.replace(\"+\", \"\");\r\n\r\n    // Must start with selected dial code\r\n    if (!digits.startsWith(dial)) {\r\n      toast.error(\"Phone number must start with the selected country code.\");\r\n      return;\r\n    }\r\n\r\n    const mobile = digits.slice(dial.length); // strip dial code\r\n\r\n    if (mobile.length < 5 || !/^\\d+$/.test(mobile)) {\r\n      toast.error(`Please enter a valid phone number`);\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const response: SignUpRes = await postData(\"/users/signup\", {\r\n        login_type: \"phone\",\r\n        country: countryName,\r\n        country_short_name: countryShortName.toUpperCase(),\r\n        country_code: `+${dial}`,\r\n        mobile_num: mobile,\r\n        platform: \"website\",\r\n      });\r\n\r\n      if (response?.status === true) {\r\n        dispatch(\r\n          setUserPhone({\r\n            phone: mobile,\r\n            country_code: `+${dial}`,\r\n            country_short_name: countryShortName.toUpperCase(),\r\n            country: countryName,\r\n          })\r\n        );\r\n\r\n        dispatch(showModal(\"OTP\"));\r\n        dispatch(hideModal(\"Signin\"));\r\n      } else {\r\n        toast.error(response?.message || \"Something went wrong.\");\r\n      }\r\n    } catch {\r\n      toast.error(\"Error Signing in\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className=\"flex flex-col gap-1\">\r\n        <label className=\"text-dark text-sm font-\">\r\n          Mobile Number<span className=\"text-red\">*</span>\r\n        </label>\r\n\r\n        <div className=\"relative\">\r\n          <PhoneInput\r\n          //@ts-ignore\r\n            className=\"border border-border-color text-dark rounded-lg w-full p-2 placeholder:text-xs py-1.5 placeholder:text-gray bg-primary focus:outline-none focus:ring-1 focus:ring-main-green\"\r\n            placeholder=\"Mobile Number\"\r\n            value={phone}\r\n            onChange={(value, data:CountryData) => {\r\n              setPhone(value);\r\n              setDialCode(data.dialCode || \"\");\r\n              setCountryName(data.name || \"\");\r\n              setCountryShortName(data.countryCode || \"\");\r\n            }}\r\n            \r\n            country={\"us\"}\r\n            enableSearch\r\n            onKeyDown={(e) => {\r\n              if (e.key === \"Enter\" && phone) {\r\n                e.preventDefault();\r\n                handleSignin();\r\n              }\r\n            }}\r\n          />\r\n        </div>\r\n      </div>\r\n\r\n      {/* Continue button ================== */}\r\n      <div className=\"flex justify-center mt-8\">\r\n        <button\r\n          className=\"bg-main-green w-[70%] rounded-xl p-2.5 text-primary text-sm cursor-pointer\"\r\n          onClick={handleSignin}\r\n        >\r\n          {loading ? (\r\n            <ClipLoader loading={loading} color=\"#FFFFFF\" size={15} />\r\n          ) : (\r\n            <>Continue</>\r\n          )}\r\n        </button>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default PhoneSignin;\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 205, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Renz-Lunci/Desktop/TIKTOK/reel-boost-website/src/app/signin/EmailSignin.tsx"],"sourcesContent":["\"use client\";\r\nimport React, { useState } from \"react\";\r\nimport { hideModal, showModal } from \"../store/Slice/ModalsSlice\";\r\nimport { useAppDispatch } from \"../utils/hooks\";\r\nimport useApiPost from \"../hooks/postData\";\r\nimport { toast } from \"react-toastify\";\r\nimport { setUserEmail } from \"../store/Slice/PhoneEmailSlice\";\r\nimport { ClipLoader } from \"react-spinners\";\r\nimport { SignUpRes } from \"../types/ResTypes\";\r\nimport Image from \"next/image\";\r\nimport validator from \"validator\"\r\n\r\nfunction EmailSignin() {\r\n  const dispatch = useAppDispatch();\r\n  const { postData, loading } = useApiPost();\r\n  const [email, setEmail] = useState<string>(\"\");\r\n\r\n  const validateEmail = (email: string) => {\r\n    const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\r\n    return emailRegex.test(email);\r\n  };\r\n\r\n  const isEmailValid = (email: string) => validator.isEmail(email.trim());\r\n\r\n  const handleSignin = async () => {\r\n     if (!isEmailValid(email)) return toast.error(\"Invalid email format.\");\r\n    if (!email) return toast.error(\"Please enter your email.\");\r\n    if (!validateEmail(email)) return toast.error(\"Invalid email format.\");\r\n\r\n    try {\r\n      const response: SignUpRes = await postData(\"/users/signup\", {\r\n        login_type: \"email\",\r\n        email: email.trim(), //  Send actual email\r\n        platform: \"website\",\r\n      });\r\n\r\n      if (response?.status === true) {\r\n        dispatch(setUserEmail(email));\r\n        dispatch(showModal(\"OTP\"));\r\n        dispatch(hideModal(\"Signin\"));\r\n      } else {\r\n        toast.error(response?.message || \"Something went wrong.\");\r\n      }\r\n    } catch {\r\n      toast.error(\"Error signing in\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {/* Email Input */}\r\n      <div className=\"flex flex-col gap-1\">\r\n        <label className=\"text-dark text-sm\">\r\n          Email<span className=\"text-red\">*</span>\r\n        </label>\r\n        <div className=\"relative\">\r\n          <div className=\"absolute left-2 top-1/2 transform -translate-y-1/2 p-2 rounded-full flex items-center justify-center background-opacityGradient\">\r\n            <Image src=\"/signup/email.png\" alt=\"Email\" width={20} height={20}/>\r\n          </div>\r\n          <input\r\n            type=\"text\"\r\n            className=\"border border-border-color rounded-lg text-dark w-full py-4 pl-16 text-xs placeholder:text-gray bg-white focus:outline-none focus:ring-1 focus:ring-main-green\"\r\n            placeholder=\"Enter Email\"\r\n            value={email}\r\n            onChange={(e) => setEmail(e.target.value)}\r\n            autoComplete=\"off\"\r\n            spellCheck=\"false\"\r\n            onKeyDown={(e) => {\r\n              if (e.key === \"Enter\") {\r\n                e.preventDefault();\r\n                handleSignin();\r\n              }\r\n            }}\r\n          />\r\n        </div>\r\n\r\n        {/* Invalid Email Warning */}\r\n        {email && !validateEmail(email) && (\r\n          <div className=\"flex gap-1 items-center mt-1\">\r\n            <Image src=\"/signup/notValid.png\" alt=\"not valid\" height={12} width={12} />\r\n            <p className=\"text-xs text-red\">Not valid email format</p>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* Next Button */}\r\n\r\n      <div className=\"flex justify-center mt-8\">\r\n        <button\r\n          className=\"bg-main-green w-[70%] rounded-xl p-2.5 text-primary text-sm cursor-pointer\"\r\n          onClick={handleSignin}\r\n        >\r\n          {loading ? (\r\n            <ClipLoader loading={loading} color=\"#FFFFFF\" size={15} />\r\n          ) : (\r\n            <>Continue</>\r\n          )}\r\n        </button>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default EmailSignin;\r\n"],"names":[],"mappings":";;;;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAVA;;;;;;;;;;;AAYA,SAAS;IACP,MAAM,WAAW,IAAA,gMAAc;IAC/B,MAAM,EAAE,QAAQ,EAAE,OAAO,EAAE,GAAG,IAAA,4LAAU;IACxC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,kQAAQ,EAAS;IAE3C,MAAM,gBAAgB,CAAC;QACrB,MAAM,aAAa;QACnB,OAAO,WAAW,IAAI,CAAC;IACzB;IAEA,MAAM,eAAe,CAAC,QAAkB,8LAAS,CAAC,OAAO,CAAC,MAAM,IAAI;IAEpE,MAAM,eAAe;QAClB,IAAI,CAAC,aAAa,QAAQ,OAAO,6MAAK,CAAC,KAAK,CAAC;QAC9C,IAAI,CAAC,OAAO,OAAO,6MAAK,CAAC,KAAK,CAAC;QAC/B,IAAI,CAAC,cAAc,QAAQ,OAAO,6MAAK,CAAC,KAAK,CAAC;QAE9C,IAAI;YACF,MAAM,WAAsB,MAAM,SAAS,iBAAiB;gBAC1D,YAAY;gBACZ,OAAO,MAAM,IAAI;gBACjB,UAAU;YACZ;YAEA,IAAI,UAAU,WAAW,MAAM;gBAC7B,SAAS,IAAA,iNAAY,EAAC;gBACtB,SAAS,IAAA,0MAAS,EAAC;gBACnB,SAAS,IAAA,0MAAS,EAAC;YACrB,OAAO;gBACL,6MAAK,CAAC,KAAK,CAAC,UAAU,WAAW;YACnC;QACF,EAAE,OAAM;YACN,6MAAK,CAAC,KAAK,CAAC;QACd;IACF;IAEA,qBACE;;0BAEE,+RAAC;gBAAI,WAAU;;kCACb,+RAAC;wBAAM,WAAU;;4BAAoB;0CAC9B,+RAAC;gCAAK,WAAU;0CAAW;;;;;;;;;;;;kCAElC,+RAAC;wBAAI,WAAU;;0CACb,+RAAC;gCAAI,WAAU;0CACb,cAAA,+RAAC,yLAAK;oCAAC,KAAI;oCAAoB,KAAI;oCAAQ,OAAO;oCAAI,QAAQ;;;;;;;;;;;0CAEhE,+RAAC;gCACC,MAAK;gCACL,WAAU;gCACV,aAAY;gCACZ,OAAO;gCACP,UAAU,CAAC,IAAM,SAAS,EAAE,MAAM,CAAC,KAAK;gCACxC,cAAa;gCACb,YAAW;gCACX,WAAW,CAAC;oCACV,IAAI,EAAE,GAAG,KAAK,SAAS;wCACrB,EAAE,cAAc;wCAChB;oCACF;gCACF;;;;;;;;;;;;oBAKH,SAAS,CAAC,cAAc,wBACvB,+RAAC;wBAAI,WAAU;;0CACb,+RAAC,yLAAK;gCAAC,KAAI;gCAAuB,KAAI;gCAAY,QAAQ;gCAAI,OAAO;;;;;;0CACrE,+RAAC;gCAAE,WAAU;0CAAmB;;;;;;;;;;;;;;;;;;0BAOtC,+RAAC;gBAAI,WAAU;0BACb,cAAA,+RAAC;oBACC,WAAU;oBACV,SAAS;8BAER,wBACC,+RAAC,8PAAU;wBAAC,SAAS;wBAAS,OAAM;wBAAU,MAAM;;;;;6CAEpD;kCAAE;;;;;;;;;;;;;;AAMd;uCAEe","debugId":null}},
    {"offset": {"line": 395, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Renz-Lunci/Desktop/TIKTOK/reel-boost-website/src/app/signin/SocialLogin.tsx"],"sourcesContent":["import React from \"react\";\r\nimport useApiPost from \"../hooks/postData\";\r\nimport { toast } from \"react-toastify\";\r\nimport axios from \"axios\";\r\nimport Cookies from \"js-cookie\";\r\nimport { useGoogleLogin } from \"@react-oauth/google\";\r\nimport { SignUpRes } from \"../types/ResTypes\";\r\nimport { useAppDispatch } from \"../utils/hooks\";\r\nimport { hideModal, showModal } from \"../store/Slice/ModalsSlice\";\r\nimport Image from \"next/image\";\r\n\r\nfunction SocialLogin() {\r\n  const { postData } = useApiPost();\r\n  const dispatch = useAppDispatch();\r\n\r\n  const googleLogin = useGoogleLogin({\r\n    onSuccess: async (tokenResponse) => {\r\n      try {\r\n        const { access_token } = tokenResponse;\r\n\r\n        // Fetch user info from Google\r\n        const res = await axios.get(\"https://www.googleapis.com/oauth2/v3/userinfo\", {\r\n          headers: {\r\n            Authorization: `Bearer ${access_token}`,\r\n          },\r\n        });\r\n\r\n        const { email, given_name, family_name } = res.data;\r\n\r\n        // Call your API with full name\r\n        const response: SignUpRes = await postData(\"/users/signup\", {\r\n          email,\r\n          login_type: \"social\",\r\n          platform: \"website\",\r\n          device_token: \"\",\r\n          first_name: given_name || \"\",\r\n          last_name: family_name || \"\",\r\n        });\r\n\r\n        // Save token if needed\r\n        Cookies.set(\"Reelboost_auth_token\", response.data.token, {\r\n          secure: true,\r\n          sameSite: \"Strict\",\r\n          expires: 30,\r\n        });\r\n     \r\n\r\n        if (response.message!=\"Data is Missing\") {\r\n          toast.success(\"Signed in successfully!\");\r\n\r\n          // Check if username is already set\r\n          if (response.data.newUser === false) {\r\n            dispatch(hideModal(\"Signin\"));\r\n            dispatch(showModal(\"Profile\"))\r\n          } else {\r\n            dispatch(hideModal(\"Signin\"));\r\n            setTimeout(() => dispatch(showModal(\"Signup\")), 100);\r\n          }\r\n        } else {\r\n          toast.error(response.message);\r\n        }\r\n      } catch (error) {\r\n        // toast.error(\"Google login failed\");\r\n      }\r\n    },\r\n    onError: (errorResponse) => {\r\n      // toast.error(\"Google login failed\");\r\n    },\r\n  });\r\n\r\n  return (\r\n    <div\r\n      className=\"relative border border-main-green rounded-md bg-main-green/[0.04] py-2 mx-10 cursor-pointer text-center\"\r\n      onClick={() => googleLogin()}\r\n    >\r\n      <Image\r\n        src=\"/ReelBoost/GoogleLogo.png\"\r\n        className=\"absolute left-3 top-1/2 transform -translate-y-1/2\"\r\n        alt=\"Google\"\r\n        width={22}\r\n        height={22}\r\n      />\r\n      <span className=\"font-medium text-sm text-dark cursor-pointer\">\r\n        Continue with Google\r\n      </span>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default SocialLogin;\r\n"],"names":[],"mappings":";;;;;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;;;;;;;;;;AAEA,SAAS;IACP,MAAM,EAAE,QAAQ,EAAE,GAAG,IAAA,4LAAU;IAC/B,MAAM,WAAW,IAAA,gMAAc;IAE/B,MAAM,cAAc,IAAA,qOAAc,EAAC;QACjC,WAAW,OAAO;YAChB,IAAI;gBACF,MAAM,EAAE,YAAY,EAAE,GAAG;gBAEzB,8BAA8B;gBAC9B,MAAM,MAAM,MAAM,iMAAK,CAAC,GAAG,CAAC,iDAAiD;oBAC3E,SAAS;wBACP,eAAe,CAAC,OAAO,EAAE,cAAc;oBACzC;gBACF;gBAEA,MAAM,EAAE,KAAK,EAAE,UAAU,EAAE,WAAW,EAAE,GAAG,IAAI,IAAI;gBAEnD,+BAA+B;gBAC/B,MAAM,WAAsB,MAAM,SAAS,iBAAiB;oBAC1D;oBACA,YAAY;oBACZ,UAAU;oBACV,cAAc;oBACd,YAAY,cAAc;oBAC1B,WAAW,eAAe;gBAC5B;gBAEA,uBAAuB;gBACvB,iNAAO,CAAC,GAAG,CAAC,wBAAwB,SAAS,IAAI,CAAC,KAAK,EAAE;oBACvD,QAAQ;oBACR,UAAU;oBACV,SAAS;gBACX;gBAGA,IAAI,SAAS,OAAO,IAAE,mBAAmB;oBACvC,6MAAK,CAAC,OAAO,CAAC;oBAEd,mCAAmC;oBACnC,IAAI,SAAS,IAAI,CAAC,OAAO,KAAK,OAAO;wBACnC,SAAS,IAAA,0MAAS,EAAC;wBACnB,SAAS,IAAA,0MAAS,EAAC;oBACrB,OAAO;wBACL,SAAS,IAAA,0MAAS,EAAC;wBACnB,WAAW,IAAM,SAAS,IAAA,0MAAS,EAAC,YAAY;oBAClD;gBACF,OAAO;oBACL,6MAAK,CAAC,KAAK,CAAC,SAAS,OAAO;gBAC9B;YACF,EAAE,OAAO,OAAO;YACd,sCAAsC;YACxC;QACF;QACA,SAAS,CAAC;QACR,sCAAsC;QACxC;IACF;IAEA,qBACE,+RAAC;QACC,WAAU;QACV,SAAS,IAAM;;0BAEf,+RAAC,yLAAK;gBACJ,KAAI;gBACJ,WAAU;gBACV,KAAI;gBACJ,OAAO;gBACP,QAAQ;;;;;;0BAEV,+RAAC;gBAAK,WAAU;0BAA+C;;;;;;;;;;;;AAKrE;uCAEe","debugId":null}},
    {"offset": {"line": 502, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Renz-Lunci/Desktop/TIKTOK/reel-boost-website/src/app/signin/Signin.tsx"],"sourcesContent":["\"use client\";\r\nimport React, { useState } from \"react\";\r\nimport { Dialog } from \"@mui/material\";\r\nimport { useAppSelector } from \"../utils/hooks\";\r\nimport { useAppDispatch } from \"../utils/hooks\";\r\nimport { hideModal } from \"../store/Slice/ModalsSlice\";\r\nimport PhoneSignin from \"./PhoneSignin\";\r\nimport EmailSignin from \"./EmailSignin\";\r\nimport SocialLogin from \"./SocialLogin\";\r\n\r\nfunction Signin() {\r\n  const [selectedOption, setSelectedOption] = useState(\"Phone\");\r\n  const dispatch = useAppDispatch();\r\n  const open = useAppSelector((state) => state.modals.Signin);\r\n\r\n  return (\r\n    <>\r\n      <Dialog\r\n        open={open}\r\n        onClose={() => dispatch(hideModal(\"Signin\"))}\r\n        fullWidth\r\n        PaperProps={{\r\n          sx: {\r\n            p: 0,\r\n            overflow: \"visible\",\r\n            borderRadius: 3,\r\n            maxHeight: \"90vh\",\r\n            width: \"420px\",\r\n            maxWidth: \"100%\",\r\n          },\r\n        }}\r\n        BackdropProps={{ sx: { background: \"#000000BD\" } }}\r\n      >\r\n        <div className=\"\">\r\n\r\n          <button\r\n          onClick={() => dispatch(hideModal(\"Signin\"))}\r\n          className=\"absolute top-2 right-2 text-dark rounded-full p-2 hover:text-gray-800 transition cursor-pointer\"\r\n        >\r\n          ✕\r\n        </button>\r\n          <>\r\n            <div\r\n              style={{ boxShadow: \"9.3px 10.46px 64.96px 0px #00000026\" }}\r\n              className=\"py-8 rounded-xl\"\r\n            >\r\n              {/* Title */}\r\n              <h3 className=\"pb-4 text-[20px] font-medium text-dark text-center\">\r\n                Signin\r\n              </h3>\r\n              <div\r\n                className=\"flex justify-around items-center border border-main-green/[0.1] mx-6 rounded-full p-3\"\r\n                style={{ boxShadow: \"1px 1px 6.7px 0px #00000008\" }}\r\n              >\r\n                <button\r\n                  className={`cursor-pointer text-[16px] font-medium ${\r\n                    selectedOption === \"Phone\" ? \"text-main-green\" : \"text-gray\"\r\n                  }`}\r\n                  onClick={() => setSelectedOption(\"Phone\")}\r\n                >\r\n                  Phone\r\n                </button>\r\n\r\n                <div\r\n                  className=\"w-0.5 h-4\"\r\n                  style={{\r\n                    background:\r\n                      \"linear-gradient(180deg, rgba(35, 156, 87, 0.12), rgba(1, 159, 200, 0.12))\",\r\n                  }}\r\n                ></div>\r\n\r\n                <button\r\n                  className={`cursor-pointer text-[16px] font-medium ${\r\n                    selectedOption === \"Email\" ? \"text-main-green\" : \"text-gray\"\r\n                  }`}\r\n                  onClick={() => setSelectedOption(\"Email\")}\r\n                >\r\n                  Email\r\n                </button>\r\n              </div>\r\n\r\n              <div className=\" pt-8 px-10\">\r\n                {selectedOption === \"Phone\" && <PhoneSignin />}\r\n                {selectedOption === \"Email\" && <EmailSignin />}\r\n              </div>\r\n\r\n              {/* <p className=\"font-light text-dark text-sm text-center pt-5\">\r\n                Don&apos;t have an account?{\" \"}\r\n                <span\r\n                  className=\"text-main-green font-medium cursor-pointer hover:underline\"\r\n                  onClick={() => {\r\n                    dispatch(showModal(\"Signup\"));\r\n                    dispatch(hideModal(\"Signin\"));\r\n                  }}\r\n                >\r\n                  Signup\r\n                </span>\r\n              </p> */}\r\n\r\n              <div className=\"flex items-center justify-center py-4 px-10 w-full\">\r\n                <div className=\"flex-grow border-t border-main-green\"></div>\r\n                <h1 className=\"mx-4 text-sm font-poppins text-dark font-base\">\r\n                  OR\r\n                </h1>\r\n                <div className=\"flex-grow border-t border-main-green\"></div>\r\n              </div>\r\n              {/* Social Login ============================= */}\r\n              <SocialLogin />\r\n            </div>\r\n          </>\r\n\r\n          {/* Divider */}\r\n        </div>\r\n      </Dialog>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Signin;\r\n"],"names":[],"mappings":";;;;;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AARA;;;;;;;;;;AAUA,SAAS;IACP,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,IAAA,kQAAQ,EAAC;IACrD,MAAM,WAAW,IAAA,gMAAc;IAC/B,MAAM,OAAO,IAAA,gMAAc,EAAC,CAAC,QAAU,MAAM,MAAM,CAAC,MAAM;IAE1D,qBACE;kBACE,cAAA,+RAAC,4PAAM;YACL,MAAM;YACN,SAAS,IAAM,SAAS,IAAA,0MAAS,EAAC;YAClC,SAAS;YACT,YAAY;gBACV,IAAI;oBACF,GAAG;oBACH,UAAU;oBACV,cAAc;oBACd,WAAW;oBACX,OAAO;oBACP,UAAU;gBACZ;YACF;YACA,eAAe;gBAAE,IAAI;oBAAE,YAAY;gBAAY;YAAE;sBAEjD,cAAA,+RAAC;gBAAI,WAAU;;kCAEb,+RAAC;wBACD,SAAS,IAAM,SAAS,IAAA,0MAAS,EAAC;wBAClC,WAAU;kCACX;;;;;;kCAGC;kCACE,cAAA,+RAAC;4BACC,OAAO;gCAAE,WAAW;4BAAsC;4BAC1D,WAAU;;8CAGV,+RAAC;oCAAG,WAAU;8CAAqD;;;;;;8CAGnE,+RAAC;oCACC,WAAU;oCACV,OAAO;wCAAE,WAAW;oCAA8B;;sDAElD,+RAAC;4CACC,WAAW,CAAC,uCAAuC,EACjD,mBAAmB,UAAU,oBAAoB,aACjD;4CACF,SAAS,IAAM,kBAAkB;sDAClC;;;;;;sDAID,+RAAC;4CACC,WAAU;4CACV,OAAO;gDACL,YACE;4CACJ;;;;;;sDAGF,+RAAC;4CACC,WAAW,CAAC,uCAAuC,EACjD,mBAAmB,UAAU,oBAAoB,aACjD;4CACF,SAAS,IAAM,kBAAkB;sDAClC;;;;;;;;;;;;8CAKH,+RAAC;oCAAI,WAAU;;wCACZ,mBAAmB,yBAAW,+RAAC,gMAAW;;;;;wCAC1C,mBAAmB,yBAAW,+RAAC,gMAAW;;;;;;;;;;;8CAgB7C,+RAAC;oCAAI,WAAU;;sDACb,+RAAC;4CAAI,WAAU;;;;;;sDACf,+RAAC;4CAAG,WAAU;sDAAgD;;;;;;sDAG9D,+RAAC;4CAAI,WAAU;;;;;;;;;;;;8CAGjB,+RAAC,gMAAW;;;;;;;;;;;;;;;;;;;;;;;;AAS1B;uCAEe","debugId":null}},
    {"offset": {"line": 695, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Renz-Lunci/Desktop/TIKTOK/reel-boost-website/src/app/signin/OTPForm.tsx"],"sourcesContent":["\"use client\";\r\nimport React, { useRef, useState, useEffect } from \"react\";\r\nimport { ClipLoader } from \"react-spinners\";\r\nimport useApiPost from \"../hooks/postData\";\r\nimport { useAppDispatch, useAppSelector } from \"../utils/hooks\";\r\nimport { clearUserInfo } from \"../store/Slice/PhoneEmailSlice\";\r\nimport { toast } from \"react-toastify\";\r\nimport { VerifyOtpRes } from \"../types/ResTypes\";\r\nimport { hideModal, showModal } from \"../store/Slice/ModalsSlice\";\r\nimport Cookies from \"js-cookie\";\r\nimport { Dialog } from \"@mui/material\";\r\n\r\nfunction OtpForm() {\r\n  const [timeLeft, setTimeLeft] = useState(120); // Start with 120 seconds (2 minutes)\r\n  const [resendAvailable, setResendAvailable] = useState(false);\r\n\r\n  const [otp, setOtp] = useState([\"\", \"\", \"\", \"\"]);\r\n  const inputRefs = useRef<(HTMLInputElement | null)[]>([]);\r\n\r\n  const handleChange = (index: number, value: string) => {\r\n    if (/^\\d?$/.test(value)) {\r\n      const newOtp = [...otp];\r\n      newOtp[index] = value;\r\n      setOtp(newOtp);\r\n      if (value && index < 5) {\r\n        inputRefs.current[index + 1]?.focus();\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleBackspace = (\r\n    index: number,\r\n    event: React.KeyboardEvent<HTMLInputElement>\r\n  ) => {\r\n    if (event.key === \"Backspace\" && !otp[index] && index > 0) {\r\n      inputRefs.current[index - 1]?.focus();\r\n    }\r\n  };\r\n\r\n  const { postData, loading } = useApiPost();\r\n\r\n  const dispatch = useAppDispatch();\r\n\r\n  const handleCheckOTP = async () => {\r\n    const otpCode = otp.join(\"\");\r\n\r\n    if (otpCode.length !== 4 || !/^\\d{4}$/.test(otpCode)) {\r\n      toast.error(\"Please enter a valid 4-digit OTP.\");\r\n      return;\r\n    }\r\n\r\n    const login_type = phoneNumber ? \"phone\" : \"email\";\r\n\r\n    // Prepare body conditionally\r\n    const bodyData = phoneNumber\r\n      ? {\r\n          otp: otpCode,\r\n          login_type,\r\n          mobile_num: phoneNumber,\r\n          country_code: countryCode,\r\n        }\r\n      : {\r\n          otp: otpCode,\r\n          login_type,\r\n          email: email,\r\n          platform: \"website\",\r\n        };\r\n\r\n    try {\r\n      const response: VerifyOtpRes = await postData(\r\n        \"/users/verfyOtp\",\r\n        bodyData\r\n      );\r\n\r\n      if (response.status === true) {\r\n        const user = response.data.user;\r\n\r\n        if (!user.user_name) {\r\n          dispatch(showModal(\"Signup\"));\r\n\r\n\r\n          Cookies.set(\"Reelboost_auth_token\", response.data.token, {\r\n          secure: true,\r\n          sameSite: \"Strict\",\r\n          expires: 30,\r\n        });\r\n        Cookies.set(\"Reelboost_user_id\", String(response.data.user.user_id), {\r\n          secure: true,\r\n          sameSite: \"Strict\",\r\n          expires: 30,\r\n        });\r\n\r\n        \r\n\r\n          // Show FreeCoinPopup only after signup\r\n          Cookies.set(\"FreeCoinPopup\", \"true\");\r\n          dispatch(showModal(\"FreeCoin\")); // this will open your FreeCoinPopup\r\n          dispatch(hideModal(\"OTP\"));\r\n        } else {\r\n          Cookies.set(\"Reelboost_auth_token\", response.data.token, {\r\n          secure: true,\r\n          sameSite: \"Strict\",\r\n          expires: 30,\r\n        });\r\n        Cookies.set(\"Reelboost_user_id\", String(response.data.user.user_id), {\r\n          secure: true,\r\n          sameSite: \"Strict\",\r\n          expires: 30,\r\n        });\r\n          dispatch(clearUserInfo());\r\n          toast.success(\"Signed in successfully!\");\r\n\r\n          window.location.replace(\"/\");\r\n          dispatch(hideModal(\"OTP\"));\r\n          dispatch(showModal(\"Profile\"));\r\n        }\r\n      } else {\r\n        toast.error(response?.message || \"Invalid OTP. Try again.\");\r\n      }\r\n    } catch (error: unknown) {\r\n      toast.error(\"Verification failed. Please try again.\");\r\n    }\r\n  };\r\n\r\n  // To handle Resend OTP\r\n  useEffect(() => {\r\n    if (timeLeft === 0) {\r\n      setResendAvailable(true);\r\n      return;\r\n    }\r\n\r\n    const intervalId = setInterval(() => {\r\n      setTimeLeft((prevTime) => prevTime - 1);\r\n    }, 1000);\r\n\r\n    return () => clearInterval(intervalId);\r\n  }, [timeLeft]);\r\n\r\n  const countryName = useAppSelector((state) => state.user.country);\r\n  const countryShortName = useAppSelector(\r\n    (state) => state.user.country_short_name\r\n  );\r\n  const countryCode = useAppSelector((state) => state.user.country_code);\r\n  const phone = useAppSelector((state) => state.user.phone);\r\n  const handleResendOTP = async () => {\r\n    const bodyData = phoneNumber\r\n      ? {\r\n          login_type: \"phone\",\r\n          country: countryName,\r\n          country_short_name: countryShortName.toUpperCase(),\r\n          country_code: countryCode,\r\n          mobile_num: phone,\r\n          platform: \"website\",\r\n        }\r\n      : {\r\n          login_type: \"email\",\r\n          platform: \"website\",\r\n          email: email,\r\n        };\r\n\r\n    // const bodyData\r\n    if (resendAvailable) {\r\n      try {\r\n        const response = await postData(\"/users/signup\", bodyData);\r\n\r\n        if (response?.status === true) {\r\n        } else {\r\n          toast.error(response?.message || \"Something went wrong.\");\r\n        }\r\n      } catch {\r\n        toast.error(\"Error Signing in\");\r\n      }\r\n    }\r\n  };\r\n\r\n  // Format timeLeft in MM:SS format\r\n  const formatTime = (time: number) => {\r\n    const minutes = Math.floor(time / 60);\r\n    const seconds = time % 60;\r\n    return `${minutes.toString().padStart(2, \"0\")}:${seconds\r\n      .toString()\r\n      .padStart(2, \"0\")}`;\r\n  };\r\n\r\n  // verification after all digits are entered\r\n  useEffect(() => {\r\n    if (otp.every((digit) => digit !== \"\")) {\r\n      handleCheckOTP();\r\n    }\r\n  }, [otp]);\r\n\r\n  const phoneNumber = useAppSelector((state) => state.user.phone);\r\n  const email = useAppSelector((state) => state.user.email);\r\n\r\n  const open = useAppSelector((state) => state.modals.OTP);\r\n\r\n  return (\r\n    <Dialog\r\n      open={open}\r\n      onClose={() => dispatch(hideModal(\"SearchAccounts\"))}\r\n      fullWidth\r\n      PaperProps={{\r\n        sx: {\r\n          p: 0,\r\n          overflow: \"visible\",\r\n          borderRadius: 3,\r\n          maxHeight: \"90vh\",\r\n          width: \"420px\",\r\n          maxWidth: \"100%\",\r\n        },\r\n      }}\r\n      BackdropProps={{ sx: { background: \"#000000BD\" } }}\r\n    >\r\n      <div>\r\n        <button\r\n          onClick={() => dispatch(hideModal(\"OTP\"))}\r\n          className=\"absolute top-2 right-2 text-dark rounded-full p-2 hover:text-gray-800 transition cursor-pointer\"\r\n        >\r\n          ✕\r\n        </button>\r\n        {/* Form Container */}\r\n        <div\r\n          className=\"flex justify-center rounded-xl py-16\"\r\n          style={{ boxShadow: \"9.3px 10.46px 64.96px 0px #00000026\" }}\r\n        >\r\n          <div className=\"flex flex-col justify-center relative opacity-100  rounded-xl h-fit \">\r\n            {/* Top Left Ellipse */}\r\n\r\n            {/* Sign in Text */}\r\n            <h2 className=\" font-poppins font-medium text-dark text-center pb-1\">\r\n              Enter otp sent to your registered{\" \"}\r\n              {phoneNumber ? \"number\" : \"email\"}\r\n            </h2>\r\n            <div className=\"space-y-2 py-2\">\r\n              <p className=\" text-xs text-center font-poppins text-gray\">\r\n                4 digit OTP has been sent to{\" \"}\r\n                {phoneNumber ? <>{phoneNumber}</> : <>{email}</>}\r\n              </p>\r\n            </div>\r\n\r\n            <div className=\"flex md:gap-4 gap-5 py-3 justify-center\">\r\n              {otp.map((value, index) => (\r\n                <input\r\n                  key={index}\r\n                  ref={(el) => {\r\n                    inputRefs.current[index] = el;\r\n                  }}\r\n                  type=\"text\"\r\n                  value={value}\r\n                  maxLength={1}\r\n                  disabled={loading}\r\n                  className={`border border-[#D0D0D0] rounded-md w-12 h-12 text-center text-lg font-normal focus:outline-none focus:ring-1 text-dark focus:ring-main-green ${\r\n                    loading ? \"bg-gray-100 cursor-not-allowed\" : \"\"\r\n                  }`}\r\n                  onChange={(e) => {\r\n                    if (!loading) handleChange(index, e.target.value);\r\n                  }}\r\n                  onKeyDown={(e) => {\r\n                    handleBackspace(index, e);\r\n                    if (e.key === \"Enter\" && otp) {\r\n                      e.preventDefault();\r\n                      handleCheckOTP();\r\n                    }\r\n                  }}\r\n                />\r\n              ))}\r\n            </div>\r\n\r\n            <p\r\n              className={`text-main-green font-poppins text-sm justify-center flex py-4`}\r\n            >\r\n              <span\r\n                className={`${timeLeft > 0 ? \"\" : \"cursor-pointer\"}`}\r\n                onClick={handleResendOTP}\r\n              >\r\n                Resend OTP\r\n              </span>{\" \"}\r\n              {timeLeft > 0 && (\r\n                <>\r\n                  <span className=\"ml-1\">in {formatTime(timeLeft)}</span>\r\n                </>\r\n              )}\r\n            </p>\r\n\r\n            <div className=\"flex justify-center\">\r\n              <button className=\"py-2 mt-4 rounded-xl text-sm text-primary font-normal w-[70%] font-poppins bg-main-green\">\r\n                {/* //  style={{ background: \"linear-gradient(213deg, #6C47B7 -27.59%, #341F60 105.15%)\" }}> */}\r\n                {loading ? (\r\n                  <ClipLoader color=\"#FFFFFF\" size={15} loading={loading} />\r\n                ) : (\r\n                  <button\r\n                    className=\"text-primary font-gilroy_md cursor-pointer\"\r\n                    onClick={handleCheckOTP}\r\n                  >\r\n                    Sign In\r\n                  </button>\r\n                )}\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </Dialog>\r\n  );\r\n}\r\n\r\nexport default OtpForm;\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1066, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Renz-Lunci/Desktop/TIKTOK/reel-boost-website/src/app/signin/Signup.tsx"],"sourcesContent":["\"use client\";\r\nimport { Dialog } from \"@mui/material\";\r\nimport { useAppDispatch, useAppSelector } from \"../utils/hooks\";\r\nimport \"react-phone-input-2/lib/high-res.css\";\r\nimport PhoneInput from \"react-phone-input-2\";\r\nimport { hideModal, showModal } from \"../store/Slice/ModalsSlice\";\r\nimport { toast } from \"react-toastify\";\r\nimport { useEffect, useState } from \"react\";\r\nimport IconInput from \"../components/SignupField\";\r\nimport { FindUserRes, UpdateUserRes } from \"../types/ResTypes\";\r\nimport useApiPost from \"../hooks/postData\";\r\nimport { ClipLoader } from \"react-spinners\";\r\nimport Image from \"next/image\";\r\nimport validator from \"validator\";\r\n\r\nexport default function Signup() {\r\n  const dispatch = useAppDispatch();\r\n  const [isChecked, setIsChecked] = useState(false);\r\n  // const open = useAppSelector((state) => state.modals.Signup);\r\n  const email = useAppSelector((state) => state.user.email);\r\n  const country = useAppSelector((state) => state.user.country);\r\n  const countryCode = useAppSelector((state) => state.user.country_code);\r\n  const phone = useAppSelector((state) => state.user.phone);\r\n  const { postData, loading } = useApiPost();\r\n\r\n  \r\n\r\n  // Initial form data\r\n  const [formData, setFormData] = useState({\r\n    user_name: \"\",\r\n    first_name: \"\",\r\n    last_name: \"\",\r\n    full_name: \"\",\r\n    email: email || \"\",\r\n    mobile_num: countryCode && phone ? `+${countryCode}${phone}` : \"\", // formatted\r\n    country: country || \"\",\r\n    profile_pic: \"\",\r\n    bio: \"\",\r\n  });\r\n\r\n\r\n// ✅ Validate signup fields\r\nconst validateSignup = () => {\r\n  const { user_name, email, mobile_num } = formData;\r\n\r\n  // Username\r\n  if (!user_name || !validator.matches(user_name, /^[a-zA-Z0-9_.-]+$/)) {\r\n    toast.error(\r\n      \"Username can only contain letters, numbers, underscores (_), hyphens (-), and dots (.)\"\r\n    );\r\n    return false;\r\n  }\r\n\r\n  // Email\r\n  if (!email || !validator.isEmail(email)) {\r\n    toast.error(\"Please enter a valid email address.\");\r\n    return false;\r\n  }\r\n\r\n  // Mobile number\r\n  if (!mobile_num) {\r\n    toast.error(\"Please enter a valid phone number.\");\r\n    return false;\r\n  }\r\n\r\n  const phoneWithoutPlus = mobile_num.startsWith(\"+\") ? mobile_num.slice(1) : mobile_num;\r\n\r\n  if (!validator.isMobilePhone(phoneWithoutPlus, undefined, { strictMode: false })) {\r\n    toast.error(\"Invalid mobile number.\");\r\n    return false;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\n\r\n\r\n  useEffect(() => {\r\n    setFormData((prev) => ({\r\n      ...prev,\r\n      email: email || \"\",\r\n      mobile_num: countryCode && phone ? `+${countryCode}${phone}` : \"\",\r\n    }));\r\n  }, [email, phone, countryCode]);\r\n\r\n  // ✅ Update full_name whenever first_name or last_name changes\r\n  const handleFirstNameChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const first_name = e.target.value;\r\n    setFormData((prev) => ({\r\n      ...prev,\r\n      first_name,\r\n      full_name: `${first_name} ${prev.last_name}`.trim(),\r\n    }));\r\n  };\r\n\r\n  const handleLastNameChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const last_name = e.target.value;\r\n    setFormData((prev) => ({\r\n      ...prev,\r\n      last_name,\r\n      full_name: `${prev.first_name} ${last_name}`.trim(),\r\n    }));\r\n  };\r\n\r\n  // ✅ Updated checkUsernameAvailability with token in headers\r\n  const checkUsernameAvailability = async (user_name: string) => {\r\n    if (!user_name) {\r\n      setUsernameVerified(false);\r\n      return;\r\n    }\r\n    try {\r\n      const response: FindUserRes = await postData(\"/users/find-user\", {\r\n        user_name,\r\n        user_check: true,\r\n      });\r\n\r\n      if (response.status === true) {\r\n        setUsernameVerified(true);\r\n      } else {\r\n        setUsernameVerified(false);\r\n      }\r\n    } catch (error) {\r\n      setUsernameVerified(false);\r\n    }\r\n  };\r\n  // ✅ Updated handleSignup to include token\r\n  const handleSignup = async () => {\r\n    if(!validateSignup()) return;\r\n\r\n    try {\r\n      const response: UpdateUserRes = await postData(\"/users/updateUser\", {\r\n        user_name: formData.user_name,\r\n        first_name: formData.first_name,\r\n        last_name: formData.last_name,\r\n        mobile_num: phone,\r\n        country: country,\r\n        bio: formData.bio,\r\n        email: formData.email,\r\n      });\r\n\r\n      if (response.status === false) {\r\n        toast.error(response.message);\r\n      } else {\r\n        toast.success(\"Signed up successfully!\");\r\n        dispatch(hideModal(\"Signup\"));\r\n        dispatch(showModal(\"Avtar\"));\r\n      }\r\n    } catch (error) {\r\n      toast.error(\"Signup failed. Please try again.\");\r\n    }\r\n  };\r\n\r\n  const [usernameVerified, setUsernameVerified] = useState(false);\r\n  const open = useAppSelector((state) => state.modals.Signup);\r\n \r\n\r\n  return (\r\n    <>\r\n      <Dialog\r\n        open={open}\r\n        onClose={() => dispatch(hideModal(\"Signup\"))}\r\n        fullWidth\r\n        PaperProps={{\r\n          sx: {\r\n            p: 0,\r\n            overflow: \"visible\",\r\n            borderRadius: 3,\r\n            maxHeight: \"90vh\",\r\n            width: \"430px\",\r\n            maxWidth: \"100%\",\r\n          },\r\n        }}\r\n        BackdropProps={{\r\n          sx: {\r\n            background: \"#000000BD\",\r\n          },\r\n        }}\r\n      >\r\n        {/* Login Form ====================================================================================*/}\r\n\r\n        <>\r\n          <div\r\n            className=\" rounded-xl py-5 px-5\"\r\n            style={{ boxShadow: \"9.3px 10.46px 64.96px 0px #00000026\" }}\r\n          >\r\n            {/* Close Button */}\r\n\r\n            {/* Title */}\r\n\r\n            <h3 className=\" pb-6 text-[20px] font-medium text-dark text-center\">\r\n              Signup\r\n            </h3>\r\n            <form className=\"\">\r\n              <div className=\"max-h-[55vh] overflow-y-auto flex flex-col gap-4 px-4\">\r\n                {/* Username =================== */}\r\n                <div className=\"flex flex-col gap-0.5 relative\">\r\n                  <label className=\"text-dark text-[13px]\">\r\n                    User Name<span className=\"text-red\">*</span>\r\n                  </label>\r\n\r\n                  <IconInput\r\n                    iconSrc=\"/signup/username.png\"\r\n                    placeholder=\"Enter Username\"\r\n                    value={formData.user_name}\r\n                    onChange={(e) => {\r\n                      const user_name = e.target.value;\r\n                      setFormData({ ...formData, user_name });\r\n                      checkUsernameAvailability(user_name);\r\n                    }}\r\n                  />\r\n\r\n                  {usernameVerified === true && (\r\n                    <Image\r\n                      src=\"/profile/verified.png\"\r\n                      className=\"absolute top-1/2 -translate-y-1/2 right-2 w-5 h-5 mt-2\"\r\n                      alt=\"verified\"\r\n                      height={23}\r\n                      width={23}\r\n                    />\r\n                  )}\r\n\r\n                  {formData.user_name && usernameVerified === false && (\r\n                    <p className=\"text-xs text-red mt-1\">\r\n                      Username already taken\r\n                    </p>\r\n                  )}\r\n                </div>\r\n\r\n                {/* First Name ================== */}\r\n                <div className=\"flex flex-col gap-0.5\">\r\n                  <label className=\"text-dark text-[13px]\">\r\n                    First Name<span className=\"text-red\">*</span>\r\n                  </label>\r\n                  <IconInput\r\n                    iconSrc=\"/signup/name.png\"\r\n                    placeholder=\"Enter First Name\"\r\n                    value={formData.first_name}\r\n                    onChange={handleFirstNameChange}\r\n                  />\r\n                </div>\r\n\r\n                {/* Last Name ========================= */}\r\n                <div className=\"flex flex-col gap-0.5\">\r\n                  <label className=\"text-dark text-[13px]\">\r\n                    Last Name<span className=\"text-red\">*</span>\r\n                  </label>\r\n                  <IconInput\r\n                    iconSrc=\"/signup/name.png\"\r\n                    placeholder=\"Enter Last Name\"\r\n                    value={formData.last_name}\r\n                    onChange={handleLastNameChange}\r\n                  />\r\n                </div>\r\n\r\n                {/* Phone number ===================== */}\r\n                <div className=\"flex flex-col gap-0.5\">\r\n                  <label className=\"text-dark text-[13px] font-\">\r\n                    Mobile Number<span className=\"text-red\">*</span>\r\n                  </label>\r\n\r\n                  <div className=\"relative\">\r\n                    <PhoneInput\r\n                      country={\"in\"}\r\n                      enableSearch\r\n                      value={formData.mobile_num}\r\n                      onChange={(value) => {\r\n                        setFormData((prev) => ({\r\n                          ...prev,\r\n                          mobile_num: value, // value is like \"+919876543210\"\r\n                        }));\r\n                      }}\r\n                      inputClass=\"border border-border-color rounded-lg w-full p-2 py-1.5 placeholder:text-xs text-dark placeholder:text-gray bg-white focus:outline-none focus:ring-1 focus:ring-main-green\"\r\n                      buttonClass=\"!bg-transparent\"\r\n                      containerClass=\"relative\"\r\n                    />\r\n\r\n                    {/* Verified Icon */}\r\n                    {phone && (\r\n                      <Image\r\n                        src=\"/profile/verified.png\"\r\n                        className=\"absolute right-4 top-1/2 transform -translate-y-1/2 w-5 h-5\"\r\n                        alt=\"Verified\"\r\n                        height={23}\r\n                        width={23}\r\n                      />\r\n                    )}\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Email */}\r\n                <div className=\"flex flex-col gap-0.5 relative\">\r\n                  <label className=\"text-dark text-[13px] font-\">\r\n                    Email<span className=\"text-red\">*</span>\r\n                  </label>\r\n                  <IconInput\r\n                    iconSrc=\"/signup/email.png\"\r\n                    placeholder=\"Enter Email\"\r\n                    value={formData.email}\r\n                    onChange={(e) => {\r\n                      const email = e.target.value;\r\n                      setFormData({ ...formData, email });\r\n                    }}\r\n                  />\r\n\r\n                  {email && (\r\n                    <Image\r\n                      src=\"/profile/verified.png\"\r\n                      className=\"absolute right-4 top-8 w-5 h-5\"\r\n                      alt=\"Verified\"\r\n                      width={23}\r\n                      height={23}\r\n                    />\r\n                  )}\r\n                </div>\r\n\r\n                {/* Bio ========================== */}\r\n                <div className=\"flex flex-col gap-0.5\">\r\n                  <label className=\"text-dark text-[13px]\">Bio</label>\r\n                  <div className=\"relative\">\r\n                    {/* Icon inside the textarea container */}\r\n                    <div className=\"absolute left-3 background-opacityGradient p-2 rounded-full top-2 flex items-center justify-center z-10\">\r\n                      <Image\r\n                        src=\"/signup/bio.png\"\r\n                        alt=\"User\"\r\n                        className=\"opacity-70\"\r\n                        width={20}\r\n                        height={20}\r\n                      />\r\n                    </div>\r\n\r\n                    <textarea\r\n                      rows={6}\r\n                      value={formData.bio}\r\n                      className=\"w-full border border-gray-300 text-xs rounded-md pl-16 text-dark pr-2 pt-4 pb-2 bg-white focus:outline-none focus:ring-1 focus:ring-main-green placeholder:text-xs font-gilroy_regular placeholder:text-gray-400\"\r\n                      placeholder=\"Enter Bio\"\r\n                      onChange={(e) => {\r\n                        const bio = e.target.value;\r\n                        setFormData({ ...formData, bio });\r\n                      }}\r\n                    />\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"my-5\">\r\n                <div className=\"flex gap-1 px-2 py-4 cursor-pointer justify-center\">\r\n                  <input\r\n                    type=\"checkbox\"\r\n                    checked={isChecked}\r\n                    onChange={(e) => setIsChecked(e.target.checked)}\r\n                  />\r\n                  <p className=\"text-dark text-sm text-center\">\r\n                    I agree to the{\" \"}\r\n                    <span className=\"text-main-green cursor-pointer hover:underline\">\r\n                      Terms of Services\r\n                    </span>{\" \"}\r\n                    &{\" \"}\r\n                    <span className=\"text-main-green hover:underline cursor-pointer\">\r\n                      Privacy Policy\r\n                    </span>\r\n                  </p>\r\n                </div>\r\n\r\n                <div className=\"flex justify-center place-items-center\">\r\n                  <button\r\n                    type=\"button\"\r\n                    className=\"bg-main-green text-primary rounded-xl w-[55%] py-2.5 font-normal text-sm cursor-pointer\"\r\n                    onClick={() => {\r\n                      if (!isChecked) {\r\n                        toast.error(\r\n                          \"Please agree to Terms & Privacy Policy to continue\"\r\n                        );\r\n                        return;\r\n                      }\r\n                      handleSignup();\r\n                    }}\r\n                  >\r\n                    {loading ? (\r\n                      <>\r\n                        <ClipLoader\r\n                          color=\"#FFFFFF\"\r\n                          size={15}\r\n                          loading={loading}\r\n                        />\r\n                      </>\r\n                    ) : (\r\n                      <>Next</>\r\n                    )}\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </form>\r\n\r\n            {/* <div className=\"w-full text-center text-sm text-dark\">\r\n          Already a member?{\" \"}\r\n          <span\r\n            className=\"text-main-green hover:underline cursor-pointer\"\r\n            onClick={() => {\r\n              dispatch(showModal(\"Signin\"));\r\n              dispatch(hideModal(\"Signup\"));\r\n            }}\r\n          >\r\n            Signin\r\n          </span>\r\n        </div> */}\r\n          </div>\r\n        </>\r\n      </Dialog>\r\n    </>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1698, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Renz-Lunci/Desktop/TIKTOK/reel-boost-website/src/app/signin/SelectAvatarModal.tsx"],"sourcesContent":["\"use client\";\r\nimport React, { useState, useRef, useEffect } from \"react\";\r\nimport Image from \"next/image\";\r\nimport toast from \"react-hot-toast\";\r\nimport { ClipLoader } from \"react-spinners\";\r\nimport { Dialog } from \"@mui/material\";\r\nimport { useAppDispatch, useAppSelector } from \"../utils/hooks\";\r\nimport { hideModal, showModal } from \"../store/Slice/ModalsSlice\";\r\nimport { RxCaretLeft, RxCaretRight, RxCross2 } from \"react-icons/rx\";\r\nimport { TiTick } from \"react-icons/ti\";\r\nimport { useAvatars } from \"../store/api/getAvatars\";\r\nimport Cookies from \"js-cookie\";\r\nimport useApiPost from \"../hooks/postData\";\r\nimport { ProjectConfigRes, UpdateUserRes } from \"../types/ResTypes\";\r\n\r\nfunction SelectAvatarModal() {\r\n  const token = Cookies.get(\"Reelboost_auth_token\");\r\n  // const { data: AvatarData, isLoading } = useGetAllAvatarQuery({\r\n  //   token: token,\r\n  // });\r\n  const { data: AvatarData } = useAvatars(token);\r\n  const { postData, loading } = useApiPost();\r\n\r\n  const Avatars = AvatarData?.data.Records;\r\n\r\n  const [uploadedImage, setUploadedImage] = useState(\"\");\r\n  const dispatch = useAppDispatch();\r\n  const fileInputRef = useRef<HTMLInputElement | null>(null);\r\n\r\n  const [mediaflow, setMediaflow] = useState<\"LOCAL\" | \"S3\" | string>(\"\");\r\n  \r\n useEffect(() => {\r\n  \r\n  const fetchConfig = async () => {\r\n    try {\r\n      const res = await fetch(`${process.env.NEXT_PUBLIC_API_URL}/project_conf`, {\r\n        headers: {\r\n          Authorization: `Bearer ${Cookies.get(\"Reelboost_auth_token\") || \"\"}`,\r\n        },\r\n      });\r\n\r\n      const data: ProjectConfigRes = await res.json();\r\n\r\n      if (data?.data?.mediaflow) {\r\n        setMediaflow(data.data.mediaflow);\r\n      }\r\n    } catch (error) {\r\n      // Optional: Show toast, but DO NOT redirect here\r\n    }\r\n  };\r\n\r\n  fetchConfig();\r\n}, []);\r\n\r\n\r\n  //   const dispatch = useAppDispatch();\r\n  const [imageFile, setImageFile] = useState<File | null>(null);\r\n  const [imagePreview, setImagePreview] = useState<string | null>(null);\r\n\r\n  const [formData, setFormData] = useState({\r\n    avatar_id: 0,\r\n  });\r\n\r\n  const [selectedAvatar, setSelectedAvatar] = useState<number | null>();\r\n\r\n  // Function to handle avatar selection\r\n  const handleAvatarClick = (avatarSrc: string, avatarId: number) => {\r\n    setSelectedAvatar(avatarId);\r\n    setUploadedImage(avatarSrc);\r\n    setImagePreview(null); // Clear custom uploaded image preview\r\n    setImageFile(null); // Clear uploaded file\r\n    setFormData({\r\n      ...formData,\r\n      avatar_id: avatarId,\r\n    });\r\n  };\r\n\r\n  // Function to trigger file input\r\n  const handleImageClick = () => {\r\n    if (fileInputRef.current) {\r\n      fileInputRef.current.click();\r\n    }\r\n  };\r\n\r\n  // Function to remove uploaded image\r\n  const handleRemoveImage = () => {\r\n  setUploadedImage(\"\"); // remove uploaded image\r\n  setImagePreview(null); // clear preview\r\n  setImageFile(null); // clear file\r\n\r\n  // Reset to the first avatar if avatars exist\r\n  if (Avatars && Avatars.length > 0) {\r\n    const firstAvatar = Avatars[0];\r\n    setSelectedAvatar(firstAvatar.avatar_id);\r\n    setUploadedImage(firstAvatar.avatar_media);\r\n    setFormData({\r\n      ...formData,\r\n      avatar_id: firstAvatar.avatar_id,\r\n    });\r\n  }\r\n};\r\n\r\n\r\n  const handleImageChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    if (e.target.files && e.target.files[0]) {\r\n      const file = e.target.files[0];\r\n      setImageFile(file);\r\n\r\n      const reader = new FileReader();\r\n      reader.onloadend = () => {\r\n        setImagePreview(reader.result as string);\r\n      };\r\n      reader.readAsDataURL(file);\r\n\r\n      // Clear avatar selection\r\n      setSelectedAvatar(null);\r\n      setUploadedImage(\"\");\r\n      setFormData({\r\n        ...formData,\r\n        avatar_id: 0, // Clear avatar ID\r\n      });\r\n    }\r\n  };\r\n\r\n  const [isSubmitting, setIsSubmitting] = useState(false);\r\n\r\n  const handleSubmit = async () => {\r\n    const form = new FormData();\r\n\r\n    if (selectedAvatar) {\r\n      form.append(\"avatar_id\", formData.avatar_id.toString());\r\n      form.append(\"pictureType\", \"avatar\");\r\n    } else if (imageFile) {\r\n\r\n      // S3 Flow condition\r\n      if (mediaflow === \"LOCAL\") {\r\n        form.append(\"files\", imageFile);\r\n      } else {\r\n        form.append(\"file_media_1\", imageFile);\r\n      }\r\n    } else {\r\n      toast.error(\"Please select an avatar or upload an image.\");\r\n      return;\r\n    }\r\n\r\n    setIsSubmitting(true); // block any redirect checks\r\n\r\n    try {\r\n      const response: UpdateUserRes = await postData(\"/users/updateUser\", form);\r\n      if (response.status) {\r\n        dispatch(hideModal(\"Avtar\"));\r\n        dispatch(showModal(\"Profile\"));\r\n        window.location.replace(\"/\");\r\n      } else {\r\n        toast.error(response.message);\r\n      }\r\n    } catch (error) {\r\n      toast.error(\"Something went wrong!\");\r\n    } finally {\r\n      setIsSubmitting(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (Avatars && Avatars.length > 0 && !selectedAvatar && !imagePreview) {\r\n      setSelectedAvatar(Avatars[0].avatar_id);\r\n      setUploadedImage(Avatars[0].avatar_media);\r\n      setFormData((prev) => ({\r\n        ...prev,\r\n        avatar_id: Avatars[0].avatar_id,\r\n      }));\r\n    }\r\n  }, [Avatars]);\r\n\r\n  const scrollRef = useRef<HTMLDivElement>(null);\r\n\r\n  const scrollLeft = () => {\r\n    scrollRef.current?.scrollBy({ left: -100, behavior: \"smooth\" });\r\n  };\r\n\r\n  const scrollRight = () => {\r\n    scrollRef.current?.scrollBy({ left: 100, behavior: \"smooth\" });\r\n  };\r\n\r\n  const open = useAppSelector((state) => state.modals.Avtar);\r\n\r\n  return (\r\n    <>\r\n      <Dialog\r\n        open={open}\r\n        fullWidth\r\n        PaperProps={{\r\n          sx: {\r\n            p: 0,\r\n            overflow: \"visible\",\r\n            borderRadius: 3,\r\n            maxWidth: \"100%\",\r\n            width: \"420px\",\r\n          },\r\n        }}\r\n        BackdropProps={{\r\n          sx: {\r\n            background: \"#000000BD\",\r\n          },\r\n        }}\r\n      >\r\n        {/* Select Image div */}\r\n        <div\r\n          className=\"flex flex-col rounded-xl justify-center opacity-100 place-content-center relative bg-primary sm:py-8 sm:px-8 p-5\"\r\n          style={{ boxShadow: \"9.3px 10.46px 64.96px 0px #00000026\" }}\r\n        >\r\n          {/* Select Avatar div */}\r\n          <div>\r\n            <h2 className=\"text-center text-dark sm:text-base text-sm font-medium\">\r\n              {\" \"}\r\n              Pick your Avatar or select a photo\r\n            </h2>\r\n\r\n            {/* Profile Circle */}\r\n            <div className=\"flex justify-center items-center w-full py-4\">\r\n              <div className=\"relative rounded-full border border-main-green/[0.4] w-24 h-24 flex justify-center items-center\">\r\n                {/* Border */}\r\n\r\n                {/* User Image */}\r\n                {/* {IsLoading ? (\r\n                  <>\r\n                    <div className=\"w-24 h-24 rounded-full\">\r\n                      <RoundedShimmer />\r\n                    </div>\r\n                  </>\r\n                ) : (\r\n                  <> */}\r\n                <Image\r\n                  src={\r\n                    imagePreview\r\n                      ? imagePreview // uploaded image\r\n                      : uploadedImage // selected avatar image\r\n                  }\r\n                  alt=\"User\"\r\n                  className=\"absolute inset-0 rounded-full w-22 h-22 m-auto\"\r\n                  height={85}\r\n                  width={85}\r\n                />\r\n\r\n                {/* </> */}\r\n\r\n                {/* )} */}\r\n              </div>\r\n            </div>\r\n\r\n            {/* Choose Avatar */}\r\n            <div className=\"border border-[#EFEFEF] rounded-xl px-4 py-2\">\r\n              <h2 className=\"text-left font-semibold text-dark font-poppins text-sm\">\r\n                Choose Avatar\r\n              </h2>\r\n\r\n              <div className=\"relative py-4\">\r\n                {/* Left Arrow */}\r\n                <button\r\n                  className=\"absolute -left-8 top-1/2 cursor-pointer -translate-y-1/2 z-10 bg-primary shadow-md p-2 rounded-full\"\r\n                  onClick={scrollLeft}\r\n                >\r\n                  <RxCaretLeft className=\"text-lg text-dark\" />\r\n                </button>\r\n\r\n                {/* Avatar Scroll Area */}\r\n                <div\r\n                  ref={scrollRef}\r\n                  className=\"flex gap-4 overflow-x-auto no-scrollbar px-4\"\r\n                >\r\n                  {Avatars?.map((avatar) => (\r\n                    <div\r\n                      key={avatar.avatar_id}\r\n                      onClick={() =>\r\n                        handleAvatarClick(avatar.avatar_media, avatar.avatar_id)\r\n                      }\r\n                      className={`relative cursor-pointer flex-shrink-0 flex justify-center items-center ${\r\n                        selectedAvatar === avatar.avatar_id\r\n                          ? \"border-2 border-main-green rounded-full p-1\"\r\n                          : \"\"\r\n                      }`}\r\n                    >\r\n                      {selectedAvatar === avatar.avatar_id && (\r\n                        <>\r\n                          <div className=\"bg-main-green rounded-full absolute -bottom-[-1px] p-0.5 border-4 border-primary -right-[-2px]\">\r\n                            <TiTick className=\"text-primary text-xs\" />\r\n                          </div>\r\n                        </>\r\n                      )}\r\n                      {/* {IsLoading ? (\r\n                        <>\r\n                          <div className=\"w-20 h-20 rounded-full\">\r\n                            <RoundedShimmer />\r\n                          </div>\r\n                        </>\r\n                      ) : (\r\n                        <> */}\r\n                      <Image\r\n                        src={avatar.avatar_media}\r\n                        alt=\"\"\r\n                        className=\"rounded-full\"\r\n                        height={70}\r\n                        width={70}\r\n                      />\r\n                      {/* </>\r\n                      )} */}\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n\r\n                {/* Right Arrow */}\r\n                <button\r\n                  className=\"absolute -right-8 top-1/2 cursor-pointer -translate-y-1/2 z-10 bg-primary shadow-md p-2 rounded-full\"\r\n                  onClick={scrollRight}\r\n                >\r\n                  <RxCaretRight className=\"text-dark\" />\r\n                </button>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Divider */}\r\n            <div className=\"flex items-center justify-center py-4 w-full\">\r\n              <div className=\"flex-grow border-t border-main-green\"></div>\r\n              <h1 className=\"mx-4 text-lg font-poppins text-dark font-base\">\r\n                OR\r\n              </h1>\r\n              <div className=\"flex-grow border-t border-main-green\"></div>\r\n            </div>\r\n\r\n            {/* Choose photo image */}\r\n            <div className=\"border border-gray-200 rounded-xl px-4 py-2\">\r\n              <h2 className=\"text-left text-sm font-semibold text-dark\">\r\n                Choose From\r\n              </h2>\r\n\r\n              {imagePreview ? (\r\n                <div className=\"relative\">\r\n                  <div className=\"flex justify-center items-center w-full py-2\">\r\n                    <div className=\"shadow-md px-1 py-1 rounded-full\">\r\n                      <div className=\"relative w-24 h-24 border rounded-full border-main-green flex justify-center items-center\">\r\n                        <div\r\n                          className=\"absolute bottom-16 p-1 border-4 border-primary -right-1 cursor-pointer bg-main-green rounded-full\"\r\n                          onClick={handleRemoveImage}\r\n                        >\r\n                          <RxCross2 className=\"text-primary text-xs xl:text-sm\" />\r\n                        </div>\r\n                        <Image\r\n                          src={imagePreview}\r\n                          alt=\"Uploaded\"\r\n                          className=\"inset-0 rounded-full w-22 h-22 m-auto\"\r\n                          height={85}\r\n                          width={85}\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              ) : (\r\n                <div className=\"items-center w-full place-items-center h-full pb-4\">\r\n                  <div\r\n                    className=\"flex justify-center background-opacityGradient rounded-full p-4\"\r\n                    onClick={handleImageClick}\r\n                  >\r\n                    <Image\r\n                      src=\"/signup/gallery.png\"\r\n                      height={25}\r\n                      width={25}\r\n                      alt=\"gallery\"\r\n                    />\r\n                  </div>\r\n                  <label className=\"block cursor-pointer text-gray-600 pt-3 text-sm\">\r\n                    Add Image\r\n                    <input\r\n                      type=\"file\"\r\n                      accept=\"image/*\"\r\n                      className=\"hidden\"\r\n                      onChange={handleImageChange}\r\n                      ref={fileInputRef}\r\n                    />\r\n                  </label>\r\n                </div>\r\n              )}\r\n            </div>\r\n\r\n            {/* Submit button */}\r\n            <div className=\"flex justify-center\">\r\n              <button\r\n                className=\"py-2 w-full mt-6 cursor-pointer text-sm rounded-xl text-primary font-normal bg-main-green font-sans hover:opacity-90 \"\r\n                onClick={handleSubmit}\r\n              >\r\n                {loading ? (\r\n                  <>\r\n                    <ClipLoader color=\"#FFFFFF\" size={15} loading={loading} />\r\n                  </>\r\n                ) : (\r\n                  <>Submit</>\r\n                )}\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </Dialog>\r\n    </>\r\n  );\r\n}\r\nexport default SelectAvatarModal;\r\n"],"names":[],"mappings":"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","debugId":null}}]
}