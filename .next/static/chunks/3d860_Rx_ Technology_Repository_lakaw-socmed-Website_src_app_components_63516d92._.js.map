{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Renz-Lunci/Desktop/Rx/%20Technology/Repository/lakaw-socmed-Website/src/app/components/SearchInput.tsx"],"sourcesContent":["// components/SearchInput.tsx\r\nimport Image from \"next/image\";\r\nimport React, { useState, useEffect } from \"react\";\r\n\r\ninterface SearchInputProps {\r\n  placeholder?: string;\r\n  onSearch: (text: string) => void;\r\n}\r\n\r\nexport default function SearchInput({\r\n  placeholder = \"Search...\",\r\n  onSearch,\r\n}: SearchInputProps) {\r\n  const [searchText, setSearchText] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n  onSearch(searchText); // call directly, no debounce\r\n}, [searchText]);\r\n\r\n\r\n  return (\r\n    <div className=\"relative pr-6\">\r\n      <div className=\"absolute left-2 top-1/2 transform -translate-y-1/2 p-2 rounded-full flex items-center justify-center\">\r\n        <Image\r\n          src=\"/SidebarIcons/search.png\"\r\n          alt=\"Search\"\r\n          height={16}\r\n          width={16}\r\n        />\r\n      </div>\r\n      <input\r\n        type=\"text\"\r\n        value={searchText}\r\n        onChange={(e) => setSearchText(e.target.value)}\r\n        className=\"border border-main-green/[0.36] bg-main-green/[0.04] text-xs rounded-xl w-full py-2.5 pl-9.5 placeholder:text-gray placeholder:text-[12px] focus:outline-none\"\r\n        placeholder={placeholder}\r\n        autoComplete=\"off\"\r\n        autoCorrect=\"off\"\r\n        spellCheck=\"false\"\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\n"],"names":[],"mappings":"AAAA,6BAA6B;;;;;;AAC7B;AACA;;;;;AAOe,SAAS,YAAY,KAGjB;QAHiB,EAClC,cAAc,WAAW,EACzB,QAAQ,EACS,GAHiB;;IAIlC,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,sPAAQ,EAAC;IAE7C,IAAA,uPAAS;iCAAC;YACV,SAAS,aAAa,6BAA6B;QACrD;gCAAG;QAAC;KAAW;IAGb,qBACE,0QAAC;QAAI,WAAU;;0BACb,0QAAC;gBAAI,WAAU;0BACb,cAAA,0QAAC,wNAAK;oBACJ,KAAI;oBACJ,KAAI;oBACJ,QAAQ;oBACR,OAAO;;;;;;;;;;;0BAGX,0QAAC;gBACC,MAAK;gBACL,OAAO;gBACP,UAAU,CAAC,IAAM,cAAc,EAAE,MAAM,CAAC,KAAK;gBAC7C,WAAU;gBACV,aAAa;gBACb,cAAa;gBACb,aAAY;gBACZ,YAAW;;;;;;;;;;;;AAInB;GAjCwB;KAAA","debugId":null}},
    {"offset": {"line": 79, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Renz-Lunci/Desktop/Rx/%20Technology/Repository/lakaw-socmed-Website/src/app/components/SidebarComponents/SearchAccountsPopup.tsx"],"sourcesContent":["\"use client\";\r\nimport { Dialog } from \"@mui/material\";\r\nimport { hideModal } from \"@/app/store/Slice/ModalsSlice\";\r\nimport { useAppDispatch, useAppSelector } from \"@/app/utils/hooks\";\r\nimport useApiPost from \"@/app/hooks/postData\";\r\nimport React, { useEffect, useRef, useState, useCallback } from \"react\";\r\nimport SearchInput from \"../SearchInput\";\r\nimport { ClipLoader } from \"react-spinners\";\r\nimport { toast } from \"react-toastify\";\r\nimport { setUserId } from \"@/app/store/Slice/UserIdHashtagIdSlice\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport {\r\n  decrementFollowing,\r\n  incrementFollowing,\r\n} from \"@/app/store/Slice/FollowFollowingCount\";\r\nimport { triggerReelsRefresh } from \"@/app/store/Slice/fetchFollowReelsSlice\";\r\nimport Image from \"next/image\";\r\nimport { RxCross2 } from \"react-icons/rx\";\r\n\r\nexport interface UserRecord {\r\n  user_id: number;\r\n  user_name: string;\r\n  profile_pic?: string;\r\n  email?: string;\r\n  full_name?: string;\r\n  is_follow?: boolean;   // since youâ€™re toggling follow/unfollow\r\n}\r\n\r\n\r\n\r\nfunction SearchAccountsPopup() {\r\n  const open = useAppSelector((state) => state.modals.SearchAccounts);\r\n  const dispatch = useAppDispatch();\r\n  const { postData } = useApiPost();\r\n  const router = useRouter();\r\n\r\n  const [users, setUsers] = useState<UserRecord[]>([]);\r\n  const [page, setPage] = useState(1);\r\n  const [totalPages, setTotalPages] = useState(1);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [isLoadingNext, setIsLoadingNext] = useState(false);\r\n  const [searchText, setSearchText] = useState(\"\");\r\n  const [hasMore, setHasMore] = useState(true); // Added to track if more data is available\r\n\r\n  const containerRef = useRef<HTMLDivElement>(null);\r\n  const initialLoadDone = useRef(false);\r\n  const observer = useRef<IntersectionObserver | null>(null); // For IntersectionObserver\r\n\r\n  // Load Users\r\n  const fetchUsers = async (\r\n    pageNum: number = 1,\r\n    append = false,\r\n    search = \"\"\r\n  ) => {\r\n    if (!hasMore || (append && pageNum > totalPages)) return;\r\n\r\n    if (!append) setIsLoading(true);\r\n    else setIsLoadingNext(true);\r\n\r\n    try {\r\n      const res = await postData(\"/users/find-user-not-following\", {\r\n        page: pageNum,\r\n        user_name: search,\r\n      });\r\n\r\n      if (res?.status) {\r\n        const records = (res.data?.Records || []).filter(\r\n          (user:UserRecord) => user.user_name && user.user_name.trim() !== \"\"\r\n        ); // Filter out empty usernames\r\n        const pages = res.data?.Pagination?.total_pages || 1;\r\n\r\n        setUsers((prev) => (append ? [...prev, ...records] : records));\r\n        setTotalPages(pages);\r\n        setPage(pageNum);\r\n        setHasMore(pageNum < pages && records.length > 0); // Update hasMore based on data\r\n      }\r\n    } catch (err) {\r\n    } finally {\r\n      setIsLoading(false);\r\n      setIsLoadingNext(false);\r\n    }\r\n  };\r\n\r\n  // Initial Fetch on Open\r\n  useEffect(() => {\r\n    let cancelled = false;\r\n\r\n    const fetchInitialUsers = async () => {\r\n      if (open && !initialLoadDone.current) {\r\n        setUsers([]);\r\n        setPage(1);\r\n        setSearchText(\"\");\r\n        setHasMore(true);\r\n        initialLoadDone.current = true;\r\n\r\n        await fetchUsers(1, false, \"\");\r\n      }\r\n    };\r\n\r\n    fetchInitialUsers();\r\n\r\n    return () => {\r\n      cancelled = true;\r\n      initialLoadDone.current = false;\r\n    };\r\n  }, [open]);\r\n\r\n  // IntersectionObserver for infinite scroll\r\n  const lastUserElementRef = useCallback(\r\n    (node: HTMLDivElement) => {\r\n      if (isLoadingNext || isLoading) return;\r\n      \r\n      if (observer.current) observer.current.disconnect();\r\n\r\n      observer.current = new IntersectionObserver((entries) => {\r\n        if (entries[0].isIntersecting && hasMore && page < totalPages) {\r\n          fetchUsers(page + 1, true, searchText);\r\n        }\r\n      });\r\n\r\n      if (node) observer.current.observe(node);\r\n    },\r\n    [isLoading, isLoadingNext, hasMore, page, totalPages, searchText]\r\n  );\r\n\r\n  // Manual search\r\n  // Manual search\r\n// âœ… called directly on every keystroke\r\nconst handleSearch = (text: string) => {\r\n  const trimmed = text.trim();\r\n  setSearchText(trimmed);\r\n\r\n  // reset state\r\n  setUsers([]);\r\n  setPage(1);\r\n  setHasMore(true);\r\n\r\n  // ðŸ”‘ API call immediately\r\n  if (trimmed.length > 0) {\r\n    fetchUsers(1, false, trimmed);\r\n  }\r\n};\r\n\r\n\r\n\r\n// Call API when searchText changes\r\nuseEffect(() => {\r\n  if (open) {\r\n    setUsers([]);\r\n    setPage(1);\r\n    setHasMore(true);\r\n    fetchUsers(1, false, searchText);\r\n  }\r\n}, [searchText, open]);\r\n\r\n\r\n\r\n  // Follow / Unfollow\r\n  const handleFollowUnfollow = async (userId: number, isFollowed: boolean) => {\r\n    try {\r\n      const res = await postData(\"/follow/follow-unfollow\", {\r\n        user_id: userId,\r\n      });\r\n\r\n      if (res.status) {\r\n        toast.success(res.message);\r\n        setUsers((prev) =>\r\n          prev.map((user) =>\r\n            user.user_id === userId ? { ...user, is_follow: !isFollowed } : user\r\n          )\r\n        );\r\n\r\n        dispatch(isFollowed ? decrementFollowing() : incrementFollowing());\r\n        dispatch(triggerReelsRefresh());\r\n      } else {\r\n        toast.error(res.message || \"Failed to update follow status\");\r\n      }\r\n    } catch (error) {\r\n      toast.error(\"Something went wrong\");\r\n    }\r\n  };\r\n\r\n  // Navigate to user profile\r\n  const handleUserRoute = (userId: number) => {\r\n    dispatch(setUserId(userId));\r\n    dispatch(hideModal(\"SearchAccounts\"));\r\n    router.push(`/profile/${userId}`);\r\n  };\r\n\r\n  return (\r\n    <Dialog\r\n      open={open}\r\n      onClose={() => dispatch(hideModal(\"SearchAccounts\"))}\r\n      fullWidth\r\n      PaperProps={{\r\n        sx: {\r\n          p: 0,\r\n          overflow: \"visible\",\r\n          borderRadius: 3,\r\n          maxHeight: \"90vh\",\r\n          width: \"420px\",\r\n          maxWidth: \"100%\",\r\n        },\r\n      }}\r\n      BackdropProps={{\r\n        sx: {\r\n          background: \"#000000BD\",\r\n        },\r\n      }}\r\n    >\r\n      <button\r\n        onClick={() => dispatch(hideModal(\"SearchAccounts\"))}\r\n        className=\"\r\n          absolute -top-14 left-1/2 -translate-x-1/2\r\n          w-11 h-11 rounded-full bg-primary flex items-center justify-center\r\n          cursor-pointer shadow-md\r\n        \"\r\n        style={{ zIndex: 1301 }}\r\n      >\r\n        <RxCross2 className=\"w-6 h-6 text-dark-text font-semibold\" />\r\n      </button>\r\n      <div className=\"py-8 rounded-xl relative\">\r\n        <p className=\"text-sm text-center text-dark font-medium\">\r\n          Search Accounts\r\n        </p>\r\n\r\n        <div className=\"pl-6 pt-4\">\r\n          <SearchInput placeholder=\"Search User\" onSearch={handleSearch} />\r\n        </div>\r\n\r\n        {isLoading ? (\r\n          <div className=\"flex justify-center py-8 h-[500px]\">\r\n            <ClipLoader color=\"#1A9D77\" size={20} />\r\n          </div>\r\n        ) : (\r\n          <div\r\n            ref={containerRef}\r\n            className=\"mt-4 h-[500px] overflow-y-auto px-6\"\r\n          >\r\n            {users.length === 0 ? (\r\n              <p className=\"text-sm text-center text-gray-500\">\r\n                No users found.\r\n              </p>\r\n            ) : (\r\n              users.map((account, index) => (\r\n                <div\r\n                  key={account.user_id}\r\n                  ref={index === users.length - 1 ? lastUserElementRef : null} // Add ref to last user\r\n                  className=\"flex justify-between mb-4 items-center\"\r\n                >\r\n                  <div\r\n                    className=\"flex gap-2 items-center cursor-pointer\"\r\n                    onClick={() => handleUserRoute(account.user_id)}\r\n                  >\r\n                    <div className=\"rounded-full w-[40px] h-[40px] overflow-hidden bg-gray-200\">\r\n                      <Image\r\n                        src={account.profile_pic || \"\"}\r\n                        alt={account.user_name}\r\n                        className=\"w-full h-full object-cover\"\r\n                        width={60}\r\n                        height={60}\r\n                      />\r\n                    </div>\r\n                    <div className=\"flex flex-col\">\r\n                      <h3 className=\"text-xs text-dark\">\r\n                        {account.user_name || \"Unnamed\"}\r\n                      </h3>\r\n                      <p className=\"text-[10px] text-dark/[0.4]\">\r\n                        {account.full_name}\r\n                      </p>\r\n                    </div>\r\n                  </div>\r\n                  <button\r\n                    onClick={() =>\r\n                      handleFollowUnfollow(\r\n                        account.user_id,\r\n                        account.is_follow === true\r\n                      )\r\n                    }\r\n                    className={`cursor-pointer text-[10px] font-normal rounded-xl w-16 py-1 ${\r\n                      account.is_follow === true\r\n                        ? \"border border-main-green text-main-green\"\r\n                        : \"bg-main-green text-primary\"\r\n                    }`}\r\n                  >\r\n                    {account.is_follow === true ? \"Following\" : \"Follow\"}\r\n                  </button>\r\n                </div>\r\n              ))\r\n            )}\r\n            {isLoadingNext && (\r\n              <div className=\"flex justify-center py-4\">\r\n                <ClipLoader color=\"#1A9D77\" size={15} />\r\n              </div>\r\n            )}\r\n          </div>\r\n        )}\r\n      </div>\r\n    </Dialog>\r\n  );\r\n}\r\n\r\nexport default SearchAccountsPopup;\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 480, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Renz-Lunci/Desktop/Rx/%20Technology/Repository/lakaw-socmed-Website/src/app/components/CustomDialog.tsx"],"sourcesContent":["\"use client\";\r\nimport React from \"react\";\r\nimport { Dialog } from \"@mui/material\";\r\nimport { RxCross2 } from \"react-icons/rx\";\r\n\r\ninterface CustomDialogProps {\r\n  open: boolean;\r\n  onClose: () => void;\r\n  children: React.ReactNode;\r\n  title?: string;\r\n  maxWidth?: \"xs\" | \"sm\" | \"md\" | \"lg\" | \"xl\";\r\n  fullWidth?: boolean;\r\n  width?: string;\r\n}\r\n\r\nexport default function CustomDialog({\r\n  open,\r\n  onClose,\r\n  children,\r\n  title,\r\n  maxWidth = \"sm\",\r\n  fullWidth = true,\r\n  width,\r\n}: CustomDialogProps) {\r\n  return (\r\n    <Dialog\r\n      open={open}\r\n      onClose={onClose}\r\n      fullWidth={fullWidth}\r\n      maxWidth={maxWidth}\r\n      sx={{ overflow: \"visible\" }}\r\n      PaperProps={{\r\n        sx: {\r\n          p: 0,\r\n          overflow: \"visible\",\r\n          borderRadius: 3,\r\n          position: \"relative\",\r\n          ...(width ? { width } : {}),\r\n          // âœ… responsive height handling\r\n          maxHeight: \"90vh\",\r\n          \"@media (max-width:600px)\": {\r\n            maxHeight: \"80vh\", // smaller height on phones\r\n            margin: \"16px\", // prevent edge overflow\r\n          },\r\n        },\r\n      }}\r\n    >\r\n      {/* cross outside */}\r\n      <button\r\n        onClick={onClose}\r\n        className=\"\r\n          absolute -top-14 left-1/2 -translate-x-1/2\r\n          w-11 h-11 rounded-full bg-primary flex items-center justify-center\r\n          cursor-pointer shadow-md\r\n        \"\r\n        style={{ zIndex: 1301 }} // higher than dialog paper\r\n      >\r\n        <RxCross2 className=\"w-6 h-6 text-dark-text font-semibold\" />\r\n      </button>\r\n\r\n      <div className=\"relative w-full bg-primary rounded-xl overflow-hidden\">\r\n        {/* header / title bar */}\r\n        {title && (\r\n          <div className=\"place-items-center rounded-t-xl bg-main-green h-12 flex items-center justify-center\">\r\n            <p className=\"font-medium text-base text-center text-primary\">\r\n              {title}\r\n            </p>\r\n          </div>\r\n        )}\r\n\r\n        {/* dialog content */}\r\n        <div className=\"\">{children}</div>\r\n      </div>\r\n    </Dialog>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AAee,SAAS,aAAa,KAQjB;QARiB,EACnC,IAAI,EACJ,OAAO,EACP,QAAQ,EACR,KAAK,EACL,WAAW,IAAI,EACf,YAAY,IAAI,EAChB,KAAK,EACa,GARiB;IASnC,qBACE,0QAAC,2RAAM;QACL,MAAM;QACN,SAAS;QACT,WAAW;QACX,UAAU;QACV,IAAI;YAAE,UAAU;QAAU;QAC1B,YAAY;YACV,IAAI;gBACF,GAAG;gBACH,UAAU;gBACV,cAAc;gBACd,UAAU;gBACV,GAAI,QAAQ;oBAAE;gBAAM,IAAI,CAAC,CAAC;gBAC1B,+BAA+B;gBAC/B,WAAW;gBACX,4BAA4B;oBAC1B,WAAW;oBACX,QAAQ;gBACV;YACF;QACF;;0BAGA,0QAAC;gBACC,SAAS;gBACT,WAAU;gBAKV,OAAO;oBAAE,QAAQ;gBAAK;0BAEtB,cAAA,0QAAC,0OAAQ;oBAAC,WAAU;;;;;;;;;;;0BAGtB,0QAAC;gBAAI,WAAU;;oBAEZ,uBACC,0QAAC;wBAAI,WAAU;kCACb,cAAA,0QAAC;4BAAE,WAAU;sCACV;;;;;;;;;;;kCAMP,0QAAC;wBAAI,WAAU;kCAAI;;;;;;;;;;;;;;;;;;AAI3B;KA5DwB","debugId":null}},
    {"offset": {"line": 586, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Renz-Lunci/Desktop/Rx/%20Technology/Repository/lakaw-socmed-Website/src/app/components/LocationSearch.tsx"],"sourcesContent":["\"use client\";\r\nimport React, { useEffect, useRef } from \"react\";\r\n\r\ninterface LocationSearchProps {\r\n  value: string;\r\n  onChange: (location: string) => void;\r\n  placeholder?: string;\r\n}\r\n\r\nexport default function LocationSearch({ value, onChange, placeholder }: LocationSearchProps) {\r\n  const locationInputRef = useRef<HTMLInputElement>(null);\r\n  const autocompleteRef = useRef<google.maps.places.Autocomplete | null>(null);\r\n\r\n  const initAutocomplete = () => {\r\n    if (locationInputRef.current && !autocompleteRef.current) {\r\n      autocompleteRef.current = new window.google.maps.places.Autocomplete(locationInputRef.current, {\r\n        types: [\"geocode\"],\r\n        fields: [\"formatted_address\", \"geometry\"], // âœ… restrict fields for faster load\r\n      });\r\n\r\n      autocompleteRef.current.addListener(\"place_changed\", () => {\r\n        const place = autocompleteRef.current?.getPlace();\r\n        if (place?.formatted_address) {\r\n          onChange(place.formatted_address); // âœ… send location string back to parent\r\n        }\r\n      });\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (window.google && window.google.maps && window.google.maps.places) {\r\n      initAutocomplete();\r\n      return;\r\n    }\r\n\r\n    const scriptId = \"google-maps-script\";\r\n    if (document.getElementById(scriptId)) {\r\n      return; // already added\r\n    }\r\n\r\n    const script = document.createElement(\"script\");\r\n    script.id = scriptId;\r\n    script.src = `https://maps.googleapis.com/maps/api/js?key=AIzaSyAMZ4GbRFYSevy7tMaiH5s0JmMBBXc0qBA&libraries=places`;\r\n    script.async = true;\r\n    script.defer = true;\r\n    script.onload = () => initAutocomplete();\r\n    document.body.appendChild(script);\r\n  }, []);\r\n\r\n  return (\r\n    <input\r\n      ref={locationInputRef}\r\n      type=\"text\"\r\n      className=\"w-full pl-13 border border-border-color text-xs p-4 rounded-md focus:outline-none focus:ring-1 focus:ring-main-green\"\r\n      placeholder={placeholder || \"Search location...\"}\r\n      value={value}\r\n      onChange={(e) => onChange(e.target.value)} // controlled input for typing\r\n    />\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AACA;;;AADA;;AASe,SAAS,eAAe,KAAqD;QAArD,EAAE,KAAK,EAAE,QAAQ,EAAE,WAAW,EAAuB,GAArD;;IACrC,MAAM,mBAAmB,IAAA,oPAAM,EAAmB;IAClD,MAAM,kBAAkB,IAAA,oPAAM,EAAyC;IAEvE,MAAM,mBAAmB;QACvB,IAAI,iBAAiB,OAAO,IAAI,CAAC,gBAAgB,OAAO,EAAE;YACxD,gBAAgB,OAAO,GAAG,IAAI,OAAO,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC,iBAAiB,OAAO,EAAE;gBAC7F,OAAO;oBAAC;iBAAU;gBAClB,QAAQ;oBAAC;oBAAqB;iBAAW;YAC3C;YAEA,gBAAgB,OAAO,CAAC,WAAW,CAAC,iBAAiB;oBACrC;gBAAd,MAAM,SAAQ,2BAAA,gBAAgB,OAAO,cAAvB,+CAAA,yBAAyB,QAAQ;gBAC/C,IAAI,kBAAA,4BAAA,MAAO,iBAAiB,EAAE;oBAC5B,SAAS,MAAM,iBAAiB,GAAG,wCAAwC;gBAC7E;YACF;QACF;IACF;IAEA,IAAA,uPAAS;oCAAC;YACR,IAAI,OAAO,MAAM,IAAI,OAAO,MAAM,CAAC,IAAI,IAAI,OAAO,MAAM,CAAC,IAAI,CAAC,MAAM,EAAE;gBACpE;gBACA;YACF;YAEA,MAAM,WAAW;YACjB,IAAI,SAAS,cAAc,CAAC,WAAW;gBACrC,QAAQ,gBAAgB;YAC1B;YAEA,MAAM,SAAS,SAAS,aAAa,CAAC;YACtC,OAAO,EAAE,GAAG;YACZ,OAAO,GAAG,GAAI;YACd,OAAO,KAAK,GAAG;YACf,OAAO,KAAK,GAAG;YACf,OAAO,MAAM;4CAAG,IAAM;;YACtB,SAAS,IAAI,CAAC,WAAW,CAAC;QAC5B;mCAAG,EAAE;IAEL,qBACE,0QAAC;QACC,KAAK;QACL,MAAK;QACL,WAAU;QACV,aAAa,eAAe;QAC5B,OAAO;QACP,UAAU,CAAC,IAAM,SAAS,EAAE,MAAM,CAAC,KAAK;;;;;;AAG9C;GAlDwB;KAAA","debugId":null}},
    {"offset": {"line": 666, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Renz-Lunci/Desktop/Rx/%20Technology/Repository/lakaw-socmed-Website/src/app/components/SignupField.tsx"],"sourcesContent":["\"use client\";\r\nimport Image from \"next/image\";\r\nimport React from \"react\";\r\n\r\ninterface IconInputProps {\r\n  iconSrc: string;\r\n  placeholder: string;\r\n  value?: string;\r\n  onChange?: (e: React.ChangeEvent<HTMLInputElement>) => void;\r\n  name?: string;\r\n  type?: string;\r\n}\r\n\r\nconst SignupField: React.FC<IconInputProps> = ({\r\n  iconSrc,\r\n  placeholder,\r\n  value,\r\n  onChange,\r\n  name,\r\n  type = \"text\",\r\n}) => {\r\n  return (\r\n    <div className=\"relative\">\r\n      <div className=\"absolute left-2 top-1/2 transform -translate-y-1/2 p-2 rounded-full flex items-center justify-center background-opacityGradient\">\r\n        <Image src={iconSrc} alt=\"icon\" height={20} width={20} />\r\n      </div>\r\n      <input\r\n        type={type}\r\n        name={name}\r\n        value={value}\r\n        onChange={onChange}\r\n        className=\"border border-border-color rounded-lg text-dark w-full py-4.5 pl-16 text-xs placeholder:text-gray bg-primary focus:outline-none focus:ring-1 focus:ring-main-green\"\r\n        placeholder={placeholder}\r\n        autoComplete=\"off\"\r\n        autoCorrect=\"off\"\r\n        spellCheck={false}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SignupField;\r\n"],"names":[],"mappings":";;;;;AACA;AADA;;;AAaA,MAAM,cAAwC;QAAC,EAC7C,OAAO,EACP,WAAW,EACX,KAAK,EACL,QAAQ,EACR,IAAI,EACJ,OAAO,MAAM,EACd;IACC,qBACE,0QAAC;QAAI,WAAU;;0BACb,0QAAC;gBAAI,WAAU;0BACb,cAAA,0QAAC,wNAAK;oBAAC,KAAK;oBAAS,KAAI;oBAAO,QAAQ;oBAAI,OAAO;;;;;;;;;;;0BAErD,0QAAC;gBACC,MAAM;gBACN,MAAM;gBACN,OAAO;gBACP,UAAU;gBACV,WAAU;gBACV,aAAa;gBACb,cAAa;gBACb,aAAY;gBACZ,YAAY;;;;;;;;;;;;AAIpB;KA1BM;uCA4BS","debugId":null}},
    {"offset": {"line": 730, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Renz-Lunci/Desktop/Rx/%20Technology/Repository/lakaw-socmed-Website/src/app/components/MainSearch.tsx"],"sourcesContent":["\"use client\";\r\nimport React, { useRef, useState, useEffect, useCallback } from \"react\";\r\nimport { Dialog } from \"@mui/material\";\r\nimport { useAppDispatch, useAppSelector } from \"../utils/hooks\";\r\nimport { hideModal } from \"../store/Slice/ModalsSlice\";\r\nimport { ClipLoader } from \"react-spinners\";\r\nimport Image from \"next/image\";\r\nimport SearchInput from \"./SearchInput\";\r\nimport useApiPost from \"../hooks/postData\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport { toast } from \"react-toastify\";\r\nimport Cookies from \"js-cookie\";\r\nimport {\r\n  decrementFollowing,\r\n  incrementFollowing,\r\n} from \"../store/Slice/FollowFollowingCount\";\r\nimport { triggerReelsRefresh } from \"../store/Slice/fetchFollowReelsSlice\";\r\nimport { setUserId } from \"../store/Slice/UserIdHashtagIdSlice\";\r\nimport { RxCross2 } from \"react-icons/rx\";\r\nimport { UserRecord } from \"../types/ResTypes\";\r\n\r\nfunction MainSearch() {\r\n  const dispatch = useAppDispatch();\r\n  const open = useAppSelector((state) => state.modals.MainSearch);\r\n  const { postData } = useApiPost();\r\n  const router = useRouter();\r\n\r\n  const [users, setUsers] = useState<UserRecord[]>([]);\r\n  const [page, setPage] = useState(1);\r\n  const [totalPages, setTotalPages] = useState(1);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [isLoadingNext, setIsLoadingNext] = useState(false);\r\n  const [searchText, setSearchText] = useState(\"\");\r\n  const [hasMore, setHasMore] = useState(true);\r\n  const MyUserId = Number(Cookies.get(\"Reelboost_user_id\"));\r\n\r\n  const containerRef = useRef<HTMLDivElement>(null);\r\n  const initialLoadDone = useRef(false);\r\n  const observer = useRef<IntersectionObserver | null>(null);\r\n\r\n  // for deduping/stale response handling\r\n  const fetchIdRef = useRef(0);\r\n\r\n  // Robust fetch that skips pages with only unnamed users\r\n  const fetchUsers = useCallback(\r\n    async (pageNum: number = 1, append = false, search = \"\") => {\r\n      // if append and we've already passed last page, don't fetch\r\n      if (append && pageNum > totalPages) return;\r\n      // if no more overall, stop\r\n      if (!append && !hasMore && pageNum !== 1) return;\r\n\r\n      if (!append) setIsLoading(true);\r\n      else setIsLoadingNext(true);\r\n\r\n      const currentFetchId = ++fetchIdRef.current;\r\n\r\n      try {\r\n        const res = await postData(\"/users/find-user\", {\r\n          page: pageNum,\r\n          user_name: search,\r\n          name: search,\r\n        });\r\n\r\n        // ignore stale responses\r\n        if (fetchIdRef.current !== currentFetchId) return;\r\n\r\n        if (res?.status) {\r\n          const raw = res.data?.Records || [];\r\n          const pages = res.data?.Pagination?.total_pages || 1;\r\n\r\n          // filter unnamed users\r\n          const records: UserRecord[] = raw.filter(\r\n            (u: UserRecord) => u.user_name && u.user_name.trim() !== \"\"\r\n          );\r\n\r\n          // update pagination metadata\r\n          setTotalPages(pages);\r\n          setPage(pageNum);\r\n\r\n          if (records.length > 0) {\r\n            setUsers((prev) => (append ? [...prev, ...records] : records));\r\n            setHasMore(pageNum < pages); // there are more pages if current < pages\r\n          } else if (pageNum < pages) {\r\n            // this page had only invalid users â€” auto-skip to next page\r\n            await fetchUsers(pageNum + 1, append, search);\r\n            return; // don't run the \"no-data\" branch below yet\r\n          } else {\r\n            // no valid users and no more pages\r\n            if (!append) setUsers([]);\r\n            setHasMore(false);\r\n          }\r\n        } else {\r\n          // API responded with status false\r\n          if (!append) setUsers([]);\r\n          setHasMore(false);\r\n        }\r\n      } catch (err) {\r\n      } finally {\r\n        // only clear loading flags for this fetch (prevent racing)\r\n        if (fetchIdRef.current === currentFetchId) {\r\n          setIsLoading(false);\r\n          setIsLoadingNext(false);\r\n        }\r\n      }\r\n    },\r\n    [postData, totalPages, hasMore]\r\n  );\r\n\r\n  // initial fetch when dialog opens\r\n  useEffect(() => {\r\n    const fetchInitial = async () => {\r\n      if (open && !initialLoadDone.current) {\r\n        setUsers([]);\r\n        setPage(1);\r\n        setSearchText(\"\");\r\n        setHasMore(true);\r\n        initialLoadDone.current = true;\r\n        await fetchUsers(1, false, \"\");\r\n      }\r\n      if (!open) {\r\n        // reset so next open triggers fresh fetch\r\n        initialLoadDone.current = false;\r\n        fetchIdRef.current++; // cancel inflight\r\n      }\r\n    };\r\n    fetchInitial();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [open, fetchUsers]);\r\n\r\n  // debounce searchText -> debouncedSearch\r\n  const [debouncedSearch, setDebouncedSearch] = useState(searchText);\r\n  useEffect(() => {\r\n    const t = setTimeout(() => setDebouncedSearch(searchText), 300);\r\n    return () => clearTimeout(t);\r\n  }, [searchText]);\r\n\r\n  // when debouncedSearch changes, fetch page 1 with that query (handles cleared text too)\r\n  useEffect(() => {\r\n    setUsers([]);\r\n    setPage(1);\r\n    setTotalPages(1);\r\n    setHasMore(true);\r\n    fetchIdRef.current++; // cancel older requests\r\n    fetchUsers(1, false, debouncedSearch);\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [debouncedSearch]); // fetchUsers is stable via useCallback\r\n\r\n  // IntersectionObserver for infinite scroll\r\n  const lastUserElementRef = useCallback(\r\n    (node: HTMLDivElement | null) => {\r\n      if (isLoading || isLoadingNext) return;\r\n      if (observer.current) observer.current.disconnect();\r\n\r\n      observer.current = new IntersectionObserver(\r\n        (entries) => {\r\n          if (\r\n            entries[0].isIntersecting &&\r\n            hasMore &&\r\n            page < totalPages &&\r\n            !isLoadingNext\r\n          ) {\r\n            fetchUsers(page + 1, true, debouncedSearch);\r\n          }\r\n        },\r\n        { threshold: 0.1 }\r\n      );\r\n\r\n      if (node) observer.current.observe(node);\r\n    },\r\n    [isLoading, isLoadingNext, hasMore, page, totalPages, fetchUsers, debouncedSearch]\r\n  );\r\n\r\n  // search input handler: only update search text (debounce handles API call)\r\n  const handleSearch = (text: string) => {\r\n    const trimmed = text.trimStart(); // keep trailing removal to avoid immediate disappearance while typing\r\n    setSearchText(trimmed);\r\n    // do not call fetchUsers here â€” the debounced effect will handle it\r\n  };\r\n\r\n  // Follow / Unfollow\r\n  const handleFollowUnfollow = async (userId: number, isFollowed: boolean) => {\r\n    try {\r\n      const res = await postData(\"/follow/follow-unfollow\", {\r\n        user_id: userId,\r\n      });\r\n\r\n      if (res.status) {\r\n        toast.success(res.message);\r\n        setUsers((prev) =>\r\n          prev.map((user) =>\r\n            user.user_id === userId ? { ...user, is_follow: !isFollowed } : user\r\n          )\r\n        );\r\n\r\n        dispatch(isFollowed ? decrementFollowing() : incrementFollowing());\r\n        dispatch(triggerReelsRefresh());\r\n      } else {\r\n        toast.error(res.message || \"Failed to update follow status\");\r\n      }\r\n    } catch (error) {\r\n      toast.error(\"Something went wrong\");\r\n    }\r\n  };\r\n\r\n  // Navigate to user profile\r\n  const handleUserRoute = (userId: number) => {\r\n    dispatch(setUserId(userId));\r\n    dispatch(hideModal(\"MainSearch\"));\r\n    router.push(`/profile/${userId}`);\r\n  };\r\n\r\n  return (\r\n    <Dialog\r\n      open={open}\r\n      onClose={() => dispatch(hideModal(\"MainSearch\"))}\r\n      fullWidth\r\n      PaperProps={{\r\n        sx: {\r\n          p: 0,\r\n          overflow: \"visible\",\r\n          borderRadius: 3,\r\n          maxHeight: \"90vh\",\r\n          width: \"420px\",\r\n          maxWidth: \"100%\",\r\n        },\r\n      }}\r\n      BackdropProps={{\r\n        sx: {\r\n          background: \"#000000BD\",\r\n        },\r\n      }}\r\n    >\r\n      <button\r\n        onClick={() => dispatch(hideModal(\"MainSearch\"))}\r\n        className=\"\r\n          absolute -top-14 left-1/2 -translate-x-1/2\r\n          w-11 h-11 rounded-full bg-primary flex items-center justify-center\r\n          cursor-pointer shadow-md\r\n        \"\r\n        style={{ zIndex: 1301 }}\r\n      >\r\n        <RxCross2 className=\"w-6 h-6 text-dark-text font-semibold\" />\r\n      </button>\r\n      <div className=\"py-8 rounded-xl relative\">\r\n        <p className=\"text-sm text-center font-medium text-dark\">\r\n          Search Accounts\r\n        </p>\r\n\r\n        <div className=\"pl-6 pt-4\">\r\n          <SearchInput placeholder=\"Search User\" onSearch={handleSearch} />\r\n        </div>\r\n\r\n        {isLoading ? (\r\n          <div className=\"flex justify-center py-8 h-[500px]\">\r\n            <ClipLoader color=\"#1A9D77\" size={20} />\r\n          </div>\r\n        ) : (\r\n          <div\r\n            ref={containerRef}\r\n            className=\"mt-4 h-[500px] overflow-y-auto px-6 text-dark\"\r\n          >\r\n            {users.length === 0 ? (\r\n              <p className=\"text-sm text-center text-gray-800\">No users found.</p>\r\n            ) : (\r\n              users.map((account, index) => (\r\n                <div\r\n                  key={account.user_id}\r\n                  ref={index === users.length - 1 ? lastUserElementRef : null}\r\n                  className=\"flex justify-between mb-4 items-center\"\r\n                >\r\n                  <div\r\n                    className=\"flex gap-2 items-center cursor-pointer\"\r\n                    onClick={() => handleUserRoute(account.user_id)}\r\n                  >\r\n                    <div className=\"rounded-full w-[40px] h-[40px] overflow-hidden bg-gray-200\">\r\n                      <Image\r\n                        src={account.profile_pic || \"/default-avatar.png\"}\r\n                        alt={account.user_name}\r\n                        className=\"w-full h-full object-cover\"\r\n                        width={60}\r\n                        height={60}\r\n                      />\r\n                    </div>\r\n                    <div className=\"flex flex-col\">\r\n                      <h3 className=\"text-xs text-dark\">{account.user_name}</h3>\r\n                      <p className=\"text-[12px] text-dark/[0.4]\">\r\n                        {account.full_name}\r\n                      </p>\r\n                    </div>\r\n                  </div>\r\n                  {account.user_id !== MyUserId && (\r\n                    <button\r\n                      onClick={() =>\r\n                        handleFollowUnfollow(account.user_id, account.is_follow)\r\n                      }\r\n                      className={`cursor-pointer text-[10px] font-normal rounded-xl w-16 py-1 ${\r\n                        account.is_follow\r\n                          ? \"border border-main-green text-main-green\"\r\n                          : \"bg-main-green text-primary\"\r\n                      }`}\r\n                    >\r\n                      {account.is_follow ? \"Following\" : \"Follow\"}\r\n                    </button>\r\n                  )}\r\n                </div>\r\n              ))\r\n            )}\r\n            {isLoadingNext && (\r\n              <div className=\"flex justify-center py-4\">\r\n                <ClipLoader color=\"#1A9D77\" size={15} />\r\n              </div>\r\n            )}\r\n          </div>\r\n        )}\r\n      </div>\r\n    </Dialog>\r\n  );\r\n}\r\n\r\nexport default MainSearch;\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1181, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Renz-Lunci/Desktop/Rx/%20Technology/Repository/lakaw-socmed-Website/src/app/components/VideoPlayer.tsx"],"sourcesContent":["// components/VideoPlayer.tsx\r\n\"use client\";\r\nimport React, { useEffect, useRef } from \"react\";\r\nimport Hls from \"hls.js\";\r\n\r\ninterface VideoPlayerProps {\r\n  /** Video source URL (supports HLS streams) */\r\n  src: string;\r\n\r\n  /** Should the video start playing automatically? Default: false */\r\n  autoPlay?: boolean;\r\n\r\n  /** Show native video controls? Default: false */\r\n  controls?: boolean;\r\n\r\n  /** Should the video be muted? Default: false */\r\n  muted?: boolean;\r\n\r\n  /** Tailwind height class for the video container. Default: \"h-[250px]\" */\r\n  height?: string;\r\n}\r\n/**\r\n * VideoPlayer component supporting HLS streams (via hls.js) and standard video sources.\r\n *\r\n * Features:\r\n * - Plays HLS streams on browsers that support Media Source Extensions (MSE)\r\n * - Falls back to native HLS playback on Safari\r\n * - Supports autoplay, mute, and controls\r\n * - Accepts custom Tailwind height class\r\n *\r\n * @param {VideoPlayerProps} props\r\n */\r\n\r\nconst VideoPlayer: React.FC<VideoPlayerProps> = ({\r\n  src,\r\n  autoPlay = false,\r\n  controls = false,\r\n  muted = false,\r\n  height = \"h-[250px]\", // default\r\n}) => {\r\n  const videoRef = useRef<HTMLVideoElement | null>(null);\r\n\r\n  useEffect(() => {\r\n    if (videoRef.current && src) {\r\n      let hls: Hls | null = null;\r\n\r\n      if (Hls.isSupported()) {\r\n        hls = new Hls({\r\n          debug: true,\r\n          xhrSetup: (xhr) => {\r\n            xhr.withCredentials = false;\r\n          },\r\n        });\r\n\r\n        hls.loadSource(src);\r\n        hls.attachMedia(videoRef.current);\r\n      } else if (\r\n        videoRef.current.canPlayType(\"application/vnd.apple.mpegurl\")\r\n      ) {\r\n        videoRef.current.src = src; // Safari\r\n      }\r\n\r\n      return () => {\r\n        if (hls) {\r\n          hls.destroy();\r\n        }\r\n      };\r\n    }\r\n  }, [src]);\r\n\r\n  return (\r\n    <video\r\n      ref={videoRef}\r\n      autoPlay={autoPlay}\r\n      muted={muted}\r\n      controls={controls}\r\n      playsInline\r\n      className={`w-full ${height} rounded-lg`}\r\n    />\r\n  );\r\n};\r\n\r\nexport default VideoPlayer;\r\n"],"names":[],"mappings":"AAAA,6BAA6B;;;;;;AAE7B;AACA;;;AAFA;;;AAoBA;;;;;;;;;;CAUC,GAED,MAAM,cAA0C;QAAC,EAC/C,GAAG,EACH,WAAW,KAAK,EAChB,WAAW,KAAK,EAChB,QAAQ,KAAK,EACb,SAAS,WAAW,EACrB;;IACC,MAAM,WAAW,IAAA,oPAAM,EAA0B;IAEjD,IAAA,uPAAS;iCAAC;YACR,IAAI,SAAS,OAAO,IAAI,KAAK;gBAC3B,IAAI,MAAkB;gBAEtB,IAAI,oOAAG,CAAC,WAAW,IAAI;oBACrB,MAAM,IAAI,oOAAG,CAAC;wBACZ,OAAO;wBACP,QAAQ;qDAAE,CAAC;gCACT,IAAI,eAAe,GAAG;4BACxB;;oBACF;oBAEA,IAAI,UAAU,CAAC;oBACf,IAAI,WAAW,CAAC,SAAS,OAAO;gBAClC,OAAO,IACL,SAAS,OAAO,CAAC,WAAW,CAAC,kCAC7B;oBACA,SAAS,OAAO,CAAC,GAAG,GAAG,KAAK,SAAS;gBACvC;gBAEA;6CAAO;wBACL,IAAI,KAAK;4BACP,IAAI,OAAO;wBACb;oBACF;;YACF;QACF;gCAAG;QAAC;KAAI;IAER,qBACE,0QAAC;QACC,KAAK;QACL,UAAU;QACV,OAAO;QACP,UAAU;QACV,WAAW;QACX,WAAW,AAAC,UAAgB,OAAP,QAAO;;;;;;AAGlC;GA/CM;KAAA;uCAiDS","debugId":null}},
    {"offset": {"line": 1263, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Renz-Lunci/Desktop/Rx/%20Technology/Repository/lakaw-socmed-Website/src/app/components/DialogContainer.tsx"],"sourcesContent":["\"use client\"\r\nimport SearchAccountsPopup from \"./SidebarComponents/SearchAccountsPopup\"\r\nimport ShareReel from \"../home/ShareReel\"\r\nimport UploadReel from \"../home/Upload/UploadReel\"\r\nimport EditProfile from \"../profile/EditProfile\"\r\nimport MyFollowers from \"../profile/MyFollowers\"\r\nimport MyFollowing from \"../profile/MyFollowing\"\r\nimport OtherUserFollowers from \"../profile/OtherUserFollowers\"\r\nimport OtherUserFollowing from \"../profile/OtherUserFollowing\"\r\nimport Signin from \"../signin/Signin\"\r\nimport OtpForm from \"../signin/OTPForm\"\r\nimport Signup from \"../signin/Signup\"\r\nimport SelectAvatarModal from \"../signin/SelectAvatarModal\"\r\nimport LogoutPopup from \"../home/LogoutPopup\"\r\nimport BlockUser from \"../profile/ProfileComponents/ReportBlockUser/BlockUser\"\r\nimport SendLocationModal from \"../message/Location/SendLocationModal\"\r\nimport GiphyComponentModal from \"../message/Gif/GiphyComponentModal\"\r\nimport MainSearch from \"./MainSearch\"\r\nimport ReportType from \"../profile/ProfileComponents/ReportBlockUser/ReportType\"\r\nimport ReportConfirmation from \"../profile/ProfileComponents/ReportBlockUser/ReportConfirmation\"\r\nimport DeleteAccountPopup from \"../setting/DeleteAccountPopup\"\r\nimport MusicList from \"../home/Upload/MusicList\"\r\nimport UploadVideo from \"../home/Upload/UploadVideo\"\r\nimport TrimVideo from \"../home/Upload/TrimVideo\"\r\nimport DeleteSocial from \"../home/DeleteSocial\"\r\nimport ViewAudio from \"../home/Upload/ViewAudio\"\r\nimport OpenLiveVideo from \"../live/OpenLiveVideo\"\r\nimport FreeCoinPopup from \"../Gift/FreeCoinPopup\"\r\nimport SendGift from \"../Gift/SendGift\"\r\nimport InsufficientBalance from \"../Gift/InsufficientBalance\"\r\nimport GiftSentSuccessfully from \"../Gift/GiftSentSuccessfully\"\r\nimport PaymentGatewayOptions from \"../Gift/PaymentGatewayOptions\"\r\nimport RechargeSuccessful from \"../Gift/RechargeSuccessful\"\r\nimport MyGifts from \"../Gift/MyGifts\"\r\nimport SelectPaymentGatewayForWithdraw from \"../setting/wallet/SelectPaymentGatewayForWithdraw\"\r\nimport { SetStateAction } from \"react\"\r\nimport { SocialRecord } from \"../types/Reels\"\r\n\r\nfunction DialogContainer() {\r\n  return (\r\n    <>\r\n    <Signin />\r\n    <OtpForm />\r\n    <Signup />\r\n    <SelectAvatarModal />\r\n     <SearchAccountsPopup />\r\n     <ShareReel />\r\n     <UploadReel />\r\n     <EditProfile />\r\n     <MyFollowers />\r\n     <MyFollowing />\r\n     <OtherUserFollowers />\r\n     <OtherUserFollowing />\r\n     <LogoutPopup/>\r\n     <BlockUser />\r\n     <ReportType />\r\n     <ReportConfirmation />\r\n     <SendLocationModal />\r\n     <GiphyComponentModal />\r\n     <MainSearch />\r\n    <DeleteAccountPopup />\r\n    <MusicList />\r\n    <UploadVideo />\r\n    <TrimVideo />\r\n    <DeleteSocial setReels={function (value: SetStateAction<SocialRecord[]>): void {\r\n        throw new Error(\"Function not implemented.\")\r\n      } } />\r\n    <ViewAudio />\r\n    <OpenLiveVideo />\r\n    <FreeCoinPopup />\r\n    <SendGift />\r\n    <InsufficientBalance />\r\n    <GiftSentSuccessfully />\r\n    <PaymentGatewayOptions />\r\n    <RechargeSuccessful />\r\n    <MyGifts />\r\n    <SelectPaymentGatewayForWithdraw />\r\n    </>\r\n  )\r\n}\r\n\r\nexport default DialogContainer\r\n"],"names":[],"mappings":";;;;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAlCA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsCA,SAAS;IACP,qBACE;;0BACA,0QAAC,0NAAM;;;;;0BACP,0QAAC,2NAAO;;;;;0BACR,0QAAC,0NAAM;;;;;0BACP,0QAAC,qOAAiB;;;;;0BACjB,0QAAC,gQAAmB;;;;;0BACpB,0QAAC,2NAAS;;;;;0BACV,0QAAC,sOAAU;;;;;0BACX,0QAAC,gOAAW;;;;;0BACZ,0QAAC,gOAAW;;;;;0BACZ,0QAAC,gOAAW;;;;;0BACZ,0QAAC,uOAAkB;;;;;0BACnB,0QAAC,uOAAkB;;;;;0BACnB,0QAAC,6NAAW;;;;;0BACZ,0QAAC,sQAAS;;;;;0BACV,0QAAC,uQAAU;;;;;0BACX,0QAAC,+QAAkB;;;;;0BACnB,0QAAC,kPAAiB;;;;;0BAClB,0QAAC,+OAAmB;;;;;0BACpB,0QAAC,kOAAU;;;;;0BACZ,0QAAC,uOAAkB;;;;;0BACnB,0QAAC,qOAAS;;;;;0BACV,0QAAC,uOAAW;;;;;0BACZ,0QAAC,qOAAS;;;;;0BACV,0QAAC,8NAAY;gBAAC,UAAU,SAAU,KAAqC;oBACnE,MAAM,IAAI,MAAM;gBAClB;;;;;;0BACF,0QAAC,qOAAS;;;;;0BACV,0QAAC,+NAAa;;;;;0BACd,0QAAC,+NAAa;;;;;0BACd,0QAAC,0NAAQ;;;;;0BACT,0QAAC,qOAAmB;;;;;0BACpB,0QAAC,sOAAoB;;;;;0BACrB,0QAAC,uOAAqB;;;;;0BACtB,0QAAC,oOAAkB;;;;;0BACnB,0QAAC,yNAAO;;;;;0BACR,0QAAC,8PAA+B;;;;;;;AAGpC;KAzCS;uCA2CM","debugId":null}},
    {"offset": {"line": 1529, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Renz-Lunci/Desktop/Rx/%20Technology/Repository/lakaw-socmed-Website/src/app/components/Shimmer/RoundedShimmer.tsx"],"sourcesContent":["import React from \"react\";\r\n\r\nconst RoundedShimmer = () => {\r\n  return (\r\n    <div className=\"w-full h-full rounded-full bg-gray-300 animate-pulse\" />\r\n  );\r\n};\r\n\r\nexport default RoundedShimmer;\r\n"],"names":[],"mappings":";;;;;;AAEA,MAAM,iBAAiB;IACrB,qBACE,0QAAC;QAAI,WAAU;;;;;;AAEnB;KAJM;uCAMS","debugId":null}},
    {"offset": {"line": 1555, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Renz-Lunci/Desktop/Rx/%20Technology/Repository/lakaw-socmed-Website/src/app/components/Header/LogoutProfilePopup.tsx"],"sourcesContent":["\"use client\";\r\nimport { useEffect, useRef } from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { hideModal, showModal } from \"@/app/store/Slice/ModalsSlice\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport Image from \"next/image\";\r\n\r\nfunction LogoutProfilePopup() {\r\n  const popupRef = useRef<HTMLDivElement>(null);\r\n  const dispatch = useDispatch();\r\n  const router = useRouter(); // âœ… manual routing\r\n\r\n  useEffect(() => {\r\n    const handleClickOutside = (event: MouseEvent) => {\r\n      if (popupRef.current && !popupRef.current.contains(event.target as Node)) {\r\n        dispatch(hideModal(\"LogoutProfile\"));\r\n      }\r\n    };\r\n\r\n    document.addEventListener(\"mousedown\", handleClickOutside);\r\n\r\n    return () => {\r\n      document.removeEventListener(\"mousedown\", handleClickOutside);\r\n    };\r\n  }, [dispatch]);\r\n\r\n  return (\r\n    <div className=\"relative\" ref={popupRef}>\r\n      <Image\r\n        src=\"/profile/profilePopup.svg\"\r\n        className=\"absolute -top-1.5 right-3 -translate-y-1/2 z-0\"\r\n        alt=\"triangle\"\r\n        width={30}\r\n        height={30}\r\n      />\r\n      <div\r\n        className=\"relative bg-primary flex flex-col py-3 gap-3 sm:w-52 w-52 rounded-lg z-10 border\"\r\n        style={{ boxShadow: \"0px 7px 10px 0px #00000026\" }}\r\n      >\r\n        {/* âœ… Edit Profile with manual routing */}\r\n        <div\r\n          className=\"flex gap-2 px-5 cursor-pointer\"\r\n          onClick={() => {\r\n            dispatch(hideModal(\"LogoutProfile\"));\r\n            router.push(\"/profile\"); // manual navigation\r\n          }}\r\n        >\r\n          <Image src=\"/SidebarIcons/profile.png\" width={20} height={20} alt=\"profile\" />\r\n          <p className=\"text-dark font-light text-[14px]\">My Profile</p>\r\n        </div>\r\n\r\n        {/* Logout */}\r\n        <div\r\n          className=\"flex gap-2 px-5 cursor-pointer place-items-center\"\r\n          onClick={() => {\r\n            dispatch(showModal(\"Logout\"));\r\n            dispatch(hideModal(\"LogoutProfile\"));\r\n          }}\r\n        >\r\n          <Image src=\"/SidebarIcons/logout.png\" alt=\"logout\" width={18} height={18} />\r\n          <p className=\"font-light text-[14px] text-red\">Logout</p>\r\n\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default LogoutProfilePopup;\r\n"],"names":[],"mappings":";;;;;AACA;AACA;AACA;AACA;AACA;;;AALA;;;;;;AAOA,SAAS;;IACP,MAAM,WAAW,IAAA,oPAAM,EAAiB;IACxC,MAAM,WAAW,IAAA,wPAAW;IAC5B,MAAM,SAAS,IAAA,+NAAS,KAAI,mBAAmB;IAE/C,IAAA,uPAAS;wCAAC;YACR,MAAM;mEAAqB,CAAC;oBAC1B,IAAI,SAAS,OAAO,IAAI,CAAC,SAAS,OAAO,CAAC,QAAQ,CAAC,MAAM,MAAM,GAAW;wBACxE,SAAS,IAAA,yOAAS,EAAC;oBACrB;gBACF;;YAEA,SAAS,gBAAgB,CAAC,aAAa;YAEvC;gDAAO;oBACL,SAAS,mBAAmB,CAAC,aAAa;gBAC5C;;QACF;uCAAG;QAAC;KAAS;IAEb,qBACE,0QAAC;QAAI,WAAU;QAAW,KAAK;;0BAC7B,0QAAC,wNAAK;gBACJ,KAAI;gBACJ,WAAU;gBACV,KAAI;gBACJ,OAAO;gBACP,QAAQ;;;;;;0BAEV,0QAAC;gBACC,WAAU;gBACV,OAAO;oBAAE,WAAW;gBAA6B;;kCAGjD,0QAAC;wBACC,WAAU;wBACV,SAAS;4BACP,SAAS,IAAA,yOAAS,EAAC;4BACnB,OAAO,IAAI,CAAC,aAAa,oBAAoB;wBAC/C;;0CAEA,0QAAC,wNAAK;gCAAC,KAAI;gCAA4B,OAAO;gCAAI,QAAQ;gCAAI,KAAI;;;;;;0CAClE,0QAAC;gCAAE,WAAU;0CAAmC;;;;;;;;;;;;kCAIlD,0QAAC;wBACC,WAAU;wBACV,SAAS;4BACP,SAAS,IAAA,yOAAS,EAAC;4BACnB,SAAS,IAAA,yOAAS,EAAC;wBACrB;;0CAEA,0QAAC,wNAAK;gCAAC,KAAI;gCAA2B,KAAI;gCAAS,OAAO;gCAAI,QAAQ;;;;;;0CACtE,0QAAC;gCAAE,WAAU;0CAAkC;;;;;;;;;;;;;;;;;;;;;;;;AAMzD;GA3DS;;QAEU,wPAAW;QACb,+NAAS;;;KAHjB;uCA6DM","debugId":null}},
    {"offset": {"line": 1710, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Renz-Lunci/Desktop/Rx/%20Technology/Repository/lakaw-socmed-Website/src/app/components/Header/Notification/notification.ts"],"sourcesContent":["// services/notifications.ts\r\nimport axios from \"axios\";\r\nimport Cookies from \"js-cookie\";\r\nimport { NotificationData } from \"@/app/types/NotificationListRes\";\r\n\r\ninterface FetchNotificationsParams {\r\n  pageParam?: number;\r\n}\r\n\r\nexport const fetchNotifications = async ({\r\n  pageParam = 1,\r\n}: FetchNotificationsParams): Promise<NotificationData> => {\r\n  const token = Cookies.get(\"Reelboost_auth_token\");\r\n\r\n  const { data } = await axios.post<{ status: boolean; data: NotificationData }>(\r\n    `${process.env.NEXT_PUBLIC_API_URL}/users/get-notification-list`,\r\n    { page: pageParam }, // âœ… send page in body\r\n    {\r\n      headers: {\r\n        Authorization: `Bearer ${token}`,\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n    }\r\n  );\r\n\r\n  if (!data.status) {\r\n    throw new Error(\"Failed to fetch notifications\");\r\n  }\r\n\r\n  return data.data;\r\n};\r\n"],"names":[],"mappings":"AAAA,4BAA4B;;;;;AAerB;AAdP;AACA;;;AAOO,MAAM,qBAAqB;QAAO,EACvC,YAAY,CAAC,EACY;IACzB,MAAM,QAAQ,gPAAO,CAAC,GAAG,CAAC;IAE1B,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,gOAAK,CAAC,IAAI,CAC/B,AAAC,GAAkC,4GAAA,iCACnC;QAAE,MAAM;IAAU,GAClB;QACE,SAAS;YACP,eAAe,AAAC,UAAe,OAAN;YACzB,gBAAgB;QAClB;IACF;IAGF,IAAI,CAAC,KAAK,MAAM,EAAE;QAChB,MAAM,IAAI,MAAM;IAClB;IAEA,OAAO,KAAK,IAAI;AAClB","debugId":null}},
    {"offset": {"line": 1743, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Renz-Lunci/Desktop/Rx/%20Technology/Repository/lakaw-socmed-Website/src/app/components/Header/Notification/useNotification.ts"],"sourcesContent":["// hooks/useNotifications.ts\r\n\"use client\";\r\nimport { useInfiniteQuery } from \"@tanstack/react-query\";\r\nimport { fetchNotifications } from \"./notification\";\r\n\r\nexport function useNotifications(limit: number = 10) {\r\n  return useInfiniteQuery({\r\n    queryKey: [\"notifications\", limit],\r\n    //@ts-ignore\r\n    queryFn: ({ pageParam = 1 }) => fetchNotifications({ page: pageParam }),\r\n    getNextPageParam: (lastPage: { Pagination: { current_page: number; total_pages: number } }) => {\r\n      const { current_page, total_pages } = lastPage.Pagination;\r\n      return current_page < total_pages ? current_page + 1 : undefined;\r\n    },\r\n    initialPageParam: 1,\r\n  });\r\n}\r\n"],"names":[],"mappings":"AAAA,4BAA4B;;;;;AAE5B;AACA;;AAFA;;;AAIO,SAAS;QAAiB,QAAA,iEAAgB;;IAC/C,OAAO,IAAA,uRAAgB,EAAC;QACtB,UAAU;YAAC;YAAiB;SAAM;QAClC,YAAY;QACZ,OAAO;iDAAE;oBAAC,EAAE,YAAY,CAAC,EAAE;uBAAK,IAAA,wQAAkB,EAAC;oBAAE,MAAM;gBAAU;;;QACrE,gBAAgB;iDAAE,CAAC;gBACjB,MAAM,EAAE,YAAY,EAAE,WAAW,EAAE,GAAG,SAAS,UAAU;gBACzD,OAAO,eAAe,cAAc,eAAe,IAAI;YACzD;;QACA,kBAAkB;IACpB;AACF;GAXgB;;QACP,uRAAgB","debugId":null}},
    {"offset": {"line": 1792, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Renz-Lunci/Desktop/Rx/%20Technology/Repository/lakaw-socmed-Website/src/app/components/Header/Notification/groupNotificationByDate.tsx"],"sourcesContent":["/**\r\n * Groups an array of notifications by date into categories: Today, Yesterday, and Other dates.\r\n *\r\n * - \"Today\": notifications created on the current day.\r\n * - \"Yesterday\": notifications created on the previous day.\r\n * - \"Other\": notifications created before yesterday, grouped by formatted date string (\"dd MMMM, yyyy\").\r\n *\r\n * @param {(NotificationRecord & { created_at: string })[]} notifications - Array of notifications to group. \r\n *        Each notification must have a `created_at` string (ISO date).\r\n *\r\n * @returns {{\r\n *   Today: (NotificationRecord & { created_at: string })[],\r\n *   Yesterday: (NotificationRecord & { created_at: string })[],\r\n *   Other: Record<string, (NotificationRecord & { created_at: string })[]>\r\n * }} An object with grouped notifications by date.\r\n *\r\n * @example\r\n * const grouped = groupNotificationByDate([\r\n *   { id: 1, message: \"New comment\", created_at: \"2025-09-10T10:00:00Z\" },\r\n *   { id: 2, message: \"New like\", created_at: \"2025-09-09T12:00:00Z\" },\r\n *   { id: 3, message: \"Friend request\", created_at: \"2025-08-30T09:00:00Z\" },\r\n * ]);\r\n * */\r\n\r\n\r\nimport { format, isToday, isYesterday, parseISO } from \"date-fns\";\r\nimport { Record as NotificationRecord } from \"@/app/types/NotificationListRes\";\r\n\r\nexport function groupNotificationByDate(notifications: (NotificationRecord & { created_at: string })[]) {\r\n  const grouped: {\r\n    Today: typeof notifications;\r\n    Yesterday: typeof notifications;\r\n    Other: Record<string, typeof notifications>;\r\n  } = { Today: [], Yesterday: [], Other: {} };\r\n\r\n  notifications.forEach((notification) => {\r\n    const date = parseISO(notification.created_at);\r\n\r\n    if (isToday(date)) {\r\n      grouped.Today.push(notification);\r\n    } else if (isYesterday(date)) {\r\n      grouped.Yesterday.push(notification);\r\n    } else {\r\n      const formattedDate = format(date, \"dd MMMM, yyyy\");\r\n      if (!grouped.Other[formattedDate]) grouped.Other[formattedDate] = [];\r\n      grouped.Other[formattedDate].push(notification);\r\n    }\r\n  });\r\n\r\n  return grouped;\r\n}\r\n"],"names":[],"mappings":"AAAA;;;;;;;;;;;;;;;;;;;;;;GAsBG;;;;AAGH;AAAA;AAAA;AAAA;;AAGO,SAAS,wBAAwB,aAA8D;IACpG,MAAM,UAIF;QAAE,OAAO,EAAE;QAAE,WAAW,EAAE;QAAE,OAAO,CAAC;IAAE;IAE1C,cAAc,OAAO,CAAC,CAAC;QACrB,MAAM,OAAO,IAAA,mOAAQ,EAAC,aAAa,UAAU;QAE7C,IAAI,IAAA,iOAAO,EAAC,OAAO;YACjB,QAAQ,KAAK,CAAC,IAAI,CAAC;QACrB,OAAO,IAAI,IAAA,yOAAW,EAAC,OAAO;YAC5B,QAAQ,SAAS,CAAC,IAAI,CAAC;QACzB,OAAO;YACL,MAAM,gBAAgB,IAAA,+OAAM,EAAC,MAAM;YACnC,IAAI,CAAC,QAAQ,KAAK,CAAC,cAAc,EAAE,QAAQ,KAAK,CAAC,cAAc,GAAG,EAAE;YACpE,QAAQ,KAAK,CAAC,cAAc,CAAC,IAAI,CAAC;QACpC;IACF;IAEA,OAAO;AACT","debugId":null}},
    {"offset": {"line": 1850, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Renz-Lunci/Desktop/Rx/%20Technology/Repository/lakaw-socmed-Website/src/app/components/formatDates/formatTimeAgo.tsx"],"sourcesContent":["/**\r\n * Returns a human-readable \"time ago\" string for a given date.\r\n * \r\n * Converts a date string into a relative time format such as:\r\n * seconds (s), minutes (m), hours (h), or days (d) ago.\r\n * \r\n * @param {string} dateString - The ISO date string or timestamp to format.\r\n * @returns {string} A relative time string. Examples: \"5 s\", \"10 m\", \"3 h\", \"2 d\".\r\n *                   Returns \"\" if dateString is empty, or \"Just now\" if the date is invalid.\r\n * \r\n * @example\r\n * formatTimeAgo(\"2025-09-10T14:00:00Z\"); // \"5 h\"\r\n * formatTimeAgo(\"\"); // \"\"\r\n * formatTimeAgo(\"invalid-date\"); // \"Just now\"\r\n */\r\n\r\nexport function formatTimeAgo(dateString: string): string {\r\n  if (!dateString) return \"\";\r\n\r\n  const past = new Date(dateString);\r\n  if (isNaN(past.getTime())) return \"Just now\"; // Invalid date\r\n\r\n  const now = new Date();\r\n  const diffInSeconds = Math.max(0, Math.floor((now.getTime() - past.getTime()) / 1000));\r\n\r\n  if (diffInSeconds < 60) {\r\n    return `${diffInSeconds} s`;\r\n  }\r\n\r\n  const diffInMinutes = Math.floor(diffInSeconds / 60);\r\n  if (diffInMinutes < 60) {\r\n    return `${diffInMinutes} m`;\r\n  }\r\n\r\n  const diffInHours = Math.floor(diffInMinutes / 60);\r\n  if (diffInHours < 24) {\r\n    return `${diffInHours} h`;\r\n  }\r\n\r\n  const diffInDays = Math.floor(diffInHours / 24);\r\n  return `${diffInDays} d`;\r\n}\r\n"],"names":[],"mappings":"AAAA;;;;;;;;;;;;;;CAcC;;;;AAEM,SAAS,cAAc,UAAkB;IAC9C,IAAI,CAAC,YAAY,OAAO;IAExB,MAAM,OAAO,IAAI,KAAK;IACtB,IAAI,MAAM,KAAK,OAAO,KAAK,OAAO,YAAY,eAAe;IAE7D,MAAM,MAAM,IAAI;IAChB,MAAM,gBAAgB,KAAK,GAAG,CAAC,GAAG,KAAK,KAAK,CAAC,CAAC,IAAI,OAAO,KAAK,KAAK,OAAO,EAAE,IAAI;IAEhF,IAAI,gBAAgB,IAAI;QACtB,OAAO,AAAC,GAAgB,OAAd,eAAc;IAC1B;IAEA,MAAM,gBAAgB,KAAK,KAAK,CAAC,gBAAgB;IACjD,IAAI,gBAAgB,IAAI;QACtB,OAAO,AAAC,GAAgB,OAAd,eAAc;IAC1B;IAEA,MAAM,cAAc,KAAK,KAAK,CAAC,gBAAgB;IAC/C,IAAI,cAAc,IAAI;QACpB,OAAO,AAAC,GAAc,OAAZ,aAAY;IACxB;IAEA,MAAM,aAAa,KAAK,KAAK,CAAC,cAAc;IAC5C,OAAO,AAAC,GAAa,OAAX,YAAW;AACvB","debugId":null}},
    {"offset": {"line": 1895, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Renz-Lunci/Desktop/Rx/%20Technology/Repository/lakaw-socmed-Website/src/app/components/Header/Notification/NotificationPopup.tsx"],"sourcesContent":["\r\n\"use client\";\r\nimport { SetStateAction, useEffect, useRef } from \"react\";\r\nimport { hideModal } from \"@/app/store/Slice/ModalsSlice\";\r\nimport { useNotifications } from \"./useNotification\";\r\nimport { groupNotificationByDate } from \"./groupNotificationByDate\";\r\nimport Image from \"next/image\";\r\nimport { ClipLoader } from \"react-spinners\";\r\nimport { useAppDispatch, useAppSelector } from \"@/app/utils/hooks\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport { setUserId } from \"@/app/store/Slice/UserIdHashtagIdSlice\";\r\nimport { setSelectedReel } from \"@/app/store/Slice/SelectedReelDetail\";\r\nimport {\r\n  setActiveCommentPostId,\r\n  setActiveUserId,\r\n} from \"@/app/store/Slice/ActiveCommentBox\";\r\nimport ReelDetailsModal from \"@/app/explore/SelectedReelModal\";\r\nimport { Reel } from \"@/app/types/Reels\";\r\n\r\nfunction NotificationPopup() {\r\n  const popupRef = useRef<HTMLDivElement>(null);\r\n  const selectedReel = useAppSelector((state) => state.selectedReel.reel);\r\n\r\n  const { data, fetchNextPage, hasNextPage, isFetchingNextPage, isLoading } =\r\n    useNotifications(10);\r\n\r\n  // Flatten paginated notifications\r\n  const notifications = data?.pages.flatMap((page) => page.Records) || [];\r\n\r\n  // Group by Today / Yesterday / Other\r\n  const grouped = groupNotificationByDate(\r\n    notifications.map((n) => ({ ...n, created_at: n.createdAt }))\r\n  );\r\n\r\n  // RoutetoUser\r\n  const dispatch = useAppDispatch();\r\n  const router = useRouter();\r\n  const handleUserRoute = (userId: number) => {\r\n    dispatch(setUserId(userId));\r\n    router.push(`/profile/${userId}`);\r\n  };\r\n\r\n  // Close popup when clicked outside\r\n  useEffect(() => {\r\n    const handleClickOutside = (event: MouseEvent) => {\r\n      if (selectedReel) return; // ðŸ‘ˆ if modal is open, donâ€™t close popup\r\n\r\n      if (\r\n        popupRef.current &&\r\n        !popupRef.current.contains(event.target as Node)\r\n      ) {\r\n        dispatch(hideModal(\"Notification\"));\r\n      }\r\n    };\r\n    document.addEventListener(\"mousedown\", handleClickOutside);\r\n    return () => document.removeEventListener(\"mousedown\", handleClickOutside);\r\n  }, [dispatch, selectedReel]);\r\n\r\n  // Infinite scroll trigger\r\n  useEffect(() => {\r\n    const handleScroll = () => {\r\n      if (!popupRef.current) return;\r\n      const { scrollTop, scrollHeight, clientHeight } = popupRef.current;\r\n      if (\r\n        scrollTop + clientHeight >= scrollHeight - 50 &&\r\n        hasNextPage &&\r\n        !isFetchingNextPage\r\n      ) {\r\n        fetchNextPage();\r\n      }\r\n    };\r\n    const container = popupRef.current;\r\n    container?.addEventListener(\"scroll\", handleScroll);\r\n    return () => container?.removeEventListener(\"scroll\", handleScroll);\r\n  }, [hasNextPage, isFetchingNextPage, fetchNextPage]);\r\n\r\n  return (\r\n    <>\r\n      <div\r\n        ref={popupRef}\r\n        className=\"relative min-w-[350px] max-h-[500px] overflow-y-auto \r\n           bg-primary rounded-lg shadow-lg px-6 pt-6 pb-4 \"\r\n\r\n      >\r\n        {/* Shimmer Loader while fetching first time */}\r\n        {isLoading && (\r\n          <div className=\"flex flex-col gap-3\">\r\n            {[1, 2, 3].map((i) => (\r\n              <div key={i} className=\"flex gap-3 animate-pulse\">\r\n                <div className=\"w-10 h-10 bg-gray-300 rounded-full\" />\r\n                <div className=\"flex flex-col gap-2\">\r\n                  <div className=\"w-28 h-3 bg-gray-300 rounded\" />\r\n\r\n                  <div className=\"w-16 h-2 bg-gray-200 rounded\" />\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        )}\r\n\r\n        {/* No Notifications */}\r\n        {!isLoading && notifications.length === 0 && (\r\n          <div className=\"flex flex-col items-center justify-center py-10 text-center\">\r\n            <Image\r\n              src=\"/SidebarIcons/NoNotification.png\"\r\n              alt=\"No notifications\"\r\n              height={60}\r\n              width={60}\r\n            />\r\n            <p className=\"text-gray text-sm mt-2\">No notifications</p>\r\n          </div>\r\n        )}\r\n\r\n        {/* Notifications List */}\r\n        {!isLoading && notifications.length > 0 && (\r\n          <>\r\n            {([\"Today\", \"Yesterday\"] as const).map(\r\n              (section) =>\r\n                grouped[section].length > 0 && (\r\n                  <div key={section} className=\"mb-3\">\r\n                    <h4 className=\"text-sm font-semibold text-dark mb-1\">\r\n                      {section}\r\n                    </h4>\r\n                    {grouped[section].map((notif) => (\r\n                      <div\r\n                        key={notif.notification_id}\r\n                        className=\"flex gap-3 py-2 cursor-pointer\"\r\n                      >\r\n                        {(notif.notification_type?.includes(\"Liked\") ||\r\n                          notif.notification_type?.includes(\"Commented\") ||\r\n                          notif.notification_title?.includes(\"Liked\") ||\r\n                          notif.notification_title?.includes(\"Commented\")) &&\r\n                        notif.Social?.reel_thumbnail ? (\r\n                          // Show reel thumbnail\r\n                          <Image\r\n                            src={notif.Social?.reel_thumbnail}\r\n                            alt=\"reel\"\r\n                            className=\"w-10 h-10 object-cover rounded cursor-pointer\"\r\n                            onClick={(e) => {\r\n                              e.stopPropagation(); // prevent parent click (user route)\r\n                              dispatch(hideModal(\"Notification\")); // ðŸ‘ˆ close popup\r\n\r\n                              dispatch(\r\n                                setSelectedReel({\r\n                                  ...notif.Social,\r\n                                  // @ts-ignore\r\n                                  User: notif.Social?.User,\r\n                                })\r\n                              );\r\n                              \r\n                              dispatch(\r\n                                setActiveCommentPostId(notif.Social?.social_id ?? null)\r\n                              );\r\n                              dispatch(setActiveUserId(notif.Social?.user_id ?? null));\r\n                            }}\r\n                            width={40}\r\n                            height={40}\r\n                          />\r\n                        ) : (\r\n                          // Default to sender profile pic\r\n                          <Image\r\n                            src={\r\n                              notif.notification_sender?.profile_pic ||\r\n                              \"/fallbacks/avatar.png\"\r\n                            }\r\n                            width={40}\r\n                            height={40}\r\n                            alt=\"profile\"\r\n                            className=\"rounded-full\"\r\n                          />\r\n                        )}\r\n\r\n                        <div>\r\n                          <p className=\"text-xs text-gray\">\r\n                            <span\r\n                              className=\"font-semibold text-dark-gray cursor-pointer\"\r\n                              onClick={() => {\r\n                                handleUserRoute(\r\n                                  notif.notification_sender.user_id\r\n                                );\r\n                                dispatch(hideModal(\"Notification\"));\r\n                              }}\r\n                            >\r\n                              {notif.notification_sender?.user_name}\r\n                            </span>{\" \"}\r\n                            {notif.notification_description.description}\r\n                          </p>\r\n                          <p className=\"text-xs text-gray\">\r\n                            {new Date(notif.createdAt).toLocaleTimeString([], {\r\n                              hour: \"2-digit\",\r\n                              minute: \"2-digit\",\r\n                              hour12: true,\r\n                            })}\r\n                          </p>\r\n                        </div>\r\n                      </div>\r\n                    ))}\r\n                  </div>\r\n                )\r\n            )}\r\n\r\n            {/* Other Dates */}\r\n            {Object.entries(grouped.Other).map(([date, list]) => (\r\n              <div key={date} className=\"mb-3\">\r\n                <h4 className=\"text-sm font-semibold text-dark mb-2\">{date}</h4>\r\n                {list.map((notif) => (\r\n                  <div\r\n                    key={notif.notification_id}\r\n                    className=\"flex place-items-center gap-2 py-2 cursor-pointer\"\r\n                    onClick={() => {}}\r\n                  >\r\n                    {(notif.notification_type?.includes(\"Liked\") ||\r\n                      notif.notification_type?.includes(\"Commented\") ||\r\n                      notif.notification_title?.includes(\"Liked\") ||\r\n                      notif.notification_title?.includes(\"Commented\")) &&\r\n                    notif.Social?.reel_thumbnail ? (\r\n                      // Show reel thumbnail\r\n                      <Image\r\n                        src={notif.Social?.reel_thumbnail}\r\n                        alt=\"reel\"\r\n                        className=\"w-10 h-10 object-cover rounded cursor-pointer\"\r\n                        onClick={() => {\r\n                          // Set reel in Redux (same as Explore)\r\n                          dispatch(\r\n                            setSelectedReel({\r\n                              ...notif.Social,\r\n                              // @ts-ignore\r\n                              User:\r\n                                notif.Social?.User || notif.notification_sender,\r\n                                \r\n                            })\r\n                          );\r\n                          \r\n\r\n                          dispatch(\r\n                            setActiveCommentPostId(notif?.Social?.social_id ?? null)\r\n                          );\r\n                          dispatch(\r\n                            setActiveUserId(\r\n                              notif.Social?.User?.user_id ||\r\n                                notif.notification_sender?.user_id\r\n                            )\r\n                          );\r\n                        }}\r\n                        width={40}\r\n                        height={40}\r\n                      />\r\n                    ) : (\r\n                      // Default to sender profile pic\r\n                      <Image\r\n                        src={notif.notification_sender?.profile_pic}\r\n                        width={40}\r\n                        height={40}\r\n                        alt=\"profile\"\r\n                        className=\"rounded-full\"\r\n                      />\r\n                    )}\r\n\r\n                    <div className=\"flex flex-col gap-0.5\">\r\n                      <p className=\"text-xs text-dark-gray\">\r\n                        <span\r\n                          className=\"text-dark text-xs cursor-pointer\"\r\n                          onClick={() => {\r\n                            handleUserRoute(notif.notification_sender.user_id);\r\n                            dispatch(hideModal(\"Notification\"));\r\n                          }}\r\n                        >\r\n                          {notif.notification_sender?.user_name}\r\n                        </span>{\" \"}\r\n                        {notif.notification_description.description}\r\n                      </p>\r\n                      <p className=\"text-[10px] text-gray\">\r\n                        {new Date(notif.createdAt).toLocaleTimeString([], {\r\n                          hour: \"2-digit\",\r\n                          minute: \"2-digit\",\r\n                          hour12: true,\r\n                        })}\r\n                      </p>\r\n                    </div>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            ))}\r\n          </>\r\n        )}\r\n\r\n        {/* Footer messages */}\r\n        {isFetchingNextPage && (\r\n          <p className=\"text-center text-gray-500 text-sm py-2\">\r\n            <ClipLoader color=\"#1A9D77\" size={15} />\r\n          </p>\r\n        )}\r\n      </div>\r\n      {selectedReel && <ReelDetailsModal setReels={function (value: SetStateAction<Reel[]>): void {\r\n        throw new Error(\"Function not implemented.\");\r\n      } } />}\r\n    </>\r\n  );\r\n}\r\n\r\nexport default NotificationPopup;\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 2354, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Renz-Lunci/Desktop/Rx/%20Technology/Repository/lakaw-socmed-Website/src/app/components/Header/Header.tsx"],"sourcesContent":["\"use client\";\r\nimport React from \"react\";\r\nimport Image from \"next/image\";\r\nimport Logo from \"../../../../public/ReelBoost/ReelBoostLogo.png\";\r\nimport ReelBoost from \"../../../../public/ReelBoost/ReelBoost.png\";\r\nimport { HiPlus } from \"react-icons/hi\";\r\nimport { useAppDispatch, useAppSelector } from \"../../utils/hooks\";\r\nimport { showModal } from \"../../store/Slice/ModalsSlice\";\r\nimport Cookies from \"js-cookie\";\r\nimport { useUserProfile } from \"../../store/api/updateUser\";\r\nimport RoundedShimmer from \"../Shimmer/RoundedShimmer\";\r\nimport LogoutProfilePopup from \"./LogoutProfilePopup\";\r\nimport { usePathname, useRouter } from \"next/navigation\";\r\nimport NotificationPopup from \"./Notification/NotificationPopup\";\r\nimport { useNotifications } from \"./Notification/useNotification\";\r\nimport { updateNotificationStatus } from \"@/app/store/api/updateNotificationStatus\";\r\n\r\nfunction Header() {\r\n  const dispatch = useAppDispatch();\r\n  const token = Cookies.get(\"Reelboost_auth_token\");\r\n\r\n  // fetch notifications for seen unseen =========\r\n  const { data } = useNotifications(10);\r\n  const notifications = data?.pages.flatMap((page) => page.Records) || [];\r\n  const hasUnseen = notifications.some((n) => n.view_status === \"unseen\");\r\n  const pathname = usePathname();\r\n   const isMessagePage = pathname === \"/message\";\r\n\r\n  const router = useRouter();\r\n  const handleModal = () => {\r\n    if (!token) {\r\n      dispatch(showModal(\"Signin\"));\r\n    } else {\r\n      dispatch(showModal(\"UploadVideo\"));\r\n    }\r\n  };\r\n  const profile = useAppSelector((state) => state.modals.Profile);\r\n\r\n  // get the user profile ================\r\n  const { data: userData, isLoading, error } = useUserProfile(token ?? \"\");\r\n\r\n  const open = useAppSelector((state) => state.modals.LogoutProfile);\r\n  const openNotification = useAppSelector((state) => state.modals.Notification);\r\n\r\n  return (\r\n    <>\r\n      <div\r\n        className={`flex fixed top-0 w-full z-[1000] bg-primary justify-between place-items-center border-b h-[60px] px-4 ${isMessagePage ? \"hidden md:block md:flex\" : \"\"}`}\r\n      >\r\n        {/* logo ========================================== */}\r\n        <div\r\n          className=\"flex py-3 gap-2 md:px-6 place-items-center\"\r\n          onClick={() => router.push(\"/\")}\r\n        >\r\n          {/* <Image\r\n            src={Logo}\r\n            alt=\"logo\"\r\n            width={40}\r\n            height={20}\r\n            className=\"w-10 h-10\"\r\n          /> */}\r\n          <Image\r\n            src={ReelBoost}\r\n            alt=\"Lakaw\"\r\n            className={`lg:block hidden`}\r\n            height={50}\r\n            width={100}\r\n          />\r\n        </div>\r\n\r\n        {/* Small screen: Show only icon */}\r\n        {/* <div className=\"sm:hidden px-4\">\r\n          <Image src={Search} alt=\"search\" className=\"w-5 h-5\" />\r\n        </div> */}\r\n\r\n        {/* Upload and Login button =========================== */}\r\n        <div className={`flex md:px-6 gap-3`}>\r\n          {!token ? (\r\n            <>\r\n              {\" \"}\r\n              <button\r\n                className=\"cursor-pointer text-sm bg-main-green rounded-sm px-4 py-1\"\r\n                onClick={() => dispatch(showModal(\"Signin\"))}\r\n              >\r\n                Log in\r\n              </button>\r\n            </>\r\n          ) : (\r\n            <>\r\n              {profile ||\r\n                (token && (\r\n                  <>\r\n                    <div className=\"flex gap-2 place-items-center cursor-pointer\">\r\n                      {/* Search */}\r\n                      <div\r\n                        className=\"cursor-pointer rounded-full background-opacityGradient w-8 h-8 flex items-center justify-center\"\r\n                        onClick={() => dispatch(showModal(\"MainSearch\"))}\r\n                      >\r\n                        <Image\r\n                          src=\"/home/search_icon.png\"\r\n                          alt=\"notification\"\r\n                          width={18}\r\n                          height={18}\r\n                        />\r\n                      </div>\r\n\r\n                      {/* Chat */}\r\n                      <div\r\n                        className=\"cursor-pointer rounded-full background-opacityGradient w-8 h-8 flex items-center justify-center\"\r\n                        onClick={() => router.push(\"/message\")}\r\n                      >\r\n                        <Image\r\n                          src=\"/home/message.png\"\r\n                          alt=\"message\"\r\n                          width={24}\r\n                          height={24}\r\n                        />\r\n                      </div>\r\n\r\n                      {/* Notification */}\r\n                      <div\r\n                        className=\"cursor-pointer relative rounded-full background-opacityGradient w-8 h-8 flex items-center justify-center\"\r\n                        onClick={async () => {\r\n                          if (hasUnseen) {\r\n                            const unseenIds = notifications\r\n                              .filter((n) => n.view_status === \"unseen\")\r\n                              .map((n) => n.notification_id);\r\n\r\n                            if (unseenIds.length > 0) {\r\n                              await updateNotificationStatus(unseenIds, \"seen\");\r\n                            }\r\n                          }\r\n\r\n                          dispatch(showModal(\"Notification\"));\r\n                        }}\r\n                      >\r\n                        <Image\r\n                          src=\"/home/notification.png\"\r\n                          alt=\"notification\"\r\n                          width={22}\r\n                          height={22}\r\n                        />\r\n\r\n                        {hasUnseen && (\r\n                          <span className=\"absolute top-0 right-1 block h-2 w-2 rounded-full bg-main-green\"></span>\r\n                        )}\r\n\r\n                        {openNotification && (\r\n                          <div className=\"absolute top-13 sm:-right-8 -right-20\">\r\n                            <NotificationPopup />\r\n                          </div>\r\n                        )}\r\n                      </div>\r\n\r\n                      {/* Profilepic */}\r\n                      {isLoading ? (\r\n                        <>\r\n                          <div className=\"w-8 h-8 rounded-full\">\r\n                            <RoundedShimmer />\r\n                          </div>\r\n                        </>\r\n                      ) : (\r\n                        <>\r\n                          <div\r\n                            className=\"w-8 h-8 relative rounded-full cursor-pointer\"\r\n                            onClick={() => dispatch(showModal(\"LogoutProfile\"))}\r\n                          >\r\n                            <Image\r\n                              src={userData?.data.profile_pic || \"\"}\r\n                              className=\"w-full h-full object-cover rounded-full\"\r\n                              alt=\"profile\"\r\n                              width={25}\r\n                              height={25}\r\n                            />\r\n                            {open && (\r\n                              <div className=\"absolute -right-5 top-13\">\r\n                                <LogoutProfilePopup />\r\n                              </div>\r\n                            )}\r\n                          </div>\r\n                        </>\r\n                      )}\r\n                    </div>\r\n                  </>\r\n                ))}\r\n            </>\r\n          )}\r\n          <div\r\n            className=\"border cursor-pointer md:rounded-xl h-8 w-8 md:h-auto md:w-auto rounded-full text-sm text-center justify-center md:py-1 place-items-center md:px-5 text-main-green border-main-green flex gap-1\"\r\n            onClick={handleModal}\r\n          >\r\n            <HiPlus />\r\n            <span className=\"md:block hidden\">Upload</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Header;\r\n"],"names":[],"mappings":";;;;;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAfA;;;;;;;;;;;;;;AAiBA,SAAS;;IACP,MAAM,WAAW,IAAA,+NAAc;IAC/B,MAAM,QAAQ,gPAAO,CAAC,GAAG,CAAC;IAE1B,gDAAgD;IAChD,MAAM,EAAE,IAAI,EAAE,GAAG,IAAA,yQAAgB,EAAC;IAClC,MAAM,gBAAgB,CAAA,iBAAA,2BAAA,KAAM,KAAK,CAAC,OAAO,CAAC,CAAC,OAAS,KAAK,OAAO,MAAK,EAAE;IACvE,MAAM,YAAY,cAAc,IAAI,CAAC,CAAC,IAAM,EAAE,WAAW,KAAK;IAC9D,MAAM,WAAW,IAAA,iOAAW;IAC3B,MAAM,gBAAgB,aAAa;IAEpC,MAAM,SAAS,IAAA,+NAAS;IACxB,MAAM,cAAc;QAClB,IAAI,CAAC,OAAO;YACV,SAAS,IAAA,yOAAS,EAAC;QACrB,OAAO;YACL,SAAS,IAAA,yOAAS,EAAC;QACrB;IACF;IACA,MAAM,UAAU,IAAA,+NAAc;0CAAC,CAAC,QAAU,MAAM,MAAM,CAAC,OAAO;;IAE9D,wCAAwC;IACxC,MAAM,EAAE,MAAM,QAAQ,EAAE,SAAS,EAAE,KAAK,EAAE,GAAG,IAAA,2OAAc,EAAC,kBAAA,mBAAA,QAAS;IAErE,MAAM,OAAO,IAAA,+NAAc;uCAAC,CAAC,QAAU,MAAM,MAAM,CAAC,aAAa;;IACjE,MAAM,mBAAmB,IAAA,+NAAc;mDAAC,CAAC,QAAU,MAAM,MAAM,CAAC,YAAY;;IAE5E,qBACE;kBACE,cAAA,0QAAC;YACC,WAAW,AAAC,yGAAuJ,OAA/C,gBAAgB,4BAA4B;;8BAGhK,0QAAC;oBACC,WAAU;oBACV,SAAS,IAAM,OAAO,IAAI,CAAC;8BAS3B,cAAA,0QAAC,wNAAK;wBACJ,KAAK,ydAAS;wBACd,KAAI;wBACJ,WAAY;wBACZ,QAAQ;wBACR,OAAO;;;;;;;;;;;8BAUX,0QAAC;oBAAI,WAAY;;wBACd,CAAC,sBACA;;gCACG;8CACD,0QAAC;oCACC,WAAU;oCACV,SAAS,IAAM,SAAS,IAAA,yOAAS,EAAC;8CACnC;;;;;;;yDAKH;sCACG,WACE,uBACC;0CACE,cAAA,0QAAC;oCAAI,WAAU;;sDAEb,0QAAC;4CACC,WAAU;4CACV,SAAS,IAAM,SAAS,IAAA,yOAAS,EAAC;sDAElC,cAAA,0QAAC,wNAAK;gDACJ,KAAI;gDACJ,KAAI;gDACJ,OAAO;gDACP,QAAQ;;;;;;;;;;;sDAKZ,0QAAC;4CACC,WAAU;4CACV,SAAS,IAAM,OAAO,IAAI,CAAC;sDAE3B,cAAA,0QAAC,wNAAK;gDACJ,KAAI;gDACJ,KAAI;gDACJ,OAAO;gDACP,QAAQ;;;;;;;;;;;sDAKZ,0QAAC;4CACC,WAAU;4CACV,SAAS;gDACP,IAAI,WAAW;oDACb,MAAM,YAAY,cACf,MAAM,CAAC,CAAC,IAAM,EAAE,WAAW,KAAK,UAChC,GAAG,CAAC,CAAC,IAAM,EAAE,eAAe;oDAE/B,IAAI,UAAU,MAAM,GAAG,GAAG;wDACxB,MAAM,IAAA,mQAAwB,EAAC,WAAW;oDAC5C;gDACF;gDAEA,SAAS,IAAA,yOAAS,EAAC;4CACrB;;8DAEA,0QAAC,wNAAK;oDACJ,KAAI;oDACJ,KAAI;oDACJ,OAAO;oDACP,QAAQ;;;;;;gDAGT,2BACC,0QAAC;oDAAK,WAAU;;;;;;gDAGjB,kCACC,0QAAC;oDAAI,WAAU;8DACb,cAAA,0QAAC,mQAAiB;;;;;;;;;;;;;;;;wCAMvB,0BACC;sDACE,cAAA,0QAAC;gDAAI,WAAU;0DACb,cAAA,0QAAC,iPAAc;;;;;;;;;;0EAInB;sDACE,cAAA,0QAAC;gDACC,WAAU;gDACV,SAAS,IAAM,SAAS,IAAA,yOAAS,EAAC;;kEAElC,0QAAC,wNAAK;wDACJ,KAAK,CAAA,qBAAA,+BAAA,SAAU,IAAI,CAAC,WAAW,KAAI;wDACnC,WAAU;wDACV,KAAI;wDACJ,OAAO;wDACP,QAAQ;;;;;;oDAET,sBACC,0QAAC;wDAAI,WAAU;kEACb,cAAA,0QAAC,oPAAkB;;;;;;;;;;;;;;;;;;;;;;;;;sCAWzC,0QAAC;4BACC,WAAU;4BACV,SAAS;;8CAET,0QAAC,wOAAM;;;;;8CACP,0QAAC;oCAAK,WAAU;8CAAkB;;;;;;;;;;;;;;;;;;;;;;;;;AAM9C;GArLS;;QACU,+NAAc;QAId,yQAAgB;QAGhB,iOAAW;QAGb,+NAAS;QAQR,+NAAc;QAGe,2OAAc;QAE9C,+NAAc;QACF,+NAAc;;;KAzBhC;uCAuLM","debugId":null}},
    {"offset": {"line": 2660, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Renz-Lunci/Desktop/Rx/%20Technology/Repository/lakaw-socmed-Website/src/app/components/SidebarComponents/PopularHashtags.tsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { useAppDispatch } from \"@/app/utils/hooks\";\r\nimport { showModal } from \"@/app/store/Slice/ModalsSlice\";\r\nimport Cookies from \"js-cookie\";\r\nimport { setHashtag } from \"@/app/store/Slice/UserIdHashtagIdSlice\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport useApiPost from \"@/app/hooks/postData\";\r\nimport { HashtagRecord, HashtagSocialResponse } from \"@/app/types/ResTypes\";\r\nimport { RiHashtag } from \"react-icons/ri\";\r\n\r\nfunction PopularHashtags() {\r\n  const dispatch = useAppDispatch();\r\n  const router = useRouter();\r\n  const token = Cookies.get(\"Reelboost_auth_token\");\r\n\r\n  const [hashtags, setHashtags] = useState<HashtagRecord[]>([]);\r\n  const { postData, loading } = useApiPost();\r\n\r\n  const fetchHashtags = async () => {\r\n    try {\r\n      const response: HashtagSocialResponse = await postData(\r\n        \"/hashtag/get-hashtags\",\r\n        {\r\n          add_social: \"true\",\r\n          sort_order: \"DESC\",\r\n        }\r\n      );\r\n      if (response.status) {\r\n        setHashtags(response.data.Records);\r\n      }\r\n    } catch (error) {\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchHashtags();\r\n  }, []);\r\n\r\n  const handleHashtagRoute = (hashtagName: string, total: string) => {\r\n    dispatch(\r\n      setHashtag({\r\n         // update this if `hashtag_id` exists in the API response\r\n        hashtag_name: hashtagName,\r\n        count: total,\r\n      })\r\n    );\r\n    router.push(\"/explore\");\r\n  };\r\n\r\n  return (\r\n    <div className=\"px-10 border-t\">\r\n      <h2 className=\" text-base text-gray pt-4 pb-5\">Popular Hashtags</h2>\r\n\r\n      {/* Hashtag shimmer or list */}\r\n      {loading ? (\r\n        <div className=\"animate-pulse\">\r\n          {[...Array(4)].map((_, index) => (\r\n            <div key={index} className=\"flex gap-2 items-start mb-4\">\r\n              <div className=\"rounded-full border-2 p-2 border-gray-300\">\r\n                <RiHashtag className=\"text-lg text-gray-600\" />\r\n              </div>\r\n              <div className=\"flex flex-col gap-1\">\r\n                <div className=\"w-[100px] h-[8px] bg-gray-300 rounded\" />\r\n                <div className=\"w-[60px] h-[6px] bg-gray-200 rounded\" />\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      ) : (\r\n        hashtags?.slice(0, 4).map((hashtag) => (\r\n          <div\r\n            key={hashtag.hashtag_name}\r\n            className=\"flex gap-3 items-start mb-4 cursor-pointer\"\r\n            onClick={() => {\r\n              if (!token) {\r\n                dispatch(showModal(\"Signin\"));\r\n              } else {\r\n                handleHashtagRoute(hashtag.hashtag_name, hashtag.total_socials);\r\n              }\r\n\r\n            }}\r\n          >\r\n            <div className=\"rounded-full border-2 p-2 border-gray-200\">\r\n              <RiHashtag className=\"text-lg text-gray-500\" />\r\n            </div>\r\n            <div className=\"flex flex-col\">\r\n              <h3 className=\"text-sm text-dark font-medium\">\r\n                #{hashtag.hashtag_name}\r\n              </h3>\r\n              <p className=\"text-[11px] font-normal text-gray\">\r\n                {hashtag.total_socials} posts\r\n              </p>\r\n            </div>\r\n          </div>\r\n        ))\r\n      )}\r\n\r\n      {/* See all button */}\r\n      <button\r\n        className=\"text-sm text-main-green cursor-pointer hover:underline\"\r\n        onClick={() => {\r\n          if (!token) {\r\n            dispatch(showModal(\"Signin\"));\r\n          } else {\r\n            router.push(\"/explore\");\r\n          }\r\n        }}\r\n      >\r\n        See all\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PopularHashtags;\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;;;;;;;;;;;AAEA,SAAS;;IACP,MAAM,WAAW,IAAA,+NAAc;IAC/B,MAAM,SAAS,IAAA,+NAAS;IACxB,MAAM,QAAQ,gPAAO,CAAC,GAAG,CAAC;IAE1B,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,sPAAQ,EAAkB,EAAE;IAC5D,MAAM,EAAE,QAAQ,EAAE,OAAO,EAAE,GAAG,IAAA,2NAAU;IAExC,MAAM,gBAAgB;QACpB,IAAI;YACF,MAAM,WAAkC,MAAM,SAC5C,yBACA;gBACE,YAAY;gBACZ,YAAY;YACd;YAEF,IAAI,SAAS,MAAM,EAAE;gBACnB,YAAY,SAAS,IAAI,CAAC,OAAO;YACnC;QACF,EAAE,OAAO,OAAO,CAChB;IACF;IAEA,IAAA,uPAAS;qCAAC;YACR;QACF;oCAAG,EAAE;IAEL,MAAM,qBAAqB,CAAC,aAAqB;QAC/C,SACE,IAAA,mPAAU,EAAC;YACR,yDAAyD;YAC1D,cAAc;YACd,OAAO;QACT;QAEF,OAAO,IAAI,CAAC;IACd;IAEA,qBACE,0QAAC;QAAI,WAAU;;0BACb,0QAAC;gBAAG,WAAU;0BAAiC;;;;;;YAG9C,wBACC,0QAAC;gBAAI,WAAU;0BACZ;uBAAI,MAAM;iBAAG,CAAC,GAAG,CAAC,CAAC,GAAG,sBACrB,0QAAC;wBAAgB,WAAU;;0CACzB,0QAAC;gCAAI,WAAU;0CACb,cAAA,0QAAC,2OAAS;oCAAC,WAAU;;;;;;;;;;;0CAEvB,0QAAC;gCAAI,WAAU;;kDACb,0QAAC;wCAAI,WAAU;;;;;;kDACf,0QAAC;wCAAI,WAAU;;;;;;;;;;;;;uBANT;;;;;;;;;uBAYd,qBAAA,+BAAA,SAAU,KAAK,CAAC,GAAG,GAAG,GAAG,CAAC,CAAC,wBACzB,0QAAC;oBAEC,WAAU;oBACV,SAAS;wBACP,IAAI,CAAC,OAAO;4BACV,SAAS,AAPf,IAOe,yOAAS,AAoB5B,EApB6B;wBACrB,OAAO;4BACL,mBAAmB,QAAQ,YAAY,EAAE,QAAQ,aAAa;wBAChE;oBAEF;;sCAEA,0QAAC;4BAAI,WAAU;sCACb,cAAA,0QAAC,2OAAS;gCAAC,WAAU;;;;;;;;;;;sCAEvB,0QAAC;4BAAI,WAAU;;8CACb,0QAAC;oCAAG,WAAU;;wCAAgC;wCAC1C,QAAQ,YAAY;;;;;;;8CAExB,0QAAC;oCAAE,WAAU;;wCACV,QAAQ,aAAa;wCAAC;;;;;;;;;;;;;;mBAnBtB,QAAQ,YAAY;;;;;0BA2B/B,0QAAC;gBACC,WAAU;gBACV,SAAS;oBACP,IAAI,CAAC,OAAO;wBACV,SAAS,IAAA,yOAAS,EAAC;oBACrB,OAAO;wBACL,OAAO,IAAI,CAAC;oBACd;gBACF;0BACD;;;;;;;;;;;;AAKP;GAtGS;;QACU,+NAAc;QAChB,+NAAS;QAIM,2NAAU;;;KANjC;uCAwGM","debugId":null}},
    {"offset": {"line": 2880, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Renz-Lunci/Desktop/Rx/%20Technology/Repository/lakaw-socmed-Website/src/app/components/SidebarComponents/SuggestedAccounts.tsx"],"sourcesContent":["\"use client\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport Cookies from \"js-cookie\";\r\nimport { useAppDispatch } from \"@/app/utils/hooks\";\r\nimport { showModal } from \"@/app/store/Slice/ModalsSlice\";\r\nimport { setUserId } from \"@/app/store/Slice/UserIdHashtagIdSlice\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport RoundedShimmer from \"../Shimmer/RoundedShimmer\";\r\nimport Image from \"next/image\";\r\n\r\ninterface User {\r\n  user_id: number;\r\n  user_name: string;\r\n  full_name: string;\r\n  profile_pic: string;\r\n}\r\n\r\nfunction SuggestedAccounts() {\r\n  const [users, setUsers] = useState<User[]>([]);\r\n  const [isLoading, setIsLoading] = useState<boolean>(true);\r\n\r\n  const dispatch = useAppDispatch();\r\n  const router = useRouter();\r\n  const token = Cookies.get(\"Reelboost_auth_token\");\r\n\r\n  useEffect(() => {\r\n    const fetchUsers = async () => {\r\n      setIsLoading(true);\r\n      try {\r\n        const apiUrl = token\r\n          ? `${process.env.NEXT_PUBLIC_API_URL}/users/find-user-not-following`\r\n          : `${process.env.NEXT_PUBLIC_API_URL}/users/find-user-no-auth`;\r\n\r\n        const response = await fetch(apiUrl, {\r\n          method: \"POST\",\r\n          headers: {\r\n            \"Content-Type\": \"application/json\",\r\n            ...(token ? { Authorization: `Bearer ${token}` } : {}),\r\n          },\r\n          body: token ? JSON.stringify({ page: 1 }) : undefined,\r\n        });\r\n\r\n        const result = await response.json();\r\n\r\n        // Filter out users with empty or whitespace-only username\r\n        const filteredUsers = (result?.data?.Records || [])\r\n          .filter((user: { user_name: string; }) => user.user_name && user.user_name.trim() !== \"\")\r\n          .slice(0, 4);\r\n\r\n        setUsers(filteredUsers);\r\n      } catch (error) {\r\n        setUsers([]);\r\n      } finally {\r\n        setIsLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchUsers();\r\n  }, [token]);\r\n\r\n  const handleUser = (userId: number) => {\r\n    dispatch(setUserId(userId));\r\n    const loggedInUserId = Cookies.get(\"Reelboost_user_id\");\r\n\r\n    if (userId.toString() === loggedInUserId) {\r\n      router.push(\"/profile\");\r\n    } else {\r\n      router.push(`/profile/${userId}`);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className=\"px-10 border-t\">\r\n        <h2 className=\" text-base text-gray pt-4 pb-5\">Suggested Accounts</h2>\r\n\r\n        {isLoading ? (\r\n          <div className=\"animate-pulse pr-10\">\r\n            {[...Array(3)].map((_, index) => (\r\n              <div key={index} className=\"flex gap-2 items-center mb-4\">\r\n                <div className=\"w-10 h-10\">\r\n                  <RoundedShimmer />\r\n                </div>\r\n                <div className=\"flex flex-col gap-1\">\r\n                  <div className=\"w-[100px] h-[8px] bg-gray-300 rounded\" />\r\n                  <div className=\"w-[60px] h-[6px] bg-gray-200 rounded\" />\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        ) : (\r\n          users.map((user) => (\r\n            <div\r\n              key={user.user_id}\r\n              className=\"flex gap-3 items-center mb-4 cursor-pointer\"\r\n              onClick={() => {\r\n                if (!token) {\r\n                  dispatch(showModal(\"Signin\"));\r\n                } else {\r\n                  handleUser(user.user_id);\r\n                }\r\n              }}\r\n            >\r\n              <div className=\"rounded-full w-[40px] h-[40px] overflow-hidden\">\r\n                <Image\r\n                  src={user.profile_pic}\r\n                  alt={user.user_name}\r\n                  className=\"w-full h-full object-cover rounded-full\"\r\n                  width={60}\r\n                  height={60}\r\n                />\r\n              </div>\r\n              <div className=\"flex flex-col\">\r\n                <h3 className=\"text-xs text-dark font-medium truncate max-w-[100px]\">\r\n                  {user.user_name}\r\n                </h3>\r\n                <p className=\"text-[10px] font-normal text-gray max-w-[80px] truncate\">\r\n                  {user.full_name}\r\n                </p>\r\n              </div>\r\n            </div>\r\n          ))\r\n        )}\r\n\r\n        <button\r\n          className=\"cursor-pointer text-sm hover:underline text-main-green\"\r\n          onClick={() => {\r\n            if (!token) {\r\n              dispatch(showModal(\"Signin\"));\r\n            } else {\r\n              dispatch(showModal(\"SearchAccounts\"));\r\n            }\r\n          }}\r\n        >\r\n          See all\r\n        </button>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default SuggestedAccounts;\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 3122, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Renz-Lunci/Desktop/Rx/%20Technology/Repository/lakaw-socmed-Website/src/app/components/SidebarComponents/Sidebar.tsx"],"sourcesContent":["\"use client\";\r\nimport React, { useState, useEffect } from \"react\";\r\nimport { useRouter, usePathname } from \"next/navigation\";\r\nimport { useAppDispatch } from \"@/app/utils/hooks\";\r\nimport Cookies from \"js-cookie\";\r\nimport { showModal } from \"@/app/store/Slice/ModalsSlice\";\r\nimport {\r\n  clearHashtagId,\r\n  clearUserId,\r\n} from \"@/app/store/Slice/UserIdHashtagIdSlice\";\r\nimport PopularHashtags from \"./PopularHashtags\";\r\nimport SuggestedAccounts from \"./SuggestedAccounts\";\r\nimport Image from \"next/image\";\r\n\r\ninterface SidebarProps {\r\n  onNavigate: (type: \"main\" | \"settings\") => void;\r\n}\r\n\r\ntype SidebarOption = {\r\n  name: string;\r\n  route?: string;\r\n};\r\n\r\n\r\nfunction Sidebar({ onNavigate }: SidebarProps) {\r\n  const router = useRouter();\r\n  const pathname = usePathname();\r\n  const dispatch = useAppDispatch();\r\n\r\n  const [selectedButton, setSelectedButton] = useState(pathname);\r\n  const [activeSection, setActiveSection] = useState<string | null>(null);\r\n\r\n  useEffect(() => {\r\n    setSelectedButton(pathname);\r\n  }, [pathname]);\r\n\r\n  const token = Cookies.get(\"Reelboost_auth_token\");\r\n  // const handleButtonClick = (option: any) => {\r\n  //   if (!token) {\r\n  //     dispatch(showModal(\"Signin\"));\r\n  //   } else {\r\n  //     if (option.route) {\r\n  //       router.push(option.route);\r\n  //       setSelectedButton(option.route);\r\n  //       dispatch(clearHashtagId());\r\n  //       setActiveSection(null);\r\n  //       clearUserId();\r\n  //     } else {\r\n  //       setActiveSection(option.name);\r\n  //       clearUserId();\r\n  //     }\r\n  //   }\r\n  // };\r\n\r\n  // inside function Sidebar(props)\r\n\r\n  const handleButtonClick = (option: SidebarOption) => {\r\n    if (!token) {\r\n      dispatch(showModal(\"Signin\"));\r\n    } else {\r\n      if (option.route) {\r\n        if (option.name === \"Setting\") {\r\n          router.push(\"/setting\");\r\n          onNavigate(\"settings\");\r\n        } else {\r\n          router.push(option.route);\r\n          setSelectedButton(option.route);\r\n          dispatch(clearHashtagId());\r\n          setActiveSection(null);\r\n          clearUserId();\r\n        }\r\n      } else {\r\n        setActiveSection(option.name);\r\n        clearUserId();\r\n      }\r\n    }\r\n  };\r\n\r\n  const options = [\r\n    {\r\n      name: \"For You\",\r\n      src: \"/SidebarIcons/home.png\",\r\n      src1: \"/SidebarIcons/home1.png\",\r\n      route: \"/\",\r\n    },\r\n    {\r\n      name: \"Explore\",\r\n      src: \"/SidebarIcons/explore.png\",\r\n      src1: \"/SidebarIcons/explore1.png\",\r\n      route: \"/explore\",\r\n    },\r\n    {\r\n      name: \"Following\",\r\n      src: \"/SidebarIcons/Following.png\",\r\n      src1: \"/SidebarIcons/Following1.png\",\r\n      route: \"/following\",\r\n    },\r\n    // {\r\n    //   name: \"Live\",\r\n    //   src: \"/SidebarIcons/live.png\",\r\n    //   src1: \"/SidebarIcons/live1.png\",\r\n    //   route: \"/live\",\r\n    // },\r\n    {\r\n      name: \"Profile\",\r\n      src: \"/SidebarIcons/profile.png\",\r\n      src1: \"/SidebarIcons/profile1.png\",\r\n      route: \"/profile\",\r\n    },\r\n      {\r\n\r\n        name:\"Book Now \",\r\n        src:\"/SidebarIcons/booknow1.png\",\r\n        src1:\"/SidebarIcons/booknow.png\",\r\n        route:\"/booknow\",\r\n      },\r\n    {\r\n      name: \"Reels\",\r\n      src: \"/SidebarIcons/reels.png\",\r\n      src1: \"/SidebarIcons/reels1.png\",\r\n      route: \"/reels\",\r\n    },\r\n    {\r\n      name: \"Setting\",\r\n      src: \"/SidebarIcons/setting.png\",\r\n      src1: \"/SidebarIcons/Setting1.png\",\r\n      route: \"/setting\",\r\n    },\r\n  ];\r\n\r\n  return (\r\n    <>\r\n      {/* Desktop Sidebar */}\r\n      <div className=\"hidden lg:flex fixed overflow-y-auto h-screen no-scrollbar w-[270px] sm:pt-[60px] my-5 pr-4 py-5 shadow-md flex-col justify-between max-h-screen bg-[#FFFFFF]\">\r\n        <div className=\"flex flex-col gap-8\">\r\n          {/* Sidebar menu */}\r\n          <div className=\"space-y-3\">\r\n            {options\r\n              .filter((option) =>\r\n                [\r\n                  \"For You\",\r\n                  \"Explore\",\r\n                  \"Following\",\r\n                  \"Live\",\r\n                  \"Profile\",\r\n                  \"Book Now \",\r\n                  \"Setting\",\r\n                ].includes(option.name)\r\n              )\r\n              .map((option) => {\r\n                const isActive =\r\n                  activeSection === option.name ||\r\n                  selectedButton === option.route;\r\n                return (\r\n                  <button\r\n                    key={option.name}\r\n                    onClick={() => handleButtonClick(option)}\r\n                    className={`xl:flex xl:items-center justify-between px-10 py-3 w-full transition-all duration-200 cursor-pointer ${\r\n                      isActive\r\n                        ? \"xl:rounded-r-2xl text-main-green background-opacityGradient\"\r\n                        : \"text-dark\"\r\n                    }`}\r\n                  >\r\n                    <div className=\"flex gap-3 items-center\">\r\n                      <Image\r\n                        src={isActive ? option.src1 : option.src}\r\n                        alt={option.name}\r\n                        width={25}\r\n                        height={25}\r\n                      />\r\n                      <span\r\n                        className={`font-gilroy_md text-[16px] lg:block hidden ${\r\n                          isActive ? \"font-medium\" : \"\"\r\n                        }`}\r\n                      >\r\n                        {option.name}\r\n                      </span>\r\n                    </div>\r\n                  </button>\r\n                );\r\n              })}\r\n            <SuggestedAccounts />\r\n            <PopularHashtags />\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Top Navigation - Mobile */}\r\n      {![\"/message\", \"/\"].includes(pathname) && (\r\n        <div className=\"lg:hidden fixed top-0 w-full bg-primary z-50\">\r\n          <div className=\"flex justify-between px-5 py-2\">\r\n            {/* Logo */}\r\n            <div className=\"flex gap-2 items-center\">\r\n              <Image src=\"/assets/logo.png\" alt=\"logo\" width={30} height={30} />\r\n            </div>\r\n\r\n            {/* Top Right Icons */}\r\n            <div className=\"flex gap-4\">\r\n              {options\r\n                .filter((opt) => [\"Notification\", \"message\"].includes(opt.name))\r\n                .map((option) => {\r\n                  const isActive =\r\n                    activeSection === option.name ||\r\n                    selectedButton === option.route;\r\n                  return (\r\n                    <button\r\n                      key={option.name}\r\n                      onClick={() => handleButtonClick(option)}\r\n                      className=\"flex flex-col items-center\"\r\n                    >\r\n                      <Image\r\n                        src={isActive ? option.src1 : option.src}\r\n                        alt={option.name}\r\n                        width={25}\r\n                        height={25}\r\n                      />\r\n                    </button>\r\n                  );\r\n                })}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Bottom Navigation - Mobile */}\r\n      {![\"/message\"].includes(pathname) && (\r\n        <div className=\"lg:hidden fixed bottom-0 w-full bg-primary shadow-md z-50\">\r\n          <div className=\"flex justify-around items-center py-2\">\r\n            {options\r\n              .filter((opt) =>\r\n                [\"For You\", \"Explore\", \"Following\", \"Live\", \"Profile\"].includes(\r\n                  opt.name\r\n                )\r\n              )\r\n              .map((option) => {\r\n                const isActive =\r\n                  activeSection === option.name ||\r\n                  selectedButton === option.route;\r\n                return (\r\n                  <button\r\n                    key={option.name}\r\n                    onClick={() => handleButtonClick(option)}\r\n                    className=\"flex flex-col items-center justify-center text-xs\"\r\n                  >\r\n                    <Image\r\n                      src={isActive ? option.src1 : option.src}\r\n                      alt={option.name}\r\n                      width={23}\r\n                      height={23}\r\n\r\n                    />\r\n                  </button>\r\n                );\r\n              })}\r\n          </div>\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Sidebar;\r\n"],"names":[],"mappings":"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","debugId":null}}]
}