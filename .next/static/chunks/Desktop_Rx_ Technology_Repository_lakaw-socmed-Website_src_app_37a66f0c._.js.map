{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Renz-Lunci/Desktop/Rx/%20Technology/Repository/lakaw-socmed-Website/src/app/socket/socket.ts"],"sourcesContent":["// @ts-nocheck\r\nimport Cookies from \"js-cookie\";\r\nimport { io } from \"socket.io-client\";\r\n\r\nlet socket: SocketIOClient;\r\nexport const socketInstance = () => {\r\n    const token = Cookies.get(\"Reelboost_auth_token\")\r\n   \r\n    \r\n  if (!socket) {\r\n    const token = Cookies.get(\"Reelboost_auth_token\");\r\n    socket = io(`${process.env.NEXT_PUBLIC_SOCKET_URL}`, {\r\n      path: \"/socket\",\r\n      transports: [\"websocket\"],\r\n      auth: { token },\r\n    });\r\n\r\n     socket.on(\"connect\", () => {\r\n      if (socket) {\r\n        Cookies.set(\"socketId\", socket.id);\r\n      }\r\n    });\r\n\r\n    socket.on(\"connect_error\", (err) => {\r\n      // console.error(\"❌ Socket connection error:\", err.message);\r\n    });\r\n  }\r\n  return socket;\r\n};\r\n\r\n\r\n"],"names":[],"mappings":"AAAA,cAAc;;;;;AAWK;AAVnB;AACA;;;AAEA,IAAI;AACG,MAAM,iBAAiB;IAC1B,MAAM,QAAQ,gPAAO,CAAC,GAAG,CAAC;IAG5B,IAAI,CAAC,QAAQ;QACX,MAAM,QAAQ,gPAAO,CAAC,GAAG,CAAC;QAC1B,SAAS,IAAA,qQAAE,EAAC,AAAC,GAAqC,6GAAG;YACnD,MAAM;YACN,YAAY;gBAAC;aAAY;YACzB,MAAM;gBAAE;YAAM;QAChB;QAEC,OAAO,EAAE,CAAC,WAAW;YACpB,IAAI,QAAQ;gBACV,gPAAO,CAAC,GAAG,CAAC,YAAY,OAAO,EAAE;YACnC;QACF;QAEA,OAAO,EAAE,CAAC,iBAAiB,CAAC;QAC1B,4DAA4D;QAC9D;IACF;IACA,OAAO;AACT","debugId":null}},
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Renz-Lunci/Desktop/Rx/%20Technology/Repository/lakaw-socmed-Website/src/app/socket/ListenAllEvents.tsx"],"sourcesContent":["\"use client\";\r\nimport { useEffect } from \"react\";\r\nimport { socketInstance } from \"./socket\";\r\nimport { ChatListRes } from \"../types/ChatListType\";\r\nimport { useAppDispatch, useAppSelector } from \"../utils/hooks\";\r\nimport { updateChatList } from \"../store/Slice/ChatListSlice\";\r\nimport { MessageListRes } from \"../types/MessageListType\";\r\nimport { setMessageLoading } from \"../store/Slice/setChatIdMessageLoading\";\r\nimport { updateMessageList } from \"../store/Slice/MessageListSlice\";\r\nimport { MessagesSeenStatus, OnlineUsers } from \"../types/OnlineUser\";\r\nimport {\r\n  addOnlineUser,\r\n  removeOnlineUser,\r\n  setOnlineUsers,\r\n} from \"../store/Slice/OnlineUserSlice\";\r\nimport { updateTypingState } from \"../store/Slice/SendMessageSlice\";\r\nimport { updateMessageSeenStatus } from \"../store/Slice/messageSeenStatusSlice\";\r\nimport Cookies from \"js-cookie\";\r\n\r\nexport default function ListenAllEvents() {\r\n  const dispatch = useAppDispatch();\r\n\r\n  const page = 1;\r\n  const pageSize = 1000;\r\n  const currentChatId = useAppSelector((state) => state.selectedChat.chat_id);\r\n  const myUserId = Cookies.get(\"Reelboost_user_id\");\r\n\r\n  useEffect(() => {\r\n    const unlockAudio = () => {\r\n      const a = new Audio();\r\n      a.play().catch(() => {}); // unlock audio context silently\r\n      document.removeEventListener(\"click\", unlockAudio);\r\n    };\r\n    document.addEventListener(\"click\", unlockAudio);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    function newMessageCommingSound() {\r\n      const audio = new Audio(\"/audio/achive-sound-132273.mp3\");\r\n      audio.muted = false;\r\n      audio\r\n        .play()\r\n    }\r\n\r\n    const socket = socketInstance();\r\n    if (!socket) return;\r\n\r\n    // Emit to get chat list on mount\r\n    socket.emit(\"chat_list\", { page, pageSize });\r\n\r\n    const chatListHandler = (res: ChatListRes) => {\r\n      dispatch(updateChatList(res.Chats));\r\n    };\r\n\r\n    socket.on(\"chat_list\", chatListHandler);\r\n\r\n    socket.on(\"message_list\", (res: MessageListRes) => {\r\n      dispatch(updateMessageList(res.Records));\r\n      dispatch(setMessageLoading(true));\r\n    });\r\n\r\n    // ✅ Handle new incoming message\r\n    socket.on(\"recieve\", (res: MessageListRes) => {\r\n      if (Array.isArray(res.Records) && res.Records.length > 0) {\r\n        dispatch(updateMessageList(res.Records));\r\n\r\n        const latestMsg = res.Records[0];\r\n        const myId = Number(myUserId);\r\n\r\n        if (latestMsg?.sender_id !== myId) {\r\n          newMessageCommingSound();\r\n        }\r\n      }\r\n    });\r\n\r\n    socket.on(\"initial_online_user\", (onlineUsers: OnlineUsers[]) => {\r\n      dispatch(setOnlineUsers(Array.isArray(onlineUsers) ? onlineUsers : []));\r\n    });\r\n\r\n    socket.on(\"online_user\", (user: OnlineUsers) => {\r\n      if (user) dispatch(addOnlineUser(user));\r\n    });\r\n\r\n    socket.on(\"offline_user\", (data: { user_id: number }) => {\r\n      if (data?.user_id) {\r\n        dispatch(removeOnlineUser(data.user_id));\r\n      }\r\n    });\r\n\r\n    socket.on(\"typing\", (data: { chat_id: number; typing: boolean }) => {\r\n      dispatch(updateTypingState(data));\r\n    });\r\n\r\n    socket.on(\"message_seen_status\", (data: MessagesSeenStatus) => {\r\n      \r\n      if (data?.message_id && data.message_seen_status === \"seen\") {\r\n        dispatch(\r\n          updateMessageSeenStatus({\r\n            message_id: data.message_id,\r\n            message_seen_status: data.message_seen_status,\r\n          })\r\n        );\r\n      }\r\n    });\r\n\r\n    return () => {\r\n      socket.off(\"chat_list\", chatListHandler);\r\n      socket.off(\"message_list\");\r\n      socket.off(\"recieve\");\r\n      socket.off(\"initial_online_user\");\r\n      socket.off(\"online_user\");\r\n      socket.off(\"offline_user\");\r\n      socket.off(\"typing\");\r\n      socket.off(\"message_seen_status\");\r\n    };\r\n  }, [page, pageSize, dispatch]);\r\n\r\n  // Emit \"message_list\" whenever currentChatId changes\r\n  useEffect(() => {\r\n    const socket = socketInstance();\r\n    if (!socket) return;\r\n\r\n    if (!currentChatId) {\r\n      // no chat selected yet, don't emit\r\n      return;\r\n    }\r\n\r\n    dispatch(setMessageLoading(true));\r\n\r\n    socket.emit(\"message_list\", {\r\n      chat_id: currentChatId,\r\n      page,\r\n      pageSize,\r\n    });\r\n  }, [currentChatId, page, pageSize, dispatch]);\r\n\r\n  return null;\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 224, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Renz-Lunci/Desktop/Rx/%20Technology/Repository/lakaw-socmed-Website/src/app/utils/hooks.tsx"],"sourcesContent":["import { useDispatch, useSelector, useStore } from \"react-redux\";\r\nimport type { AppDispatch, AppStore, RootState } from \"../store/store\";\r\n\r\n// Use throughout your app instead of plain `useDispatch` and `useSelector`\r\nexport const useAppDispatch = useDispatch.withTypes<AppDispatch>();\r\nexport const useAppSelector = useSelector.withTypes<RootState>();\r\nexport const useAppStore = useStore.withTypes<AppStore>();\r\n"],"names":[],"mappings":";;;;;;;;AAAA;;AAIO,MAAM,iBAAiB,wPAAW,CAAC,SAAS;AAC5C,MAAM,iBAAiB,wPAAW,CAAC,SAAS;AAC5C,MAAM,cAAc,qPAAQ,CAAC,SAAS","debugId":null}},
    {"offset": {"line": 244, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Renz-Lunci/Desktop/Rx/%20Technology/Repository/lakaw-socmed-Website/src/app/utils/generateVideoThumbnail.ts"],"sourcesContent":["const generateVideoThumbnail = (\r\n  videoFile: File,\r\n  videoTimeInSeconds: number = 1,\r\n  retries: number = 3\r\n): Promise<string> => {\r\n  return new Promise((resolve, reject) => {\r\n    if (!videoFile.type.includes(\"video\")) {\r\n      return reject(\"File is not a valid video\");\r\n    }\r\n\r\n    const url = URL.createObjectURL(videoFile);\r\n    const video = document.createElement(\"video\");\r\n    let retryCount = 0;\r\n\r\n    video.preload = \"metadata\";\r\n    video.src = url;\r\n    video.muted = true;\r\n    video.playsInline = true;\r\n    video.crossOrigin = \"anonymous\"; // Optional: Helps with CORS issues\r\n    video.load();\r\n\r\n    const capture = () => {\r\n      const canvas = document.createElement(\"canvas\");\r\n      canvas.width = video.videoWidth;\r\n      canvas.height = video.videoHeight;\r\n\r\n      const ctx = canvas.getContext(\"2d\");\r\n      if (!ctx) return reject(\"Could not get canvas context\");\r\n\r\n      ctx.drawImage(video, 0, 0, canvas.width, canvas.height);\r\n      const thumbnail = canvas.toDataURL(\"image/png\");\r\n\r\n      // If blank image, retry\r\n      if ((thumbnail.length < 100000 || thumbnail.includes(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAAB\")) && retryCount < retries) {\r\n        retryCount++;\r\n        video.currentTime = videoTimeInSeconds + retryCount; // Try next second\r\n      } else {\r\n        URL.revokeObjectURL(url);\r\n        resolve(thumbnail);\r\n      }\r\n    };\r\n\r\n    video.addEventListener(\"loadeddata\", () => {\r\n      try {\r\n        // If video duration is too short, fallback to first frame\r\n        video.currentTime = Math.min(video.duration - 0.1, videoTimeInSeconds);\r\n      } catch (e) {\r\n        video.currentTime = 0;\r\n      }\r\n    });\r\n\r\n    video.addEventListener(\"seeked\", capture);\r\n    video.onerror = (err) => {\r\n      URL.revokeObjectURL(url);\r\n      reject(\"Error loading video: \" + err);\r\n    };\r\n  });\r\n};\r\n\r\nexport default generateVideoThumbnail;\r\n"],"names":[],"mappings":";;;;AAAA,MAAM,yBAAyB,SAC7B;QACA,sFAA6B,GAC7B,2EAAkB;IAElB,OAAO,IAAI,QAAQ,CAAC,SAAS;QAC3B,IAAI,CAAC,UAAU,IAAI,CAAC,QAAQ,CAAC,UAAU;YACrC,OAAO,OAAO;QAChB;QAEA,MAAM,MAAM,IAAI,eAAe,CAAC;QAChC,MAAM,QAAQ,SAAS,aAAa,CAAC;QACrC,IAAI,aAAa;QAEjB,MAAM,OAAO,GAAG;QAChB,MAAM,GAAG,GAAG;QACZ,MAAM,KAAK,GAAG;QACd,MAAM,WAAW,GAAG;QACpB,MAAM,WAAW,GAAG,aAAa,mCAAmC;QACpE,MAAM,IAAI;QAEV,MAAM,UAAU;YACd,MAAM,SAAS,SAAS,aAAa,CAAC;YACtC,OAAO,KAAK,GAAG,MAAM,UAAU;YAC/B,OAAO,MAAM,GAAG,MAAM,WAAW;YAEjC,MAAM,MAAM,OAAO,UAAU,CAAC;YAC9B,IAAI,CAAC,KAAK,OAAO,OAAO;YAExB,IAAI,SAAS,CAAC,OAAO,GAAG,GAAG,OAAO,KAAK,EAAE,OAAO,MAAM;YACtD,MAAM,YAAY,OAAO,SAAS,CAAC;YAEnC,wBAAwB;YACxB,IAAI,CAAC,UAAU,MAAM,GAAG,UAAU,UAAU,QAAQ,CAAC,yDAAyD,KAAK,aAAa,SAAS;gBACvI;gBACA,MAAM,WAAW,GAAG,qBAAqB,YAAY,kBAAkB;YACzE,OAAO;gBACL,IAAI,eAAe,CAAC;gBACpB,QAAQ;YACV;QACF;QAEA,MAAM,gBAAgB,CAAC,cAAc;YACnC,IAAI;gBACF,0DAA0D;gBAC1D,MAAM,WAAW,GAAG,KAAK,GAAG,CAAC,MAAM,QAAQ,GAAG,KAAK;YACrD,EAAE,OAAO,GAAG;gBACV,MAAM,WAAW,GAAG;YACtB;QACF;QAEA,MAAM,gBAAgB,CAAC,UAAU;QACjC,MAAM,OAAO,GAAG,CAAC;YACf,IAAI,eAAe,CAAC;YACpB,OAAO,0BAA0B;QACnC;IACF;AACF;uCAEe","debugId":null}},
    {"offset": {"line": 303, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Renz-Lunci/Desktop/Rx/%20Technology/Repository/lakaw-socmed-Website/src/app/QueryProvider.tsx"],"sourcesContent":["// app/QueryProvider.tsx\r\n'use client';\r\n\r\nimport { QueryClient, QueryClientProvider } from '@tanstack/react-query';\r\nimport { useState } from 'react';\r\n\r\nexport default function QueryProvider({\r\n  children,\r\n}: {\r\n  children: React.ReactNode;\r\n}) {\r\n  const [queryClient] = useState(() => new QueryClient());\r\n\r\n  return (\r\n    <QueryClientProvider client={queryClient}>\r\n      {children}\r\n    </QueryClientProvider>\r\n  );\r\n}\r\n"],"names":[],"mappings":"AAAA,wBAAwB;;;;;;AAGxB;AAAA;AACA;;;AAHA;;;AAKe,SAAS,cAAc,KAIrC;QAJqC,EACpC,QAAQ,EAGT,GAJqC;;IAKpC,MAAM,CAAC,YAAY,GAAG,IAAA,sPAAQ;kCAAC,IAAM,IAAI,4QAAW;;IAEpD,qBACE,0QAAC,6RAAmB;QAAC,QAAQ;kBAC1B;;;;;;AAGP;GAZwB;KAAA","debugId":null}},
    {"offset": {"line": 343, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Renz-Lunci/Desktop/Rx/%20Technology/Repository/lakaw-socmed-Website/src/app/StoreProvider.tsx"],"sourcesContent":["// \"use client\";\r\n// import { Provider } from \"react-redux\";\r\n// import { store } from \"./store/store\";\r\n// import { GoogleOAuthProvider } from \"@react-oauth/google\";\r\n\r\n// export default function StoreProvider({\r\n//   children,\r\n// }: {\r\n//   children: React.ReactNode;\r\n// }) {\r\n//   return (\r\n//     <GoogleOAuthProvider\r\n//       clientId={`${process.env.NEXT_PUBLIC_GOOGLE_SIGNIN_ID}`}\r\n//     >\r\n//       <Provider store={store}>\r\n//         {children}\r\n//       </Provider>\r\n//     </GoogleOAuthProvider>\r\n//   );\r\n// }\r\n\r\n\r\n\"use client\";\r\nimport { Provider } from \"react-redux\";\r\nimport { store } from \"./store/store\";\r\nimport { GoogleOAuthProvider } from \"@react-oauth/google\";\r\nimport ListenAllEvents from \"./socket/ListenAllEvents\";\r\nimport QueryProvider from \"./QueryProvider\"; // import your QueryClientProvider wrapper\r\n\r\nexport default function StoreProvider({\r\n  children,\r\n}: {\r\n  children: React.ReactNode;\r\n}) {\r\n  return (\r\n    <GoogleOAuthProvider clientId={process.env.NEXT_PUBLIC_GOOGLE_SIGNIN_ID!}>\r\n      <Provider store={store}>\r\n        <QueryProvider >\r\n          <ListenAllEvents />\r\n          {children}\r\n        </QueryProvider>\r\n      </Provider>\r\n    </GoogleOAuthProvider>\r\n  );\r\n}\r\n"],"names":[],"mappings":"AAAA,gBAAgB;AAChB,0CAA0C;AAC1C,yCAAyC;AACzC,6DAA6D;AAE7D,0CAA0C;AAC1C,cAAc;AACd,OAAO;AACP,+BAA+B;AAC/B,OAAO;AACP,aAAa;AACb,2BAA2B;AAC3B,iEAAiE;AACjE,QAAQ;AACR,iCAAiC;AACjC,qBAAqB;AACrB,oBAAoB;AACpB,6BAA6B;AAC7B,OAAO;AACP,IAAI;;;;;AAgB+B;;AAZnC;AACA;AACA;AACA;AACA,oWAA6C,0CAA0C;AALvF;;;;;;;AAOe,SAAS,cAAc,KAIrC;QAJqC,EACpC,QAAQ,EAGT,GAJqC;IAKpC,qBACE,0QAAC,yQAAmB;QAAC,QAAQ;kBAC3B,cAAA,0QAAC,qPAAQ;YAAC,OAAO,qNAAK;sBACpB,cAAA,0QAAC,uNAAa;;kCACZ,0QAAC,mOAAe;;;;;oBACf;;;;;;;;;;;;;;;;;AAKX;KAfwB","debugId":null}},
    {"offset": {"line": 421, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Renz-Lunci/Desktop/Rx/%20Technology/Repository/lakaw-socmed-Website/src/app/hooks/postData.tsx"],"sourcesContent":["\"use client\";\r\nimport { useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport Cookies from \"js-cookie\";\r\nimport { useRouter } from \"next/navigation\";\r\n\r\nconst useApiPost = () => {\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState<Error | null>(null);\r\n  const [data, setData] = useState<unknown>(null);\r\n  const router = useRouter();\r\n\r\n  const postData = async (\r\n    url: string,\r\n    bodyData: unknown,\r\n    contentType = \"application/json\"\r\n  ) => {\r\n    const token = Cookies.get(\"Reelboost_auth_token\");\r\n\r\n    try {\r\n      setLoading(true);\r\n      setError(null);\r\n\r\n      const headers = {\r\n        \"Content-Type\": contentType,\r\n        ...(token && { Authorization: `Bearer ${token}` }),\r\n      };\r\n\r\n      const response = await axios.post(\r\n        process.env.NEXT_PUBLIC_API_URL + url,\r\n        bodyData,\r\n        { headers }\r\n      );\r\n\r\n      // ✅ Check for JSON response\r\n      const contentTypeResponse = response.headers[\"content-type\"] || \"\";\r\n      if (!contentTypeResponse.includes(\"application/json\")) {\r\n        // Redirect silently\r\n        router.replace(\"/not-found\");\r\n        return;\r\n      }\r\n\r\n      setData(response.data);\r\n      return response.data;\r\n    } catch (err: any) {\r\n      const contentTypeError = err?.response?.headers?.[\"content-type\"] || \"\";\r\n\r\n      // ✅ Redirect if not JSON\r\n      if (!contentTypeError.includes(\"application/json\")) {\r\n        router.replace(\"/not-found\");\r\n        return;\r\n      }\r\n\r\n      // ✅ Redirect on Unauthorized (401)\r\n      if (err?.response?.status === 401) {\r\n        Cookies.remove(\"Reelboost_auth_token\");\r\n        router.replace(\"/\");\r\n        return;\r\n      }\r\n\r\n      // ✅ Other error handling\r\n      if (err instanceof Error) {\r\n        setError(err);\r\n      } else {\r\n        setError(new Error(\"An unknown error occurred.\"));\r\n      }\r\n\r\n      // Re-throw if you want calling components to handle it\r\n      throw err;\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return { loading, error, data, postData };\r\n};\r\n\r\nexport default useApiPost;\r\n   "],"names":[],"mappings":";;;;AA6BQ;AA5BR;AACA;AACA;AACA;;AAJA;;;;;AAMA,MAAM,aAAa;;IACjB,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,sPAAQ,EAAC;IACvC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,sPAAQ,EAAe;IACjD,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,sPAAQ,EAAU;IAC1C,MAAM,SAAS,IAAA,+NAAS;IAExB,MAAM,WAAW,eACf,KACA;YACA,+EAAc;QAEd,MAAM,QAAQ,gPAAO,CAAC,GAAG,CAAC;QAE1B,IAAI;YACF,WAAW;YACX,SAAS;YAET,MAAM,UAAU;gBACd,gBAAgB;gBAChB,GAAI,SAAS;oBAAE,eAAe,AAAC,UAAe,OAAN;gBAAQ,CAAC;YACnD;YAEA,MAAM,WAAW,MAAM,gOAAK,CAAC,IAAI,CAC/B,sGAAkC,KAClC,UACA;gBAAE;YAAQ;YAGZ,4BAA4B;YAC5B,MAAM,sBAAsB,SAAS,OAAO,CAAC,eAAe,IAAI;YAChE,IAAI,CAAC,oBAAoB,QAAQ,CAAC,qBAAqB;gBACrD,oBAAoB;gBACpB,OAAO,OAAO,CAAC;gBACf;YACF;YAEA,QAAQ,SAAS,IAAI;YACrB,OAAO,SAAS,IAAI;QACtB,EAAE,OAAO,KAAU;gBACQ,uBAAA,eASrB;YATJ,MAAM,mBAAmB,CAAA,gBAAA,2BAAA,gBAAA,IAAK,QAAQ,cAAb,qCAAA,wBAAA,cAAe,OAAO,cAAtB,4CAAA,qBAAwB,CAAC,eAAe,KAAI;YAErE,yBAAyB;YACzB,IAAI,CAAC,iBAAiB,QAAQ,CAAC,qBAAqB;gBAClD,OAAO,OAAO,CAAC;gBACf;YACF;YAEA,mCAAmC;YACnC,IAAI,CAAA,gBAAA,2BAAA,iBAAA,IAAK,QAAQ,cAAb,qCAAA,eAAe,MAAM,MAAK,KAAK;gBACjC,gPAAO,CAAC,MAAM,CAAC;gBACf,OAAO,OAAO,CAAC;gBACf;YACF;YAEA,yBAAyB;YACzB,IAAI,eAAe,OAAO;gBACxB,SAAS;YACX,OAAO;gBACL,SAAS,IAAI,MAAM;YACrB;YAEA,uDAAuD;YACvD,MAAM;QACR,SAAU;YACR,WAAW;QACb;IACF;IAEA,OAAO;QAAE;QAAS;QAAO;QAAM;IAAS;AAC1C;GArEM;;QAIW,+NAAS;;;uCAmEX","debugId":null}},
    {"offset": {"line": 512, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Renz-Lunci/Desktop/Rx/%20Technology/Repository/lakaw-socmed-Website/src/app/hooks/useFFmpegVideo.tsx"],"sourcesContent":["//@ts-nocheck\r\n\"use client\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { fetchFile } from \"@ffmpeg/util\";\r\nimport type { FFmpeg } from \"@ffmpeg/ffmpeg\";\r\n\r\nexport default function useFFmpegVideo() {\r\n  const [ffmpeg, setFfmpeg] = useState<FFmpeg | null>(null);\r\n  const [ready, setReady] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (typeof window === \"undefined\") return; // ✅ Prevents running on server\r\n\r\n    (async () => {\r\n      try {\r\n        const { FFmpeg } = await import(\"@ffmpeg/ffmpeg\"); // ✅ Dynamic import\r\n        const ffmpegInstance = new FFmpeg();\r\n        await ffmpegInstance.load();\r\n        setFfmpeg(ffmpegInstance);\r\n        setReady(true);\r\n      } catch (err) {\r\n      }\r\n    })();\r\n  }, []);\r\n\r\n  const processVideo = async ({ \r\n    videoFile,\r\n    start,\r\n    end,\r\n    mute,\r\n    musicUrl,\r\n  }: {\r\n    videoFile: File;\r\n    start?: number;\r\n    end?: number;\r\n    mute?: boolean;\r\n    musicUrl?: string;\r\n  }): Promise<File | null> => {\r\n    if (!ready || !ffmpeg || !videoFile) return null;\r\n\r\n    await ffmpeg.writeFile(\"input.mp4\", await fetchFile(videoFile));\r\n\r\n    let args: string[];\r\n\r\n    if (musicUrl) {\r\n      const musicData = await fetch(musicUrl).then((res) => res.arrayBuffer());\r\n      await ffmpeg.writeFile(\"music.mp3\", new Uint8Array(musicData));\r\n\r\n      args = [\r\n        ...(start !== undefined ? [\"-ss\", start.toString()] : []),\r\n        ...(end !== undefined ? [\"-to\", end.toString()] : []),\r\n        \"-i\", \"input.mp4\",\r\n        \"-i\", \"music.mp3\",\r\n        \"-map\", \"0:v:0\",\r\n        \"-map\", \"1:a:0\",\r\n        \"-c:v\", \"libx264\",\r\n        \"-preset\", \"ultrafast\",\r\n        \"-crf\", \"28\",\r\n        \"-c:a\", \"aac\",\r\n        \"-shortest\",\r\n        \"output.mp4\",\r\n      ];\r\n    } else if (mute) {\r\n      args = [\r\n        ...(start !== undefined ? [\"-ss\", start.toString()] : []),\r\n        ...(end !== undefined ? [\"-to\", end.toString()] : []),\r\n        \"-i\", \"input.mp4\",\r\n        \"-c:v\", \"copy\",\r\n        \"-an\",\r\n        \"output.mp4\",\r\n      ];\r\n    } else {\r\n      args = [\r\n        ...(start !== undefined ? [\"-ss\", start.toString()] : []),\r\n        ...(end !== undefined ? [\"-to\", end.toString()] : []),\r\n        \"-i\", \"input.mp4\",\r\n        \"-c:v\", \"copy\",\r\n        \"-c:a\", \"copy\",\r\n        \"output.mp4\",\r\n      ];\r\n    }\r\n\r\n\r\n    await ffmpeg.exec(args);\r\n\r\n    const data = await ffmpeg.readFile(\"output.mp4\");\r\n    const blob = new Blob([data], { type: \"video/mp4\" });\r\n    return new File([blob], \"processed_output.mp4\", { type: \"video/mp4\" });\r\n  };\r\n\r\n  return { ready, processVideo };\r\n}\r\n"],"names":[],"mappings":"AAAA,aAAa;;;;;AAEb;AACA;;AAFA;;;AAKe,SAAS;;IACtB,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,sPAAQ,EAAgB;IACpD,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,sPAAQ,EAAC;IAEnC,IAAA,uPAAS;oCAAC;YACR;;aAA2C,+BAA+B;YAE1E;4CAAC;oBACC,IAAI;wBACF,MAAM,EAAE,MAAM,EAAE,GAAG,yLAAgC,mBAAmB;wBACtE,MAAM,iBAAiB,IAAI;wBAC3B,MAAM,eAAe,IAAI;wBACzB,UAAU;wBACV,SAAS;oBACX,EAAE,OAAO,KAAK,CACd;gBACF;aAAC;QACH;mCAAG,EAAE;IAEL,MAAM,eAAe;YAAO,EAC1B,SAAS,EACT,KAAK,EACL,GAAG,EACH,IAAI,EACJ,QAAQ,EAOT;QACC,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,WAAW,OAAO;QAE5C,MAAM,OAAO,SAAS,CAAC,aAAa,MAAM,IAAA,qPAAS,EAAC;QAEpD,IAAI;QAEJ,IAAI,UAAU;YACZ,MAAM,YAAY,MAAM,MAAM,UAAU,IAAI,CAAC,CAAC,MAAQ,IAAI,WAAW;YACrE,MAAM,OAAO,SAAS,CAAC,aAAa,IAAI,WAAW;YAEnD,OAAO;mBACD,UAAU,YAAY;oBAAC;oBAAO,MAAM,QAAQ;iBAAG,GAAG,EAAE;mBACpD,QAAQ,YAAY;oBAAC;oBAAO,IAAI,QAAQ;iBAAG,GAAG,EAAE;gBACpD;gBAAM;gBACN;gBAAM;gBACN;gBAAQ;gBACR;gBAAQ;gBACR;gBAAQ;gBACR;gBAAW;gBACX;gBAAQ;gBACR;gBAAQ;gBACR;gBACA;aACD;QACH,OAAO,IAAI,MAAM;YACf,OAAO;mBACD,UAAU,YAAY;oBAAC;oBAAO,MAAM,QAAQ;iBAAG,GAAG,EAAE;mBACpD,QAAQ,YAAY;oBAAC;oBAAO,IAAI,QAAQ;iBAAG,GAAG,EAAE;gBACpD;gBAAM;gBACN;gBAAQ;gBACR;gBACA;aACD;QACH,OAAO;YACL,OAAO;mBACD,UAAU,YAAY;oBAAC;oBAAO,MAAM,QAAQ;iBAAG,GAAG,EAAE;mBACpD,QAAQ,YAAY;oBAAC;oBAAO,IAAI,QAAQ;iBAAG,GAAG,EAAE;gBACpD;gBAAM;gBACN;gBAAQ;gBACR;gBAAQ;gBACR;aACD;QACH;QAGA,MAAM,OAAO,IAAI,CAAC;QAElB,MAAM,OAAO,MAAM,OAAO,QAAQ,CAAC;QACnC,MAAM,OAAO,IAAI,KAAK;YAAC;SAAK,EAAE;YAAE,MAAM;QAAY;QAClD,OAAO,IAAI,KAAK;YAAC;SAAK,EAAE,wBAAwB;YAAE,MAAM;QAAY;IACtE;IAEA,OAAO;QAAE;QAAO;IAAa;AAC/B;GArFwB","debugId":null}},
    {"offset": {"line": 643, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Renz-Lunci/Desktop/Rx/%20Technology/Repository/lakaw-socmed-Website/src/app/hooks/usePeerId.ts"],"sourcesContent":["\"use client\";\r\nimport { useEffect, useState } from \"react\";\r\nimport Peer from \"peerjs\";\r\nimport Cookies from \"js-cookie\";\r\n\r\nexport default function usePeerId() {\r\n  const [peerId, setPeerId] = useState<string | null>(null);\r\n\r\n  useEffect(() => {\r\n    // Check if we already have a peer_id in cookies\r\n    const existingPeerId = Cookies.get(\"peer_id\");\r\n\r\n    if (existingPeerId) {\r\n      setPeerId(existingPeerId);\r\n      return;\r\n    }\r\n\r\n    // Generate a new peer_id\r\n    const peer = new Peer();\r\n\r\n    peer.on(\"open\", (id) => {\r\n\r\n      // Save in state + cookie\r\n      setPeerId(id);\r\n      Cookies.set(\"peer_id\", id, {\r\n          secure: true,\r\n          sameSite: \"Strict\",\r\n          expires: 30,\r\n        });\r\n    });\r\n\r\n    peer.on(\"error\", (err) => {\r\n    });\r\n\r\n    // Cleanup on unmount\r\n    return () => {\r\n      peer.destroy();\r\n    };\r\n  }, []);\r\n\r\n  return peerId;\r\n}\r\n"],"names":[],"mappings":";;;;AACA;AACA;AACA;;AAHA;;;;AAKe,SAAS;;IACtB,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,sPAAQ,EAAgB;IAEpD,IAAA,uPAAS;+BAAC;YACR,gDAAgD;YAChD,MAAM,iBAAiB,gPAAO,CAAC,GAAG,CAAC;YAEnC,IAAI,gBAAgB;gBAClB,UAAU;gBACV;YACF;YAEA,yBAAyB;YACzB,MAAM,OAAO,IAAI,qOAAI;YAErB,KAAK,EAAE,CAAC;uCAAQ,CAAC;oBAEf,yBAAyB;oBACzB,UAAU;oBACV,gPAAO,CAAC,GAAG,CAAC,WAAW,IAAI;wBACvB,QAAQ;wBACR,UAAU;wBACV,SAAS;oBACX;gBACJ;;YAEA,KAAK,EAAE,CAAC;uCAAS,CAAC,OAClB;;YAEA,qBAAqB;YACrB;uCAAO;oBACL,KAAK,OAAO;gBACd;;QACF;8BAAG,EAAE;IAEL,OAAO;AACT;GApCwB","debugId":null}},
    {"offset": {"line": 700, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Renz-Lunci/Desktop/Rx/%20Technology/Repository/lakaw-socmed-Website/src/app/message/Location/NearbyPlaces.tsx"],"sourcesContent":["import React from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { updateSendMessageData } from \"@/app/store/Slice/SendMessageSlice\";\nimport Image from \"next/image\";\n\nexport default function NearbyPlaces({\n  nearbyPlaces,\n}: {\n  nearbyPlaces: google.maps.places.PlaceResult[];\n}) {\n  const dispatch = useDispatch();\n\n  const handleSelectPlace = (place: google.maps.places.PlaceResult) => {\n    if (!place.geometry || !place.geometry.location) return;\n\n    const lat = place.geometry.location.lat();\n    const lng = place.geometry.location.lng();\n\n    dispatch(\n      updateSendMessageData({\n        latitude: lat,\n        longitude: lng,\n        message: place.formatted_address || place.name,\n        message_type: \"location\",\n      }),\n    );\n  };\n\n  return (\n    <>\n      {nearbyPlaces.length > 0 ? (\n        <div>\n          <h3 className=\"my-3 px-5 text-sm font-medium\">Nearby Places</h3>\n          <div className=\"flex h-96 flex-col gap-y-3 overflow-scroll pb-24\">\n            {nearbyPlaces.map((place) => (\n              <React.Fragment key={place.place_id}>\n                <div\n                  className=\"flex cursor-pointer gap-2 px-5\"\n                  onClick={() => handleSelectPlace(place)}\n                >\n                  <Image className=\"h-5 w-5\" src={place?.icon || \"\"} alt=\"\" width={10} height={10} />\n                  <span className=\"text-sm\">\n                    {place.name}\n                    {place.vicinity !== place.name && `, ${place.vicinity}`}\n                  </span>\n                </div>\n                <hr className=\"border-t border-borderColor\" />\n              </React.Fragment>\n            ))}\n          </div>\n        </div>\n      ) : (\n        <div className=\"grid h-96 place-content-center\">\n          <Image\n            className=\"mx-auto h-16 w-16\"\n            src=\"/home/Empty.png\"\n            alt=\"\"\n            width={100}\n            height={100}\n          />\n          <div>\n            No nearby places found\n          </div>\n        </div>\n      )}\n    </>\n  );\n}\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AACA;;;;;;;AAEe,SAAS,aAAa,KAIpC;QAJoC,EACnC,YAAY,EAGb,GAJoC;;IAKnC,MAAM,WAAW,IAAA,wPAAW;IAE5B,MAAM,oBAAoB,CAAC;QACzB,IAAI,CAAC,MAAM,QAAQ,IAAI,CAAC,MAAM,QAAQ,CAAC,QAAQ,EAAE;QAEjD,MAAM,MAAM,MAAM,QAAQ,CAAC,QAAQ,CAAC,GAAG;QACvC,MAAM,MAAM,MAAM,QAAQ,CAAC,QAAQ,CAAC,GAAG;QAEvC,SACE,IAAA,0PAAqB,EAAC;YACpB,UAAU;YACV,WAAW;YACX,SAAS,MAAM,iBAAiB,IAAI,MAAM,IAAI;YAC9C,cAAc;QAChB;IAEJ;IAEA,qBACE;kBACG,aAAa,MAAM,GAAG,kBACrB,0QAAC;;8BACC,0QAAC;oBAAG,WAAU;8BAAgC;;;;;;8BAC9C,0QAAC;oBAAI,WAAU;8BACZ,aAAa,GAAG,CAAC,CAAC,sBACjB,0QAAC,qPAAK,CAAC,QAAQ;;8CACb,0QAAC;oCACC,WAAU;oCACV,SAAS,IAAM,kBAAkB;;sDAEjC,0QAAC,wNAAK;4CAAC,WAAU;4CAAU,KAAK,CAAA,kBAAA,4BAAA,MAAO,IAAI,KAAI;4CAAI,KAAI;4CAAG,OAAO;4CAAI,QAAQ;;;;;;sDAC7E,0QAAC;4CAAK,WAAU;;gDACb,MAAM,IAAI;gDACV,MAAM,QAAQ,KAAK,MAAM,IAAI,IAAI,AAAC,KAAmB,OAAf,MAAM,QAAQ;;;;;;;;;;;;;8CAGzD,0QAAC;oCAAG,WAAU;;;;;;;2BAXK,MAAM,QAAQ;;;;;;;;;;;;;;;iCAiBzC,0QAAC;YAAI,WAAU;;8BACb,0QAAC,wNAAK;oBACJ,WAAU;oBACV,KAAI;oBACJ,KAAI;oBACJ,OAAO;oBACP,QAAQ;;;;;;8BAEV,0QAAC;8BAAI;;;;;;;;;;;;;AAOf;GA9DwB;;QAKL,wPAAW;;;KALN","debugId":null}},
    {"offset": {"line": 844, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Renz-Lunci/Desktop/Rx/%20Technology/Repository/lakaw-socmed-Website/src/app/message/Location/ShowMap.tsx"],"sourcesContent":["// import GoogleMapReact from \"google-map-react\";\n// import { useAppSelector } from \"@/app/utils/hooks\";\n// import Image from \"next/image\";\n\n// interface MarkerProps {\n//   lat: number;\n//   lng: number;\n// }\n\n// interface MarkerProps {\n//   lat: number;\n//   lng: number;\n// }\n\n// const Marker: React.FC<MarkerProps> = () => (\n//   <div className=\"relative\">\n//     <Image\n//       src=\"/chat/filled_location.png\"\n//       width={100}\n//       height={100}\n//       alt=\"Marker\"\n//       className=\"h-10 w-10 object-contain\"\n//     />\n//   </div>\n// );\n\n\n\n// const Marker = (MarkerProps) => (\n//   <div className=\"relative\">\n//     <Image\n//       src=\"/chat/filled_location.png\"\n//       width={100}\n//       height={100}\n//       alt=\"Marker\"\n//       className=\"h-10 w-10 object-contain\"\n//     />\n//   </div>\n// );\n\n// export default function ShowMap() {\n//   const sendMessageData = useAppSelector((state) => state.SendMessageData);\n\n//   const lat = Number(sendMessageData.latitude); // fallback to Delhi\n//   const lng = Number(sendMessageData.longitude);\n\n//   return (\n//     <div className=\"h-96 w-full \">\n//       <GoogleMapReact\n//         bootstrapURLKeys={{\n//           key: process.env.NEXT_PUBLIC_GOOGLE_MAP_KEY || \"\",\n//         }}\n//         defaultCenter={{ lat, lng }}\n//         center={{ lat, lng }}\n//         defaultZoom={13}\n//         options={{ fullscreenControl: false }}\n//         draggable={false}\n//       >\n//         <Marker lat={lat} lng={lng} />\n//       </GoogleMapReact>\n//     </div>\n//   );\n// }\nimport GoogleMapReact from \"google-map-react\";\nimport { useAppSelector } from \"@/app/utils/hooks\";\nimport Image from \"next/image\";\n\ninterface MarkerProps {\n  lat: number;\n  lng: number;\n}\n\nconst Marker: React.FC<MarkerProps> = () => (\n  <div className=\"relative\">\n    <Image\n      src=\"/chat/filled_location.png\"\n      width={100}\n      height={100}\n      alt=\"Marker\"\n      className=\"h-10 w-10 object-contain\"\n    />\n  </div>\n);\n\nexport default function ShowMap() {\n  const sendMessageData = useAppSelector((state) => state.SendMessageData);\n\n  const lat = Number(sendMessageData.latitude) || 28.6139; // fallback to Delhi\n  const lng = Number(sendMessageData.longitude) || 77.209;\n\n  return (\n    <div className=\"h-96 w-full \">\n      <GoogleMapReact\n        bootstrapURLKeys={{\n          key: process.env.NEXT_PUBLIC_GOOGLE_MAP_KEY || \"\",\n        }}\n        defaultCenter={{ lat, lng }}\n        center={{ lat, lng }}\n        defaultZoom={13}\n        options={{ fullscreenControl: false }}\n        draggable={false}\n      >\n        <Marker lat={lat} lng={lng} />\n      </GoogleMapReact>\n    </div>\n  );\n}\n"],"names":[],"mappings":"AAAA,iDAAiD;AACjD,sDAAsD;AACtD,kCAAkC;AAElC,0BAA0B;AAC1B,iBAAiB;AACjB,iBAAiB;AACjB,IAAI;AAEJ,0BAA0B;AAC1B,iBAAiB;AACjB,iBAAiB;AACjB,IAAI;AAEJ,gDAAgD;AAChD,+BAA+B;AAC/B,aAAa;AACb,wCAAwC;AACxC,oBAAoB;AACpB,qBAAqB;AACrB,qBAAqB;AACrB,6CAA6C;AAC7C,SAAS;AACT,WAAW;AACX,KAAK;AAIL,oCAAoC;AACpC,+BAA+B;AAC/B,aAAa;AACb,wCAAwC;AACxC,oBAAoB;AACpB,qBAAqB;AACrB,qBAAqB;AACrB,6CAA6C;AAC7C,SAAS;AACT,WAAW;AACX,KAAK;AAEL,sCAAsC;AACtC,8EAA8E;AAE9E,uEAAuE;AACvE,mDAAmD;AAEnD,aAAa;AACb,qCAAqC;AACrC,wBAAwB;AACxB,8BAA8B;AAC9B,+DAA+D;AAC/D,aAAa;AACb,uCAAuC;AACvC,gCAAgC;AAChC,2BAA2B;AAC3B,iDAAiD;AACjD,4BAA4B;AAC5B,UAAU;AACV,yCAAyC;AACzC,0BAA0B;AAC1B,aAAa;AACb,OAAO;AACP,IAAI;;;;;AAgCW;;AA/Bf;AACA;AACA;;;;;;AAOA,MAAM,SAAgC,kBACpC,0QAAC;QAAI,WAAU;kBACb,cAAA,0QAAC,wNAAK;YACJ,KAAI;YACJ,OAAO;YACP,QAAQ;YACR,KAAI;YACJ,WAAU;;;;;;;;;;;KAPV;AAYS,SAAS;;IACtB,MAAM,kBAAkB,IAAA,+NAAc;mDAAC,CAAC,QAAU,MAAM,eAAe;;IAEvE,MAAM,MAAM,OAAO,gBAAgB,QAAQ,KAAK,SAAS,oBAAoB;IAC7E,MAAM,MAAM,OAAO,gBAAgB,SAAS,KAAK;IAEjD,qBACE,0QAAC;QAAI,WAAU;kBACb,cAAA,0QAAC,4PAAc;YACb,kBAAkB;gBAChB,KAAK,0DAA0C;YACjD;YACA,eAAe;gBAAE;gBAAK;YAAI;YAC1B,QAAQ;gBAAE;gBAAK;YAAI;YACnB,aAAa;YACb,SAAS;gBAAE,mBAAmB;YAAM;YACpC,WAAW;sBAEX,cAAA,0QAAC;gBAAO,KAAK;gBAAK,KAAK;;;;;;;;;;;;;;;;AAI/B;GAtBwB;;QACE,+NAAc;;;MADhB","debugId":null}},
    {"offset": {"line": 992, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Renz-Lunci/Desktop/Rx/%20Technology/Repository/lakaw-socmed-Website/src/app/message/Location/GetUserLocation.tsx"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport { useAppDispatch } from \"@/app/utils/hooks\";\nimport { updateSendMessageData } from \"@/app/store/Slice/SendMessageSlice\";\n\nexport default function GetUserLocation() {\n  const dispatch = useAppDispatch();\n  const [error, setError] = useState(\"\");\n\n  useEffect(() => {\n    if (\"geolocation\" in navigator) {\n      navigator.geolocation.getCurrentPosition(\n        (position) => {\n          const lat = position.coords.latitude;\n          const lng = position.coords.longitude;\n\n          dispatch(\n            updateSendMessageData({\n              latitude: lat,\n              longitude: lng,\n              message_type: \"location\",\n            }),\n          );\n        },\n        (error) => {\n          setError(\"Location access denied. Enable GPS and refresh.\");\n        },\n      );\n    } else {\n      setError(\"Geolocation is not supported by your browser.\");\n    }\n  }, [dispatch]);\n\n  return <>{error && <p className=\"text-red-500\">{error}</p>}</>;\n}\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;;;;;;AAEe,SAAS;;IACtB,MAAM,WAAW,IAAA,+NAAc;IAC/B,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,sPAAQ,EAAC;IAEnC,IAAA,uPAAS;qCAAC;YACR,IAAI,iBAAiB,WAAW;gBAC9B,UAAU,WAAW,CAAC,kBAAkB;iDACtC,CAAC;wBACC,MAAM,MAAM,SAAS,MAAM,CAAC,QAAQ;wBACpC,MAAM,MAAM,SAAS,MAAM,CAAC,SAAS;wBAErC,SACE,IAAA,0PAAqB,EAAC;4BACpB,UAAU;4BACV,WAAW;4BACX,cAAc;wBAChB;oBAEJ;;iDACA,CAAC;wBACC,SAAS;oBACX;;YAEJ,OAAO;gBACL,SAAS;YACX;QACF;oCAAG;QAAC;KAAS;IAEb,qBAAO;kBAAG,uBAAS,0QAAC;YAAE,WAAU;sBAAgB;;;;;;;AAClD;GA7BwB;;QACL,+NAAc;;;KADT","debugId":null}},
    {"offset": {"line": 1060, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Renz-Lunci/Desktop/Rx/%20Technology/Repository/lakaw-socmed-Website/src/app/message/Location/ShareLocation.tsx"],"sourcesContent":["import React from \"react\";\nimport { useAppDispatch, useAppSelector } from \"@/app/utils/hooks\";\nimport { MessageRecord } from \"@/app/types/MessageListType\";\nimport useApiPost from \"@/app/hooks/postData\";\nimport { socketInstance } from \"@/app/socket/socket\";\n// import scrollToMessage from \"../../../utils/scrollToMessage\";\nimport { updateSendMessageData } from \"@/app/store/Slice/SendMessageSlice\";\nimport { updateCurrentConversation } from \"@/app/store/Slice/CurrentConversationSlice\";\n\nimport {\n  appendMessageWithDateCheck\n} from \"@/app/store/Slice/MessageListSlice\";\nimport { updateMessageOptions } from \"@/app/store/Slice/MessageOptionsSlice\";\nimport Image from \"next/image\";\n\nexport default function ShareLocation() {\n  const sendMessageData = useAppSelector((state) => state.SendMessageData);\n\n  const { postData } = useApiPost();\n  const dispatch = useAppDispatch();\n  const currentConversationData = useAppSelector(\n    (state) => state.CurrentConversation\n  );\n  \n  \n  async function shareLocationApiCall() {\n   \n\n    // Show instantly in UI\n    // dispatch(prependMessageList([tempMessage]));\n\n    const messageFormData = new FormData();\n\n    if (\n      currentConversationData.chat_id !== -1 &&\n      currentConversationData.chat_id !== 0\n    ) {\n      messageFormData.append(\n        \"chat_id\",\n        String(currentConversationData.chat_id)\n      );\n    } else {\n      messageFormData.append(\n        \"user_id\",\n        String(currentConversationData.PeerUserData?.user_id)\n      );\n      messageFormData.append(\"chat_type\", \"private\");\n    }\n\n    messageFormData.append(\n      \"message_type\",\n      String(sendMessageData.message_type || \"location\")\n    );\n    messageFormData.set(\n      \"message_content\",\n      `${sendMessageData.latitude},${sendMessageData.longitude}`\n    );\n\n    try {\n      const sendMessageRes: MessageRecord = await postData(\n        \"/chat/send-message\",\n        messageFormData,\n        \"multipart/form-data\"\n      );\n\n      if (sendMessageRes) {\n        if (\n          currentConversationData.chat_id === 0 ||\n          currentConversationData.chat_id === -1\n        ) {\n          dispatch(\n            updateCurrentConversation({\n              chat_id: sendMessageRes.chat_id,\n            })\n          );\n        }\n\n        dispatch(appendMessageWithDateCheck(sendMessageRes));\n        dispatch(updateMessageOptions({ show_send_location_modal: false }));\n\n        dispatch(\n          updateSendMessageData({\n            message: \"\",\n            message_type: \"\",\n            reply_id: 0,\n          })\n        );\n\n        socketInstance().emit(\"chat_list\", {});\n      }\n    } catch (err) {\n      // Optional: remove temp message or mark as failed\n    }\n  }\n\n  return (\n    <div className=\"relative w-[97%]\">\n      <div className=\"absolute -bottom-3 left-2 w-full\">\n        <div className=\"mx-auto flex h-14 items-center justify-between rounded-lg border border-[#FCC604] bg-[#FFF8E0] px-2\">\n          <div className=\"flex items-center gap-2\">\n            <Image\n              className=\"h-7 w-7 object-contain\"\n              src=\"/chat/border_location.png\"\n              alt=\"\"\n              width={25}\n              height={25}\n            />\n            <span className=\"text-sm text-dark\">{sendMessageData.message}</span>\n          </div>\n          <div>\n            <button\n              onClick={shareLocationApiCall}\n              className={\"!h-9 text-dark w-fit text-nowrap rounded-xl !px-4 !text-sm\"}\n            >\n              Share location\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AACA;AAEA;AACA;AACA,gEAAgE;AAChE;AACA;AAEA;AAGA;AACA;;;;;;;;;;;AAEe,SAAS;;IACtB,MAAM,kBAAkB,IAAA,+NAAc;yDAAC,CAAC,QAAU,MAAM,eAAe;;IAEvE,MAAM,EAAE,QAAQ,EAAE,GAAG,IAAA,2NAAU;IAC/B,MAAM,WAAW,IAAA,+NAAc;IAC/B,MAAM,0BAA0B,IAAA,+NAAc;iEAC5C,CAAC,QAAU,MAAM,mBAAmB;;IAItC,eAAe;QAGb,uBAAuB;QACvB,+CAA+C;QAE/C,MAAM,kBAAkB,IAAI;QAE5B,IACE,wBAAwB,OAAO,KAAK,CAAC,KACrC,wBAAwB,OAAO,KAAK,GACpC;YACA,gBAAgB,MAAM,CACpB,WACA,OAAO,wBAAwB,OAAO;QAE1C,OAAO;gBAGI;YAFT,gBAAgB,MAAM,CACpB,WACA,QAAO,wCAAA,wBAAwB,YAAY,cAApC,4DAAA,sCAAsC,OAAO;YAEtD,gBAAgB,MAAM,CAAC,aAAa;QACtC;QAEA,gBAAgB,MAAM,CACpB,gBACA,OAAO,gBAAgB,YAAY,IAAI;QAEzC,gBAAgB,GAAG,CACjB,mBACA,AAAC,GAA8B,OAA5B,gBAAgB,QAAQ,EAAC,KAA6B,OAA1B,gBAAgB,SAAS;QAG1D,IAAI;YACF,MAAM,iBAAgC,MAAM,SAC1C,sBACA,iBACA;YAGF,IAAI,gBAAgB;gBAClB,IACE,wBAAwB,OAAO,KAAK,KACpC,wBAAwB,OAAO,KAAK,CAAC,GACrC;oBACA,SACE,IAAA,sQAAyB,EAAC;wBACxB,SAAS,eAAe,OAAO;oBACjC;gBAEJ;gBAEA,SAAS,IAAA,+PAA0B,EAAC;gBACpC,SAAS,IAAA,4PAAoB,EAAC;oBAAE,0BAA0B;gBAAM;gBAEhE,SACE,IAAA,0PAAqB,EAAC;oBACpB,SAAS;oBACT,cAAc;oBACd,UAAU;gBACZ;gBAGF,IAAA,gOAAc,IAAG,IAAI,CAAC,aAAa,CAAC;YACtC;QACF,EAAE,OAAO,KAAK;QACZ,kDAAkD;QACpD;IACF;IAEA,qBACE,0QAAC;QAAI,WAAU;kBACb,cAAA,0QAAC;YAAI,WAAU;sBACb,cAAA,0QAAC;gBAAI,WAAU;;kCACb,0QAAC;wBAAI,WAAU;;0CACb,0QAAC,wNAAK;gCACJ,WAAU;gCACV,KAAI;gCACJ,KAAI;gCACJ,OAAO;gCACP,QAAQ;;;;;;0CAEV,0QAAC;gCAAK,WAAU;0CAAqB,gBAAgB,OAAO;;;;;;;;;;;;kCAE9D,0QAAC;kCACC,cAAA,0QAAC;4BACC,SAAS;4BACT,WAAW;sCACZ;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQb;GA1GwB;;QACE,+NAAc;QAEjB,2NAAU;QACd,+NAAc;QACC,+NAAc;;;KALxB","debugId":null}},
    {"offset": {"line": 1215, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Renz-Lunci/Desktop/Rx/%20Technology/Repository/lakaw-socmed-Website/src/app/message/Location/SearchLocationDropdown.tsx"],"sourcesContent":["// @ts-nocheck\nimport { useRef, useState, useEffect } from \"react\";\nimport { useLoadScript, Autocomplete } from \"@react-google-maps/api\";\nimport { SlLocationPin } from \"react-icons/sl\";\nimport { useAppDispatch,useAppSelector } from \"@/app/utils/hooks\";\nimport { updateSendMessageData } from \"@/app/store/Slice/SendMessageSlice\";\nimport NearbyPlaces from \"./NearbyPlaces\";\nimport ShowMap from \"./ShowMap\";\nimport GetUserLocation from \"./GetUserLocation\";\nimport ShareLocation from \"./ShareLocation\";\nimport Image from \"next/image\";\n\nconst libraries = [\"places\"];\n\nconst SearchLocationDropdown = ({}) => {\n  const { isLoaded, loadError } = useLoadScript({\n    googleMapsApiKey: process.env.NEXT_PUBLIC_GOOGLE_MAP_KEY || \"\",\n    libraries,\n  });\n\n  const sendMessageData = useAppSelector((state) => state.SendMessageData);\n  const [inputValue, setInputValue] = useState(sendMessageData.message || \"\");\n  const [nearbyPlaces, setNearbyPlaces] = useState<\n    google.maps.places.PlaceResult[]\n  >([]);\n\n  const dispatch = useAppDispatch();\n  const autocompleteRef = useRef(null);\n  const mapRef = useRef(null);\n\n  useEffect(() => {\n    if (isLoaded && sendMessageData.latitude && sendMessageData.longitude) {\n      fetchNearbyPlaces();\n    }\n  }, [isLoaded, sendMessageData.latitude, sendMessageData.longitude]);\n\n  const fetchNearbyPlaces = () => {\n    if (!window.google || !window.google.maps || !window.google.maps.places) {\n  \n      return;\n    }\n\n    const map = new window.google.maps.Map(document.createElement(\"div\"), {\n      center: {\n        lat: Number(sendMessageData.latitude),\n        lng: Number(sendMessageData.longitude),\n      },\n      zoom: 15,\n    });\n    mapRef.current = map;\n\n    const service = new window.google.maps.places.PlacesService(map);\n\n    // const request = {\n    //   location: new window.google.maps.LatLng(\n    //     Number(sendMessageData.latitude),\n    //     Number(sendMessageData.longitude),\n    //   ),\n    //   radius: 5000, // 5km radius (adjust as needed)\n    //   type: [\"restaurant\", \"store\", \"hospital\"], // You can customize this\n    // };\n\n    service.nearbySearch(\n      {\n        location: new window.google.maps.LatLng(\n          Number(sendMessageData.latitude),\n          Number(sendMessageData.longitude),\n        ),\n        radius: 5000,\n      },\n      (results, status) => {\n        if (status === window.google.maps.places.PlacesServiceStatus.OK) {\n          setNearbyPlaces(results!);\n\n          dispatch(\n            updateSendMessageData({\n              message: results![0].name,\n              message_type: \"location\",\n              // location: place.formatted_address,\n            }),\n          );\n        } else {\n        }\n      },\n    );\n  };\n\n  const onPlaceChanged = () => {\n    const place = autocompleteRef.current.getPlace();\n    if (!place.geometry) return;\n\n    const lat = place.geometry.location.lat();\n    const lng = place.geometry.location.lng();\n\n    setInputValue(place.formatted_address);\n    // setLat(lat);\n    // setLon(lng);\n    fetchNearbyPlaces();\n\n    dispatch(\n      updateSendMessageData({\n        latitude: lat,\n        longitude: lng,\n        message: place.formatted_address,\n        message_type: \"location\",\n        // location: place.formatted_address,\n      }),\n    );\n  };\n\n  const handleInputChange = (e) => {\n    setInputValue(e.target.value);\n  };\n\n  if (loadError) {\n    return <div>Error loading maps</div>;\n  }\n\n  return isLoaded ? (\n    <div className=\"relative flex h-full w-full flex-col gap-y-3 bg-primary min-w-[450px]\">\n      <div className=\"absolute top-5 z-10 w-full\">\n        <Autocomplete\n          className=\"mx-auto w-[90%]\"\n          onLoad={(autocomplete) => {\n            autocompleteRef.current = autocomplete;\n          }}\n          onPlaceChanged={onPlaceChanged}\n        >\n          <div className=\"relative w-full\">\n            <div className=\"absolute left-2 top-3.5\">\n              {/* <SlLocationPin className=\"text-lg text-darkText\" /> */}\n              <Image src='/home/Location.png'  alt=\"location\" width={20} height={20}/>\n            </div>\n            <input\n              value={inputValue}\n              onChange={handleInputChange}\n              className=\"h-12 w-full rounded-lg bg-primary px-4 py-2 pl-8 text-sm text-darkText shadow-xl outline-none transition-all duration-300 focus:border-[#B5843F]\"\n              type=\"text\"\n              placeholder=\"Add Location\"\n            />\n          </div>\n        </Autocomplete>\n      </div>\n      {/* Show Map */}\n      <ShowMap />\n\n      <ShareLocation />\n\n      <NearbyPlaces nearbyPlaces={nearbyPlaces} />\n    </div>\n  ) : (\n    <GetUserLocation />\n  );\n};\n\nexport default SearchLocationDropdown;\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1437, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Renz-Lunci/Desktop/Rx/%20Technology/Repository/lakaw-socmed-Website/src/app/message/Location/SendLocationModal.tsx"],"sourcesContent":["\nimport { updateMessageOptions } from \"@/app/store/Slice/MessageOptionsSlice\";\nimport { Dialog } from \"@mui/material\";\nimport { useAppDispatch,useAppSelector } from \"@/app/utils/hooks\";\nimport SearchLocationDropdown from \"./SearchLocationDropdown\";\n\nexport default function SendLocationModal() {\n  const dispatch = useAppDispatch();\n  const MessageOptionsData = useAppSelector((state) => state.MessageOptions);\n\n  const close = () => {\n    dispatch(updateMessageOptions({ show_send_location_modal: false }));\n  };\n\n  return (\n    <Dialog\n      open={MessageOptionsData.show_send_location_modal}\n      className=\"relative z-10\"\n      onClose={close}\n    >\n      <div className=\" z-10 flex min-h-full items-center justify-center p-4 backdrop-blur-sm\">\n        <div className=\"data-[closed]:transform-[scale(95%)] max-h-[80vh] w-full max-w-lg rounded-xl bg-modalBg overflow-hidden shadow-lg backdrop-blur-md transition-all duration-300 ease-in-out data-[closed]:opacity-0\">\n          <SearchLocationDropdown />\n        </div>\n      </div>\n    </Dialog>\n  );\n}\n\n\n"],"names":[],"mappings":";;;;;AACA;AACA;AACA;AACA;;;;;;;AAEe,SAAS;;IACtB,MAAM,WAAW,IAAA,+NAAc;IAC/B,MAAM,qBAAqB,IAAA,+NAAc;gEAAC,CAAC,QAAU,MAAM,cAAc;;IAEzE,MAAM,QAAQ;QACZ,SAAS,IAAA,4PAAoB,EAAC;YAAE,0BAA0B;QAAM;IAClE;IAEA,qBACE,0QAAC,2RAAM;QACL,MAAM,mBAAmB,wBAAwB;QACjD,WAAU;QACV,SAAS;kBAET,cAAA,0QAAC;YAAI,WAAU;sBACb,cAAA,0QAAC;gBAAI,WAAU;0BACb,cAAA,0QAAC,uPAAsB;;;;;;;;;;;;;;;;;;;;AAKjC;GArBwB;;QACL,+NAAc;QACJ,+NAAc;;;KAFnB","debugId":null}},
    {"offset": {"line": 1508, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Renz-Lunci/Desktop/Rx/%20Technology/Repository/lakaw-socmed-Website/src/app/message/Gif/GiphyComponent.tsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from \"react\";\nimport axios from \"axios\";\nimport { useAppSelector, useAppDispatch } from \"@/app/utils/hooks\";\nimport { updateSendMessageData } from \"@/app/store/Slice/SendMessageSlice\";\nimport { IoSearchOutline } from \"react-icons/io5\";\nimport { ClipLoader } from \"react-spinners\";\nimport { appendMessageWithDateCheck } from \"@/app/store/Slice/MessageListSlice\";\nimport { socketInstance } from \"@/app/socket/socket\";\nimport { updateCurrentConversation } from \"@/app/store/Slice/CurrentConversationSlice\";\nimport useApiPost from \"@/app/hooks/postData\";\nimport Cookies from \"js-cookie\";\nimport { FaCheckCircle } from \"react-icons/fa\";\nimport Image from \"next/image\";\nimport { useUserProfile } from \"@/app/store/api/updateUser\";\n\nconst GIPHY_API_KEY = process.env.NEXT_PUBLIC_GIF_API_KEY;\ninterface GifImage {\n  url: string;\n  width: string;\n  height: string;\n  mp4?: string;\n  mp4_size?: string;\n}\n\ninterface GifImages {\n  original: GifImage;\n  fixed_height: GifImage;\n  [key: string]: GifImage; // for other sizes\n}\n\ninterface Gif {\n  id: string;\n  title: string;\n  images: GifImages;\n}\n\n\nexport default function GiphyComponent() {\n  const dispatch = useAppDispatch();\n  const SendMessageData = useAppSelector((state) => state.SendMessageData);\n  const sendMessageDataRef = useRef(SendMessageData);\n  const [searchTerm, setSearchTerm] = useState(\"\");\n  const [gifs, setGifs] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [selectedGif, setSelectedGif] = useState<Gif | null>(null); \n  const myUserId = Cookies.get(\"Reelboost_user_id\");\n\n  const currentConversationData = useAppSelector(\n    (state) => state.CurrentConversation\n  );\n  const { postData } = useApiPost();\n  const token = Cookies.get(\"Reelboost_auth_token\");\n  const { data: userData } = useUserProfile(token ?? \"\");\n\n  useEffect(() => {\n    sendMessageDataRef.current = SendMessageData;\n  }, [SendMessageData]);\n\n  // Fetch GIFs\n  const fetchGifs = async (endpoint: string) => {\n    setLoading(true);\n    setError(null);\n    try {\n      const res = await axios.get(endpoint);\n      setGifs(res.data.data);\n    } catch {}\n    setLoading(false);\n  };\n\n  useEffect(() => {\n    fetchGifs(\n      `https://api.giphy.com/v1/gifs/trending?api_key=${GIPHY_API_KEY}&limit=18`\n    );\n  }, []);\n\n  useEffect(() => {\n    if (searchTerm.trim()) {\n      fetchGifs(\n        `https://api.giphy.com/v1/gifs/search?q=${searchTerm}&api_key=${GIPHY_API_KEY}&limit=18`\n      );\n    }\n  }, [searchTerm]);\n\n  const sendSelectedGif = async () => {\n    if (!selectedGif) return;\n    try {\n      const response = await fetch(selectedGif.images.original.url);\n      const blob = await response.blob();\n      const file = new File([blob], \"giphy.gif\", { type: \"image/gif\" });\n\n      const tempMessage = {\n        message_id: Date.now(),\n        message_type: \"gif\",\n        message_content: selectedGif.images.original.url,\n        message_thumbnail: selectedGif.images.original.url,\n        sender_id: parseInt(myUserId || \"0\"),\n        createdAt: new Date().toISOString(),\n        User: {\n          profile_pic: userData?.data?.profile_pic || \"\",\n          user_name: userData?.data?.user_name || \"\",\n        },\n      };\n\n      // dispatch(prependMessageList([tempMessage]));\n\n      const formData = new FormData();\n      formData.append(\"message_type\", \"gif\");\n      const userId = currentConversationData?.PeerUserData?.user_id;\n      if (userId) {\n        formData.append(\"user_id\", String(userId));\n      }\n      formData.append(\"files\", file);\n      formData.append(\"message_content\", \"\");\n\n      const sendMessageRes = await postData(\n        \"/chat/send-message\",\n        formData,\n        \"multipart/form-data\"\n      );\n      dispatch(updateSendMessageData({ showGifPicker: false }));\n\n      if (sendMessageRes) {\n        if (\n          currentConversationData.chat_id === 0 ||\n          currentConversationData.chat_id === -1\n        ) {\n          dispatch(\n            updateCurrentConversation({ chat_id: sendMessageRes.chat_id })\n          );\n        }\n\n        dispatch(appendMessageWithDateCheck(sendMessageRes));\n        dispatch(\n          updateSendMessageData({ message: \"\", message_type: \"\", reply_id: 0 })\n        );\n\n        socketInstance().emit(\"chat_list\", {});\n      }\n\n      setSelectedGif(null);\n    } catch (error) {\n    }\n  };\n\n  return (\n    <div className={`z-10 w-full max-w-xl bg-pr transition duration-500`}>\n      <div style={{ textAlign: \"center\", padding: \"20px\" }}>\n        <h2>Send GIFs</h2>\n        <div className=\"relative mb-6 mt-3\">\n          <IoSearchOutline className=\"absolute left-3 top-2 text-2xl text-lightText\" />\n          <input\n            value={searchTerm}\n            onChange={(e) => setSearchTerm(e.target.value)}\n            className={`bg-[#F2F2F2] w-full rounded-xl border border-borderColor py-2 pl-11 placeholder-lightText outline-none`}\n            type=\"text\"\n            placeholder=\"Search Gif\"\n          />\n        </div>\n\n        {error && <p style={{ color: \"red\" }}>{error}</p>}\n\n        {loading ? (\n          <div className=\"grid h-96 place-content-center\">\n            <ClipLoader size={19} color={\"black\"} />\n          </div>\n        ) : (\n          <div className=\"grid max-h-[30rem] min-h-96 grid-cols-3 gap-3 overflow-auto\">\n            {gifs.map((gif: Gif) => {\n              const isSelected = selectedGif?.id === gif.id;\n              return (\n                <div\n                  key={gif.id}\n                  className=\"relative cursor-pointer\"\n                  onClick={() => setSelectedGif(isSelected ? null : gif)}\n                >\n                  <Image\n                    src={gif.images.fixed_height.url}\n                    alt={gif.title}\n                    className=\"h-full w-full rounded-lg object-cover\"\n                    width={150}\n                    height={150}\n                  />\n                  {isSelected && (\n                    <div className=\"absolute inset-0 bg-dark/40 flex items-center justify-center rounded-lg\">\n                      <FaCheckCircle className=\"text-primary text-3xl\" />\n                    </div>\n                  )}\n                </div>\n              );\n            })}\n          </div>\n        )}\n\n        {/* Send Button */}\n        <div className=\"flex justify-center items-center\">\n          <button\n            onClick={sendSelectedGif}\n            disabled={!selectedGif}\n            className={`mt-4 flex items-center justify-center gap-2 px-24 py-2 rounded-xl text-primary ${\n              selectedGif ? \"bg-main-green\" : \"bg-gray-400 cursor-not-allowed\"\n            }`}\n          >\n            Send\n            {/* <IoSend /> */}\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1807, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Renz-Lunci/Desktop/Rx/%20Technology/Repository/lakaw-socmed-Website/src/app/message/Gif/GiphyComponentModal.tsx"],"sourcesContent":["import { Dialog, DialogContent } from \"@mui/material\";\nimport { useAppDispatch, useAppSelector } from \"@/app/utils/hooks\";\nimport GiphyComponent from \"./GiphyComponent\";\nimport { updateSendMessageData } from \"@/app/store/Slice/SendMessageSlice\";\n\nexport default function GiphyComponentModal() {\n  const dispatch = useAppDispatch();\n\n  const close = () => {\n    dispatch(updateSendMessageData({ showGifPicker: false }));\n  };\n\n  const open = useAppSelector((state) => state.SendMessageData.showGifPicker) ?? false;\n\n  return (\n    <Dialog\n      open={open}\n      onClose={close}\n      maxWidth=\"sm\"\n      fullWidth\n      PaperProps={{\n        className:\n          \"rounded-xl bg-modalBg backdrop-blur shadow-lg overflow-hidden\",\n        style: {\n          maxHeight: '80vh',\n        },\n      }}\n    >\n      <DialogContent>\n        <GiphyComponent />\n      </DialogContent>\n    </Dialog>\n  );\n}\n"],"names":[],"mappings":";;;;;AAAA;AAAA;AACA;AACA;AACA;;;;;;;AAEe,SAAS;;IACtB,MAAM,WAAW,IAAA,+NAAc;IAE/B,MAAM,QAAQ;QACZ,SAAS,IAAA,0PAAqB,EAAC;YAAE,eAAe;QAAM;IACxD;QAEa;IAAb,MAAM,OAAO,CAAA,kBAAA,IAAA,+NAAc;8CAAC,CAAC,QAAU,MAAM,eAAe,CAAC,aAAa;0DAA7D,6BAAA,kBAAkE;IAE/E,qBACE,0QAAC,2RAAM;QACL,MAAM;QACN,SAAS;QACT,UAAS;QACT,SAAS;QACT,YAAY;YACV,WACE;YACF,OAAO;gBACL,WAAW;YACb;QACF;kBAEA,cAAA,0QAAC,uTAAa;sBACZ,cAAA,0QAAC,0OAAc;;;;;;;;;;;;;;;AAIvB;GA5BwB;;QACL,+NAAc;QAMlB,+NAAc;;;KAPL","debugId":null}},
    {"offset": {"line": 1879, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Renz-Lunci/Desktop/Rx/%20Technology/Repository/lakaw-socmed-Website/src/app/live/LiveLikeComment.tsx"],"sourcesContent":["\"use client\";\r\nimport React, { useEffect, useRef, useState } from \"react\";\r\nimport { useAppDispatch, useAppSelector } from \"../utils/hooks\";\r\nimport { socketInstance } from \"../socket/socket\";\r\nimport {\r\n  addLiveEvent,\r\n  setCommentDraft,\r\n  clearCommentDraft,\r\n} from \"../store/Slice/LiveSlice\";\r\nimport Image from \"next/image\";\r\nimport { motion } from \"framer-motion\";\r\nimport { useUserProfile } from \"../store/api/updateUser\";\r\nimport Cookies from \"js-cookie\";\r\nimport {\r\n  ActivityOnLiveComment,\r\n  ActivityOnLiveLike\r\n} from \"../types/LiveReels\";\r\nimport { SendGiftRes } from \"../types/Gift\";\r\nimport useApiPost from \"../hooks/postData\";\r\nimport { showModal } from \"../store/Slice/ModalsSlice\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nfunction LiveLikeComment() {\r\n  const dispatch = useAppDispatch();\r\n  const { liveEvents, commentDraft, user_id, socket_room_id } = useAppSelector(\r\n    (state) => state.live\r\n  );\r\n\r\n  const socket = socketInstance();\r\n  const [hearts, setHearts] = useState<number[]>([]);\r\n  const commentsEndRef = useRef<HTMLDivElement>(null);\r\n  const token = Cookies.get(\"Reelboost_auth_token\");\r\n   const { selectedGiftId ,quantity } =\r\n      useAppSelector((state) => state.gift);\r\n  \r\n    const { data: userData } = useUserProfile(token ?? \"\");\r\n    const {postData} = useApiPost();\r\n  \r\n\r\n  // 📌 Listen for activity_on_live updates\r\n  useEffect(() => {\r\n    socket.on(\r\n      \"activity_on_live\",\r\n      (data: ActivityOnLiveComment | ActivityOnLiveLike) => {\r\n        dispatch(addLiveEvent(data));\r\n        if (data.like) {\r\n          setHearts((prev) => [...prev, Date.now()]);\r\n        }\r\n      }\r\n    );\r\n    return () => {\r\n      socket.off(\"activity_on_live\");\r\n    };\r\n  }, [socket, dispatch]);\r\n\r\n  // 📌 Auto scroll to bottom (newest comment visible)\r\n  useEffect(() => {\r\n    commentsEndRef.current?.scrollIntoView({ behavior: \"smooth\" });\r\n  }, [liveEvents]);\r\n\r\n  // 📌 Send comment\r\n  const handleSendComment = () => {\r\n    if (!commentDraft.trim() || !socket_room_id) return;\r\n    socket.emit(\"activity_on_live\", {\r\n      socket_room_id,\r\n      user_id,\r\n      comment: commentDraft,\r\n    });\r\n    dispatch(clearCommentDraft());\r\n  };\r\n\r\n  // 📌 Handle Enter key\r\n  const handleKeyDown = (e: React.KeyboardEvent<HTMLInputElement>) => {\r\n    if (e.key === \"Enter\") {\r\n      e.preventDefault();\r\n      handleSendComment();\r\n    }\r\n  };\r\n\r\n  // 📌 Send like\r\n  const handleSendLike = () => {\r\n    if (!socket_room_id) return;\r\n    socket.emit(\"activity_on_live\", {\r\n      socket_room_id,\r\n      user_id,\r\n      like: true,\r\n    });\r\n    setHearts((prev) => [...prev, Date.now()]);\r\n  };\r\n\r\n  // 📌 All comments\r\n  const comments = liveEvents.filter((event) => event.comment);\r\n\r\n  // send gift ==============\r\n  const handleGiftSend = async() => {\r\n    dispatch(showModal(\"SendGift\"))\r\n    try {\r\n      const res:SendGiftRes = await postData(\"/transaction/send-gift\",{\r\n        reciever_id: user_id,\r\n        gift_id: selectedGiftId,\r\n        transaction_ref:\"live\",\r\n        quatity: quantity,\r\n      })\r\n      if(res.status) {\r\n        toast.success(res.message)\r\n      } else {\r\n        toast.error(res.message)\r\n      }\r\n    } catch(error) {\r\n\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"relative w-[500px]\">\r\n      {/* Floating Hearts */}\r\n      <div className=\"absolute right-10 bottom-20 pointer-events-none\">\r\n        {hearts.map((id) => (\r\n          <motion.div\r\n            key={id}\r\n            initial={{ opacity: 1, y: 0, scale: 1 }}\r\n            animate={{\r\n              opacity: 0,\r\n              y: -150,\r\n              x: Math.random() * 40 - 20,\r\n              scale: 1.5,\r\n            }}\r\n            transition={{ duration: 2, ease: \"easeOut\" }}\r\n            onAnimationComplete={() =>\r\n              setHearts((prev) => prev.filter((h) => h !== id))\r\n            }\r\n            className=\"absolute text-primary text-lg\"\r\n          >\r\n            ❤️\r\n          </motion.div>\r\n        ))}\r\n      </div>\r\n\r\n      {/* Comments section */}\r\n      <div className=\"flex flex-col gap-2 p-2 overflow-y-auto max-h-[250px]\">\r\n        {comments.map((event, i) => {\r\n          const faded = comments.length > 5 && i < 2; // fade first 2 only if total > 5\r\n          return (\r\n            <div\r\n              key={i}\r\n              className={`flex items-center gap-2 ${\r\n                faded ? \"\" : \"opacity-100\"\r\n              }`}\r\n            >\r\n              <Image\r\n                src={event.profile_pic}\r\n                alt={event.user_name}\r\n                width={28}\r\n                height={28}\r\n                className=\"rounded-full\"\r\n              />\r\n              <div className=\"flex flex-col text-primary\">\r\n                <span className=\"text-sm font-semibold drop-shadow-[0_1px_2px_rgba(0,0,0,3)]\">\r\n                  {event.user_name}\r\n                </span>\r\n                <span className=\"text-xs text-primary drop-shadow-[0_1px_2px_rgba(0,0,0,3)]\">\r\n                  {event.comment_cotent}\r\n                </span>\r\n              </div>\r\n            </div>\r\n          );\r\n        })}\r\n        <div ref={commentsEndRef} />\r\n      </div>\r\n\r\n      {/* Input + Like */}\r\n      <div\r\n        className=\"flex items-center gap-2 rounded-b-lg rounded-t-3xl p-2\"\r\n        style={{ backdropFilter: \"blur(18px)\" }}\r\n      >\r\n        {/* my profile pic */}\r\n        <Image\r\n          src={userData?.data.profile_pic || \"\"}\r\n          alt=\"\"\r\n          width={25}\r\n          height={25}\r\n          className=\"w-8 h-8 object-cover\"\r\n        />\r\n        <div className=\"bg-primary/[0.4] w-full flex place-items-center rounded-full relative\">\r\n          <input\r\n            type=\"text\"\r\n            value={commentDraft}\r\n            onChange={(e) => dispatch(setCommentDraft(e.target.value))}\r\n            onKeyDown={handleKeyDown}\r\n            placeholder=\"Add a comment...\"\r\n            className=\"flex-1 text-primary text-sm p-2.5 outline-none rounded-full\"\r\n          />\r\n          <button\r\n            className=\"text-primary w-8 h-8 flex justify-center place-items-center rounded-full text-lg hover:scale-110 absolute right-2 transition\"\r\n            style={{background:\"linear-gradient(141.72deg, #239C57 -1.01%, #019FC8 103.86%)\"}}\r\n            onClick={handleSendComment}\r\n          >\r\n            <Image src={\"/chat/send.png\"} alt=\"send\" width={60} height={60} className=\"w-5 h-5\"/>\r\n          </button>\r\n        </div>\r\n        <button className=\"text-primary text-2xl transition cursor-pointer\" onClick={() => handleGiftSend()}>\r\n          <Image\r\n            src=\"/home/gift.png\"\r\n            alt=\"heart\"\r\n            width={100}\r\n            height={100}\r\n            className=\"w-8 h-7\"\r\n          />\r\n        </button>\r\n\r\n        <button\r\n          className=\"text-primary text-2xl transition\"\r\n          onClick={handleSendLike}\r\n        >\r\n          <Image\r\n            src=\"/ReelBoost/borderHeart.png\"\r\n            alt=\"heart\"\r\n            width={100}\r\n            height={100}\r\n            className=\"w-8 h-6.5\"\r\n          />\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default LiveLikeComment;\r\n"],"names":[],"mappings":";;;;;AACA;AACA;AACA;AACA;AAKA;AACA;AACA;AACA;AAMA;AACA;AACA;;;AApBA;;;;;;;;;;;;AAsBA,SAAS;;IACP,MAAM,WAAW,IAAA,+NAAc;IAC/B,MAAM,EAAE,UAAU,EAAE,YAAY,EAAE,OAAO,EAAE,cAAc,EAAE,GAAG,IAAA,+NAAc;0CAC1E,CAAC,QAAU,MAAM,IAAI;;IAGvB,MAAM,SAAS,IAAA,gOAAc;IAC7B,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,sPAAQ,EAAW,EAAE;IACjD,MAAM,iBAAiB,IAAA,oPAAM,EAAiB;IAC9C,MAAM,QAAQ,gPAAO,CAAC,GAAG,CAAC;IACzB,MAAM,EAAE,cAAc,EAAE,QAAQ,EAAE,GAC/B,IAAA,+NAAc;0CAAC,CAAC,QAAU,MAAM,IAAI;;IAEtC,MAAM,EAAE,MAAM,QAAQ,EAAE,GAAG,IAAA,2OAAc,EAAC,kBAAA,mBAAA,QAAS;IACnD,MAAM,EAAC,QAAQ,EAAC,GAAG,IAAA,2NAAU;IAG/B,yCAAyC;IACzC,IAAA,uPAAS;qCAAC;YACR,OAAO,EAAE,CACP;6CACA,CAAC;oBACC,SAAS,IAAA,0OAAY,EAAC;oBACtB,IAAI,KAAK,IAAI,EAAE;wBACb;yDAAU,CAAC,OAAS;uCAAI;oCAAM,KAAK,GAAG;iCAAG;;oBAC3C;gBACF;;YAEF;6CAAO;oBACL,OAAO,GAAG,CAAC;gBACb;;QACF;oCAAG;QAAC;QAAQ;KAAS;IAErB,oDAAoD;IACpD,IAAA,uPAAS;qCAAC;gBACR;aAAA,0BAAA,eAAe,OAAO,cAAtB,8CAAA,wBAAwB,cAAc,CAAC;gBAAE,UAAU;YAAS;QAC9D;oCAAG;QAAC;KAAW;IAEf,kBAAkB;IAClB,MAAM,oBAAoB;QACxB,IAAI,CAAC,aAAa,IAAI,MAAM,CAAC,gBAAgB;QAC7C,OAAO,IAAI,CAAC,oBAAoB;YAC9B;YACA;YACA,SAAS;QACX;QACA,SAAS,IAAA,+OAAiB;IAC5B;IAEA,sBAAsB;IACtB,MAAM,gBAAgB,CAAC;QACrB,IAAI,EAAE,GAAG,KAAK,SAAS;YACrB,EAAE,cAAc;YAChB;QACF;IACF;IAEA,eAAe;IACf,MAAM,iBAAiB;QACrB,IAAI,CAAC,gBAAgB;QACrB,OAAO,IAAI,CAAC,oBAAoB;YAC9B;YACA;YACA,MAAM;QACR;QACA,UAAU,CAAC,OAAS;mBAAI;gBAAM,KAAK,GAAG;aAAG;IAC3C;IAEA,kBAAkB;IAClB,MAAM,WAAW,WAAW,MAAM,CAAC,CAAC,QAAU,MAAM,OAAO;IAE3D,2BAA2B;IAC3B,MAAM,iBAAiB;QACrB,SAAS,IAAA,yOAAS,EAAC;QACnB,IAAI;YACF,MAAM,MAAkB,MAAM,SAAS,0BAAyB;gBAC9D,aAAa;gBACb,SAAS;gBACT,iBAAgB;gBAChB,SAAS;YACX;YACA,IAAG,IAAI,MAAM,EAAE;gBACb,4OAAK,CAAC,OAAO,CAAC,IAAI,OAAO;YAC3B,OAAO;gBACL,4OAAK,CAAC,KAAK,CAAC,IAAI,OAAO;YACzB;QACF,EAAE,OAAM,OAAO,CAEf;IACF;IAEA,qBACE,0QAAC;QAAI,WAAU;;0BAEb,0QAAC;gBAAI,WAAU;0BACZ,OAAO,GAAG,CAAC,CAAC,mBACX,0QAAC,oRAAM,CAAC,GAAG;wBAET,SAAS;4BAAE,SAAS;4BAAG,GAAG;4BAAG,OAAO;wBAAE;wBACtC,SAAS;4BACP,SAAS;4BACT,GAAG,CAAC;4BACJ,GAAG,KAAK,MAAM,KAAK,KAAK;4BACxB,OAAO;wBACT;wBACA,YAAY;4BAAE,UAAU;4BAAG,MAAM;wBAAU;wBAC3C,qBAAqB,IACnB,UAAU,CAAC,OAAS,KAAK,MAAM,CAAC,CAAC,IAAM,MAAM;wBAE/C,WAAU;kCACX;uBAbM;;;;;;;;;;0BAoBX,0QAAC;gBAAI,WAAU;;oBACZ,SAAS,GAAG,CAAC,CAAC,OAAO;wBACpB,MAAM,QAAQ,SAAS,MAAM,GAAG,KAAK,IAAI,GAAG,iCAAiC;wBAC7E,qBACE,0QAAC;4BAEC,WAAW,AAAC,2BAEX,OADC,QAAQ,KAAK;;8CAGf,0QAAC,wNAAK;oCACJ,KAAK,MAAM,WAAW;oCACtB,KAAK,MAAM,SAAS;oCACpB,OAAO;oCACP,QAAQ;oCACR,WAAU;;;;;;8CAEZ,0QAAC;oCAAI,WAAU;;sDACb,0QAAC;4CAAK,WAAU;sDACb,MAAM,SAAS;;;;;;sDAElB,0QAAC;4CAAK,WAAU;sDACb,MAAM,cAAc;;;;;;;;;;;;;2BAjBpB;;;;;oBAsBX;kCACA,0QAAC;wBAAI,KAAK;;;;;;;;;;;;0BAIZ,0QAAC;gBACC,WAAU;gBACV,OAAO;oBAAE,gBAAgB;gBAAa;;kCAGtC,0QAAC,wNAAK;wBACJ,KAAK,CAAA,qBAAA,+BAAA,SAAU,IAAI,CAAC,WAAW,KAAI;wBACnC,KAAI;wBACJ,OAAO;wBACP,QAAQ;wBACR,WAAU;;;;;;kCAEZ,0QAAC;wBAAI,WAAU;;0CACb,0QAAC;gCACC,MAAK;gCACL,OAAO;gCACP,UAAU,CAAC,IAAM,SAAS,IAAA,6OAAe,EAAC,EAAE,MAAM,CAAC,KAAK;gCACxD,WAAW;gCACX,aAAY;gCACZ,WAAU;;;;;;0CAEZ,0QAAC;gCACC,WAAU;gCACV,OAAO;oCAAC,YAAW;gCAA6D;gCAChF,SAAS;0CAET,cAAA,0QAAC,wNAAK;oCAAC,KAAK;oCAAkB,KAAI;oCAAO,OAAO;oCAAI,QAAQ;oCAAI,WAAU;;;;;;;;;;;;;;;;;kCAG9E,0QAAC;wBAAO,WAAU;wBAAkD,SAAS,IAAM;kCACjF,cAAA,0QAAC,wNAAK;4BACJ,KAAI;4BACJ,KAAI;4BACJ,OAAO;4BACP,QAAQ;4BACR,WAAU;;;;;;;;;;;kCAId,0QAAC;wBACC,WAAU;wBACV,SAAS;kCAET,cAAA,0QAAC,wNAAK;4BACJ,KAAI;4BACJ,KAAI;4BACJ,OAAO;4BACP,QAAQ;4BACR,WAAU;;;;;;;;;;;;;;;;;;;;;;;AAMtB;GA3MS;;QACU,+NAAc;QAC+B,+NAAc;QASxE,+NAAc;QAEW,2OAAc;QACtB,2NAAU;;;KAdxB;uCA6MM","debugId":null}},
    {"offset": {"line": 2239, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Renz-Lunci/Desktop/Rx/%20Technology/Repository/lakaw-socmed-Website/src/app/live/OpenLiveVideo.tsx"],"sourcesContent":["// OpenLiveVideo.tsx\r\nimport { useAppDispatch, useAppSelector } from \"../utils/hooks\";\r\nimport {\r\n  clearLiveEvents,\r\n  clearSelectedLive,\r\n  setJoinLiveResponse,\r\n} from \"../store/Slice/LiveSlice\";\r\nimport { Dialog } from \"@mui/material\";\r\nimport { hideModal } from \"../store/Slice/ModalsSlice\";\r\nimport VideoPlayer from \"../components/VideoPlayer\";\r\nimport LiveLikeComment from \"./LiveLikeComment\";\r\nimport { useEffect } from \"react\";\r\nimport { socketInstance } from \"../socket/socket\";\r\nimport usePeerId from \"../hooks/usePeerId\";\r\nimport Cookies from \"js-cookie\";\r\nimport { IoIosArrowBack } from \"react-icons/io\";\r\nimport Image from \"next/image\";\r\nimport { AiOutlineEye } from \"react-icons/ai\";\r\nimport { JoinLive } from \"../types/LiveReels\";\r\n\r\nfunction OpenLiveVideo() {\r\n  const open = useAppSelector((state) => state.modals.LivePopup);\r\n  const selectedLive = useAppSelector((state) => state.live.selectedLive);\r\n  const dispatch = useAppDispatch();\r\n  const socket_room_id = useAppSelector((state) => state.live.socket_room_id);\r\n  const user_id = useAppSelector((state) => state.live.user_id);\r\n  const liveUser = useAppSelector((state) => state.live.joinLiveResponse);\r\n  const activeResponse = useAppSelector((state) => state.live.liveEvents);\r\n  const socket = socketInstance();\r\nconst peerId = usePeerId();\r\n  const MyUserId = Cookies.get(\"Reelboost_user_id\");\r\n \r\n\r\n  //  useEffect(() => {\r\n  //     socket.on(\"activity_on_live\");\r\n\r\n  //     return () => {\r\n  //       socket.off(\"activity_on_live\");\r\n  //     };\r\n  //   }, [selectedLive, socket_room_id, dispatch]);\r\n\r\n  useEffect(() => {\r\n    if (!open || !selectedLive || !socket_room_id) return;\r\n\r\n    // join live event\r\n    socket.emit(\"join_live\", {\r\n      socket_room_id: socket_room_id,\r\n      user_id: MyUserId,\r\n      peer_id: peerId,\r\n    });\r\n    socket.on(\"join_live\", (data:JoinLive) => {\r\n      // update Redux with confirmed response\r\n      dispatch(setJoinLiveResponse(data));\r\n    });\r\n  }, [open, selectedLive, socket_room_id, user_id, socket]);\r\n\r\n  return (\r\n    <Dialog\r\n      open={open}\r\n      onClose={() => {\r\n        dispatch(hideModal(\"LivePopup\"));\r\n        dispatch(clearSelectedLive());\r\n        dispatch(clearLiveEvents());\r\n      }}\r\n      fullWidth\r\n      PaperProps={{\r\n        sx: {\r\n          p: 0,\r\n          overflow: \"visible\",\r\n          borderRadius: 3,\r\n          width: \"500px\",\r\n          maxWidth: \"100%\",\r\n          maxHeight:\"700px\"\r\n        },\r\n      }}\r\n      BackdropProps={{ sx: { background: \"#000000BD\" } }}\r\n    >\r\n      <div className=\"h-[700px] bg-dark sm:block hidden relative rounded-lg\">\r\n        {selectedLive ? (\r\n          <VideoPlayer\r\n            src={selectedLive.Live_hosts[0].peer_id}\r\n            autoPlay\r\n            height=\"h-[700px]\"\r\n          />\r\n        ) : (\r\n          <p className=\"text-primary p-4\">No live selected</p>\r\n        )}\r\n        {/* live user details */}\r\n        <div className=\"absolute top-3 flex justify-between w-full\">\r\n          <div className=\"p-2 flex gap-3 place-items-center\">\r\n            {/* back button */}\r\n            <IoIosArrowBack\r\n              className=\"text-primary text-lg drop-shadow-[0_1px_2px_rgba(0,0,0,3)]\"\r\n              onClick={() => {\r\n                dispatch(dispatch(hideModal(\"LivePopup\")));\r\n                dispatch(clearLiveEvents());\r\n              }}\r\n            />\r\n\r\n            {/* username and profile */}\r\n            <div className=\"flex gap-2 place-items-center\">\r\n              {/* profile */}\r\n              <div className=\"w-8 h-8 rounded-full\">\r\n                <Image\r\n                  src={liveUser?.peer_id[0].User.profile_pic || \"\"}\r\n                  alt=\"\"\r\n                  width={50}\r\n                  height={50}\r\n                  className=\"w-8 h-8 rounded-full\"\r\n                />\r\n              </div>\r\n              <p className=\"text-sm text-primary inline-block drop-shadow-[0_1px_2px_rgba(0,0,0,3)]\">\r\n                {liveUser?.peer_id[0].User.user_name}\r\n              </p>\r\n            </div>\r\n          </div>\r\n\r\n          {/* TOTAL VIEWERS AND LIKES */}\r\n          <div className=\"flex gap-2 rounded-l-md py-1 px-2 absolute top-2 right-0 bg-dark/70 z-20\">\r\n            <div className=\"flex gap-1 items-center\">\r\n              <Image\r\n                src=\"/SidebarIcons/heart.png\"\r\n                alt=\"heart\"\r\n                width={12}\r\n                height={12}\r\n              />\r\n              <p className=\"font-medium text-primary text-[10px]\">\r\n                {activeResponse &&\r\n                activeResponse.length > 0 &&\r\n                activeResponse[activeResponse.length - 1].like\r\n                  ? activeResponse[activeResponse.length - 1].current_like\r\n                  : liveUser?.likes}\r\n              </p>\r\n            </div>\r\n            <div className=\"flex gap-1 items-center\">\r\n              <AiOutlineEye className=\"w-4 h-4 text-primary\" />\r\n              <p className=\"font-medium text-primary text-[10px]\">\r\n                {liveUser?.total_viewers}\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div className=\"absolute bottom-0\">\r\n        <LiveLikeComment />\r\n      </div>\r\n    </Dialog>\r\n  );\r\n}\r\n\r\nexport default OpenLiveVideo;\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 2541, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Renz-Lunci/Desktop/Rx/%20Technology/Repository/lakaw-socmed-Website/src/app/explore/SelectedReelModal.tsx"],"sourcesContent":["\"use client\";\r\nimport { useEffect } from \"react\";\r\nimport { useAppDispatch, useAppSelector } from \"../utils/hooks\";\r\nimport {\r\n  clearSelectedReel,\r\n  incrementCommentCount,\r\n  setSelectedReel,\r\n  updateBookmarkStatus,\r\n  updateFollowStatus,\r\n  updateLikeStatus,\r\n} from \"../store/Slice/SelectedReelDetail\";\r\nimport Image from \"next/image\";\r\nimport CommentBox from \"../home/Comment/CommentBox\";\r\nimport { Dialog } from \"@mui/material\";\r\nimport { LikeUnlikeResponse, SaveUnsaveResponse } from \"../types/ResTypes\";\r\nimport useApiPost from \"../hooks/postData\";\r\nimport { toast } from \"react-toastify\";\r\nimport { setCommentAddedFalse } from \"../store/Slice/handleCommentCount\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport { setHashtag } from \"../store/Slice/UserIdHashtagIdSlice\";\r\nimport { Reel } from \"../types/Reels\";\r\n\r\ninterface ReelDetailsModalProps {\r\n  setReels: React.Dispatch<React.SetStateAction<Reel[]>>;\r\n}\r\n\r\nconst ReelDetailsModal = ({ setReels }: ReelDetailsModalProps) => {\r\n  const dispatch = useAppDispatch();\r\n  const reel = useAppSelector((state) => state.selectedReel.reel);\r\n  const { postData } = useApiPost();\r\n  const router = useRouter();\r\n\r\n  // Like Unlike\r\n  const handleLike = async (socialId: number, userId: number) => {\r\n    const previousState = {\r\n      isLiked: reel?.isLiked,\r\n      total_likes: reel?.total_likes,\r\n    };\r\n    dispatch(updateLikeStatus()); // Optimistic update for UI\r\n    setReels((prevReels) =>\r\n      prevReels.map((r) =>\r\n        r.social_id === socialId\r\n          ? {\r\n              ...r,\r\n              isLiked: !r.isLiked,\r\n              total_likes: Number(r.total_likes) + (r.isLiked ? -1 : 1), // keep number\r\n            }\r\n          : r\r\n      )\r\n    );\r\n\r\n    try {\r\n      const response: LikeUnlikeResponse = await postData(\"/like/like-unlike\", {\r\n        social_id: socialId,\r\n        social_type: \"reel\",\r\n        user_id: userId,\r\n      });\r\n      if (response.status) {\r\n        toast.success(response.message);\r\n      } else {\r\n        throw new Error(response.message || \"Failed to update like status\");\r\n      }\r\n    } catch (error) {\r\n      dispatch(updateLikeStatus()); // Revert Redux state\r\n\r\n      if (!previousState) return; // stop if not found\r\n\r\n      setReels((prevReels) =>\r\n        prevReels.map((r) =>\r\n          r.social_id === socialId\r\n            ? {\r\n                ...r,\r\n                isLiked: previousState.isLiked ?? r.isLiked,\r\n                total_likes: previousState.total_likes ?? r.total_likes,\r\n              }\r\n            : r \r\n        )\r\n      );\r\n    }\r\n  };\r\n\r\n  // Follow Unfollow User\r\n  const handleFollowUnfollow = async (userId: number) => {\r\n    const previousState =\r\n      typeof reel?.isFollowing === \"boolean\" ? reel.isFollowing : false;\r\n    dispatch(updateFollowStatus());\r\n    setReels((prevReels) =>\r\n      prevReels.map((r) =>\r\n        r.User.user_id === userId\r\n          ? {\r\n              ...r,\r\n              isFollowing:\r\n                typeof r.isFollowing === \"boolean\" ? !r.isFollowing : true,\r\n            }\r\n          : r\r\n      )\r\n    );\r\n    try {\r\n      const res = await postData(\"/follow/follow-unfollow\", {\r\n        user_id: userId,\r\n      });\r\n      if (res.status) {\r\n        toast.success(res.message);\r\n      } else {\r\n        throw new Error(res.message || \"Failed to update follow status\");\r\n      }\r\n    } catch (error) {\r\n      dispatch(updateFollowStatus()); // Revert Redux state\r\n      setReels((prevReels) =>\r\n        prevReels.map((r) =>\r\n          r.User.user_id === userId\r\n            ? {\r\n                ...r,\r\n                isFollowing:\r\n                  typeof previousState === \"boolean\" ? previousState : false,\r\n              }\r\n            : r\r\n        )\r\n      ); // Revert Explore state\r\n    }\r\n  };\r\n\r\n  // Save Reel\r\n  const handleBookmark = async (socialId: number) => {\r\n    const previousState = {\r\n      isSaved: reel?.isSaved,\r\n      total_saves: reel?.total_saves,\r\n    };\r\n    dispatch(updateBookmarkStatus()); // Optimistic update for UI\r\n    setReels((prevReels) =>\r\n      prevReels.map((r) =>\r\n        r.social_id === socialId\r\n          ? {\r\n              ...r,\r\n              isSaved: !r.isSaved,\r\n              total_saves: Number(r.total_saves) + (r.isSaved ? -1 : 1),\r\n            }\r\n          : r\r\n      )\r\n    ); // Update Explore state\r\n    try {\r\n      const response: SaveUnsaveResponse = await postData(\"/save/save-unsave\", {\r\n        social_id: socialId,\r\n      });\r\n      if (response.status) {\r\n        toast.success(response.message);\r\n      } else {\r\n        throw new Error(response.message || \"Failed to update bookmark status\");\r\n      }\r\n    } catch (error) {\r\n      dispatch(updateBookmarkStatus()); // Revert Redux state\r\n      if (!previousState) return; // stop if not found\r\n\r\n      setReels((prevReels) =>\r\n        prevReels.map((r) =>\r\n          r.social_id === socialId\r\n            ? {\r\n                ...r,\r\n                isSaved: previousState.isSaved ?? r.isSaved,\r\n                total_saves: previousState.total_saves ?? r.total_saves,\r\n              }\r\n            : r\r\n        )\r\n      );\r\n    }\r\n  };\r\n\r\n  // Comment Count\r\n  const commentAdded = useAppSelector(\r\n    (state) => state.commentAdded.commentAdded\r\n  );\r\n  useEffect(() => {\r\n    if (commentAdded && reel?.social_id) {\r\n      dispatch(incrementCommentCount()); // Update Redux state\r\n      setReels((prevReels) =>\r\n        prevReels.map((r) =>\r\n          r.social_id === reel.social_id\r\n            ? {\r\n                ...r,\r\n                total_comments: (Number(r.total_comments) || 0) + 1,\r\n              }\r\n            : r\r\n        )\r\n      ); // Update Explore state\r\n      dispatch(setCommentAddedFalse()); // Reset flag\r\n    }\r\n  }, [commentAdded, reel?.social_id, dispatch, setReels]);\r\n\r\n  // useEffect(() => {\r\n  //   const fetchReelDetails = async () => {\r\n  //     if (!reel?.social_id) return;\r\n  //     try {\r\n  //       const response = await postData(\"/social/get-social\", {\r\n  //         social_id: reel.social_id,\r\n  //       });\r\n  //       if (response.status) {\r\n  //         dispatch(setSelectedReel(response.data)); // ✅ update Redux with latest\r\n  //       }\r\n  //     } catch (err) {\r\n  //       console.error(\"Failed to fetch reel details\", err);\r\n  //     }\r\n  //   };\r\n  //   fetchReelDetails();\r\n  // }, [reel?.social_id]);\r\n\r\n  if (!reel) return null;\r\n\r\n  return (\r\n    <Dialog\r\n      open={Boolean(reel)}\r\n      onClose={() => {\r\n        dispatch(clearSelectedReel());\r\n      }}\r\n      fullWidth\r\n      PaperProps={{\r\n        sx: {\r\n          p: 0,\r\n          overflow: \"visible\",\r\n          borderRadius: 3,\r\n          maxHeight: \"90vh\",\r\n          width: \"1500px\",\r\n          maxWidth: \"100%\",\r\n        },\r\n      }}\r\n      BackdropProps={{ sx: { background: \"#000000BD\" } }}\r\n    >\r\n      <div className=\"bg-primary rounded-lg shadow-lg flex overflow-hidden relative\">\r\n        <button\r\n          onClick={() => dispatch(clearSelectedReel())}\r\n          className=\"absolute top-1 right-2 text-dark text-sm z-50 cursor-pointer\"\r\n        >\r\n          ✕\r\n        </button>\r\n        {/* Left video ================ */}\r\n        <div className=\"sm:w-7/10 bg-dark relative sm:block hidden\">\r\n          {reel?.Media?.length > 0 ? (\r\n            <video\r\n              src={reel.Media[0].media_location}\r\n              autoPlay\r\n              muted\r\n              className=\"w-full h-full object-contain\"\r\n            />\r\n          ) : (\r\n            <div className=\"flex items-center justify-center w-full h-full text-white\">\r\n              No Media\r\n            </div>\r\n          )}\r\n          <Image\r\n            src=\"/home/play.png\"\r\n            alt=\"play\"\r\n            width={60}\r\n            height={60}\r\n            className=\"bg-dark bg-opacity-[30%] rounded-full p-4\"\r\n          />\r\n        </div>\r\n        {/* details and comment ============================== */}\r\n        <div className=\"sm:w-1/2 flex flex-col max-h-[90vh]\">\r\n          <div className=\"px-6 pt-4 pr-4\">\r\n            {/* user name,profile and follow button ====================== */}\r\n            <div className=\"flex justify-between place-items-center pr-6\">\r\n              {/*  */}\r\n              <div className=\"flex items-center gap-3\">\r\n                <Image\r\n                  src={reel?.User?.profile_pic}\r\n                  alt={reel?.User?.user_name}\r\n                  width={40}\r\n                  height={40}\r\n                  className=\"rounded-full\"\r\n                />\r\n                <h2 className=\"text-base font-medium text-dark\">\r\n                  {reel?.User?.user_name}\r\n                </h2>\r\n              </div>\r\n              {/* Follow Following button */}\r\n              <button\r\n                className={`cursor-pointer sm:w-[20%] p-1 rounded-xl ${\r\n                  reel?.isFollowing\r\n                    ? \"bg-transparent border-main-green border text-main-green\"\r\n                    : \"bg-main-green text-primary\"\r\n                }`}\r\n                onClick={() => handleFollowUnfollow(reel?.User?.user_id)}\r\n              >\r\n                {reel?.isFollowing ? \"Following\" : \"Follow\"}\r\n              </button>\r\n            </div>\r\n            <div className=\"text-sm my-4 text-gray-700\">\r\n              {reel.social_desc?.split(/(\\s+)/).map((part, index) =>\r\n                part.startsWith(\"#\") ? (\r\n                  <span\r\n                    key={index}\r\n                    className=\"text-main-green cursor-pointer\"\r\n                    onClick={() => {\r\n                      dispatch(\r\n                        setHashtag({\r\n                          hashtag_name: part.replace(\"#\", \"\"),\r\n                          // count: total,\r\n                        })\r\n                      );\r\n                      dispatch(clearSelectedReel());\r\n                      router.push(\"/explore\");\r\n                    }}\r\n                  >\r\n                    {part}\r\n                  </span>\r\n                ) : (\r\n                  part\r\n                )\r\n              )}\r\n            </div>\r\n            <div className=\"flex gap-6 place-items-center mb-4\">\r\n              {/* total likes */}\r\n              <div className=\"flex gap-1 items-center\">\r\n                <Image\r\n                  src={\r\n                    reel?.isLiked ? \"/home/filled_heart.png\" : \"/home/like.png\"\r\n                  }\r\n                  alt=\"like\"\r\n                  width={18}\r\n                  height={18}\r\n                  onClick={() =>\r\n                    handleLike(reel?.social_id, reel?.User?.user_id)\r\n                  }\r\n                />\r\n                <span className=\"sm:text-sm text-xs font-medium text-dark\">\r\n                  {reel?.total_likes} likes\r\n                </span>\r\n              </div>\r\n              {/* total comments */}\r\n              <div className=\"flex gap-1 items-center\">\r\n                <Image\r\n                  src=\"/home/comment.png\"\r\n                  alt=\"comment\"\r\n                  width={18}\r\n                  height={18}\r\n                />\r\n                <span className=\"sm:text-sm text-xs font-medium text-dark\">\r\n                  {reel?.total_comments} comments\r\n                </span>\r\n              </div>\r\n              {/* total saves */}\r\n              <div className=\"flex gap-1 items-center\">\r\n                <Image\r\n                  src={\r\n                    reel?.isSaved\r\n                      ? \"/home/filled_bookmark.png\"\r\n                      : \"/home/bookmark.png\"\r\n                  }\r\n                  alt=\"save\"\r\n                  width={18}\r\n                  height={18}\r\n                  className=\"\"\r\n                  onClick={() => handleBookmark(reel?.social_id)}\r\n                />\r\n                <span className=\"sm:text-sm text-xs font-medium text-dark\">\r\n                  {reel?.total_saves} saves\r\n                </span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <hr className=\"text-[#F0F0F0] w-full\" />\r\n          {/* Comments */}\r\n          <div className=\" flex-1 overflow-hidden \">\r\n            <CommentBox />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </Dialog>\r\n  );\r\n};\r\n\r\nexport default ReelDetailsModal;\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 3037, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Renz-Lunci/Desktop/Rx/%20Technology/Repository/lakaw-socmed-Website/src/app/LayoutContent.tsx"],"sourcesContent":["\"use client\";\r\nimport { usePathname, useRouter } from \"next/navigation\";\r\nimport { useEffect } from \"react\";\r\nimport Cookies from \"js-cookie\";\r\nimport DialogContainer from \"./components/DialogContainer\";\r\nimport Header from \"./components/Header/Header\";\r\nimport Sidebar from \"./components/SidebarComponents/Sidebar\";\r\nimport SettingSidebar from \"./setting/SettingSidebar\";\r\nimport { Toaster } from \"react-hot-toast\";\r\nimport { ToastContainer } from \"react-toastify\";\r\nimport { AnimatePresence } from \"framer-motion\";\r\n\r\nexport default function LayoutContent({\r\n  children,\r\n}: {\r\n  children: React.ReactNode;\r\n}) {\r\n  const pathname = usePathname();\r\n  const router = useRouter();\r\n  const isSettingsPage = pathname.startsWith(\"/setting\");\r\n  const isNotFound = pathname === \"/not-found\";\r\n\r\n  // ✅ Redirect logic here\r\n useEffect(() => {\r\n  const token = Cookies.get(\"Reelboost_auth_token\");\r\n\r\n  const publicRoutes = [\"/\", \"/not-found\"];\r\n  const isPublicRoute = publicRoutes.includes(pathname);\r\n\r\n  if (!token && !isPublicRoute) {\r\n    if (pathname !== \"/\") {\r\n      router.replace(\"/\");\r\n    }\r\n  }\r\n}, [pathname]);\r\n\r\n\r\n\r\n  return (\r\n    <>\r\n      <DialogContainer />\r\n      {!isNotFound && <Header />}\r\n\r\n      <div className=\"flex\">\r\n        {!isNotFound && (\r\n          <>\r\n            <div className={`${isSettingsPage ? \"flex\" : \"\"}`}>\r\n              <Sidebar key=\"main\" onNavigate={() => {}} />\r\n              {isSettingsPage && (\r\n                <div className=\"lg:pl-[270px] hidden sm:block\">\r\n                  <SettingSidebar\r\n                    key=\"settings\"\r\n                    onBack={() => history.back()}\r\n                  />\r\n                </div>\r\n              )}\r\n            </div>\r\n          </>\r\n        )}\r\n\r\n        <main\r\n          className={`flex-1 ${\r\n            !isNotFound && !isSettingsPage ? \"lg:ml-[270px]\" : \"\"\r\n          }`}\r\n        >\r\n          {children}\r\n        </main>\r\n      </div>\r\n\r\n      <Toaster position=\"bottom-right\" reverseOrder={false} />\r\n      <ToastContainer\r\n        position=\"top-right\"\r\n        autoClose={3000}\r\n        hideProgressBar={true}\r\n        newestOnTop\r\n        closeOnClick\r\n        rtl={false}\r\n        draggable\r\n        pauseOnHover\r\n        theme=\"dark\"\r\n        closeButton={true}\r\n        limit={3}\r\n        toastStyle={{ background: \"#1e293b\", color: \"#fff\" }}\r\n      />\r\n    </>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AATA;;;;;;;;;;AAYe,SAAS,cAAc,KAIrC;QAJqC,EACpC,QAAQ,EAGT,GAJqC;;IAKpC,MAAM,WAAW,IAAA,iOAAW;IAC5B,MAAM,SAAS,IAAA,+NAAS;IACxB,MAAM,iBAAiB,SAAS,UAAU,CAAC;IAC3C,MAAM,aAAa,aAAa;IAEhC,wBAAwB;IACzB,IAAA,uPAAS;mCAAC;YACT,MAAM,QAAQ,gPAAO,CAAC,GAAG,CAAC;YAE1B,MAAM,eAAe;gBAAC;gBAAK;aAAa;YACxC,MAAM,gBAAgB,aAAa,QAAQ,CAAC;YAE5C,IAAI,CAAC,SAAS,CAAC,eAAe;gBAC5B,IAAI,aAAa,KAAK;oBACpB,OAAO,OAAO,CAAC;gBACjB;YACF;QACF;kCAAG;QAAC;KAAS;IAIX,qBACE;;0BACE,0QAAC,uOAAe;;;;;YACf,CAAC,4BAAc,0QAAC,wOAAM;;;;;0BAEvB,0QAAC;gBAAI,WAAU;;oBACZ,CAAC,4BACA;kCACE,cAAA,0QAAC;4BAAI,WAAW,AAAC,GAA+B,OAA7B,iBAAiB,SAAS;;8CAC3C,0QAAC,oPAAO;oCAAY,YAAY,KAAO;mCAA1B;;;;;gCACZ,gCACC,0QAAC;oCAAI,WAAU;8CACb,cAAA,0QAAC,mOAAc;wCAEb,QAAQ,IAAM,QAAQ,IAAI;uCADtB;;;;;;;;;;;;;;;;;kCAShB,0QAAC;wBACC,WAAW,AAAC,UAEX,OADC,CAAC,cAAc,CAAC,iBAAiB,kBAAkB;kCAGpD;;;;;;;;;;;;0BAIL,0QAAC,kPAAO;gBAAC,UAAS;gBAAe,cAAc;;;;;;0BAC/C,0QAAC,qPAAc;gBACb,UAAS;gBACT,WAAW;gBACX,iBAAiB;gBACjB,WAAW;gBACX,YAAY;gBACZ,KAAK;gBACL,SAAS;gBACT,YAAY;gBACZ,OAAM;gBACN,aAAa;gBACb,OAAO;gBACP,YAAY;oBAAE,YAAY;oBAAW,OAAO;gBAAO;;;;;;;;AAI3D;GA1EwB;;QAKL,iOAAW;QACb,+NAAS;;;KANF","debugId":null}}]
}