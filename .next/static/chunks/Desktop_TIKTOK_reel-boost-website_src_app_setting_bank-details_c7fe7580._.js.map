{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Renz-Lunci/Desktop/TIKTOK/reel-boost-website/src/app/setting/bank-details/AddBankDetails.tsx"],"sourcesContent":["\"use client\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport IconInput from \"../../components/SignupField\";\r\nimport { useUserProfile } from \"@/app/store/api/updateUser\";\r\nimport Cookies from \"js-cookie\";\r\nimport useApiPost from \"@/app/hooks/postData\";\r\nimport { toast } from \"react-toastify\";\r\nimport { useAppDispatch } from \"@/app/utils/hooks\";\r\nimport { setScreen } from \"@/app/store/Slice/BankScreenSlice\";\r\n\r\ntype AddBankDetailsProps = {\r\n  onSubmitSuccess: () => void; // ðŸ‘ˆ parent callback\r\n};\r\nfunction AddBankDetails({ onSubmitSuccess }: AddBankDetailsProps) {\r\n  const token = Cookies.get(\"Reelboost_auth_token\");\r\n  const dispatch = useAppDispatch();\r\n\r\n  // Fetch user profile\r\n  const { data, isLoading } = useUserProfile(token ?? \"\");\r\n  const userBankDetails = data?.data;\r\n  const { postData } = useApiPost();\r\n\r\n  // Local state for form\r\n  const [formData, setFormData] = useState({\r\n    account_name: \"\",\r\n    bank_name: \"\",\r\n    account_number: \"\",\r\n    IFSC_code: \"\",\r\n    swift_code: \"\",\r\n  });\r\n\r\n  // Populate form when API data arrives\r\n  useEffect(() => {\r\n    if (userBankDetails) {\r\n      setFormData({\r\n        account_name: userBankDetails.account_name || \"\",\r\n        bank_name: userBankDetails.bank_name || \"\",\r\n        account_number: userBankDetails.account_number || \"\",\r\n        IFSC_code: userBankDetails.IFSC_code || \"\",\r\n        swift_code: userBankDetails.swift_code || \"\",\r\n      });\r\n    }\r\n  }, [userBankDetails]);\r\n\r\n  // Handle input change\r\n  const handleChange = (key: string, value: string) => {\r\n    setFormData((prev) => ({ ...prev, [key]: value }));\r\n  };\r\n\r\n  // Submit handler (no mutation, just API call)\r\n  const handleSubmit = async () => {\r\n    try {\r\n      const res = await postData(\"/users/updateUser\", {\r\n        token,\r\n        ...formData,\r\n      });\r\n\r\n      if (res?.status) {\r\n        toast.success(res.message);\r\n        dispatch(setScreen(\"edit\"))\r\n        onSubmitSuccess();\r\n      } else {\r\n        toast.error(res?.message);\r\n      }\r\n    } catch (error) {\r\n    }\r\n  };\r\n\r\n  if (isLoading) return <div>Loading...</div>;\r\n\r\n  return (\r\n    <div className=\"flex relative flex-col gap-1 space-y-4 py-6\">\r\n      {/* Account Holder Name */}\r\n      <div className=\"flex flex-col gap-2 relative\">\r\n        <label className=\"text-dark font-medium text-[13px]\">\r\n          Account Holder Name\r\n        </label>\r\n        <IconInput\r\n          iconSrc=\"/signup/name.png\"\r\n          placeholder=\"Account Holder Name\"\r\n          value={formData.account_name}\r\n          onChange={(e) => handleChange(\"account_name\", e.target.value)}\r\n        />\r\n      </div>\r\n\r\n      {/* Bank Name */}\r\n      <div className=\"flex flex-col gap-2 relative\">\r\n        <label className=\"text-dark font-medium text-[13px]\">Bank Name</label>\r\n        <IconInput\r\n          iconSrc=\"/Setting/bankDetails.png\"\r\n          placeholder=\"Bank Name\"\r\n          value={formData.bank_name}\r\n          onChange={(e) => handleChange(\"bank_name\", e.target.value)}\r\n        />\r\n      </div>\r\n\r\n      {/* Account Number */}\r\n      <div className=\"flex flex-col gap-2 relative\">\r\n        <label className=\"text-dark font-medium text-[13px]\">\r\n          Account Number\r\n        </label>\r\n        <IconInput\r\n          iconSrc=\"/Setting/AccountNumber.png\"\r\n          placeholder=\"Account Number\"\r\n          value={formData.account_number}\r\n          onChange={(e) => handleChange(\"account_number\", e.target.value)}\r\n        />\r\n      </div>\r\n\r\n      {/* IFSC Code / Routing */}\r\n      <div className=\"flex flex-col gap-2 relative\">\r\n        <label className=\"text-dark font-medium text-[13px]\">\r\n          IFSC Code / Routing Number\r\n        </label>\r\n        <IconInput\r\n          iconSrc=\"/signup/email.png\"\r\n          placeholder=\"IFSC Code / Routing Number\"\r\n          value={formData.IFSC_code}\r\n          onChange={(e) => handleChange(\"IFSC_code\", e.target.value)}\r\n        />\r\n      </div>\r\n\r\n      {/* Swift/BIC Code */}\r\n      <div className=\"flex flex-col gap-2 relative\">\r\n        <label className=\"text-dark font-medium text-[13px]\">\r\n          Swift/BIC Code\r\n        </label>\r\n        <IconInput\r\n          iconSrc=\"/Setting/Swift.png\"\r\n          placeholder=\"Swift/BIC Code\"\r\n          value={formData.swift_code}\r\n          onChange={(e) => handleChange(\"swift_code\", e.target.value)}\r\n        />\r\n      </div>\r\n\r\n      {/* Submit Button */}\r\n      <button\r\n        className=\"bg-main-green w-3/5 mx-auto p-3 rounded-xl mt-8 text-primary cursor-pointer\"\r\n        onClick={handleSubmit}\r\n      >\r\n        Submit\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default AddBankDetails;\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 263, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Renz-Lunci/Desktop/TIKTOK/reel-boost-website/src/app/setting/bank-details/bankScreens.tsx"],"sourcesContent":["\"use client\";\r\nimport { useUserProfile } from \"@/app/store/api/updateUser\";\r\nimport Cookies from \"js-cookie\";\r\nimport AddBankDetails from \"./AddBankDetails\";\r\nimport EditBankDetails from \"./EditBankDetails\";\r\nimport { useAppDispatch, useAppSelector } from \"@/app/utils/hooks\";\r\nimport { setScreen } from \"@/app/store/Slice/BankScreenSlice\";\r\n\r\nfunction BankScreens() {\r\n  const token = Cookies.get(\"Reelboost_auth_token\");\r\n  const dispatch = useAppDispatch();\r\n  const activeScreen = useAppSelector((s) => s.bankScreen.activeScreen);\r\n\r\n  // Fetch bank details\r\n  const { data } = useUserProfile(token ?? \"\");\r\n  const userBankDetails = data?.data;\r\n\r\n  // âœ… Check if all required fields are filled\r\n  const isBankDetailsComplete =\r\n    !!userBankDetails?.account_name &&\r\n    !!userBankDetails?.bank_name &&\r\n    !!userBankDetails?.account_number &&\r\n    !!userBankDetails?.IFSC_code &&\r\n    !!userBankDetails?.swift_code;\r\n\r\n  // âœ… Show Add screen ONLY if:\r\n  // - Fields are incomplete\r\n  // - OR user explicitly switched to \"add\" mode\r\n  const shouldShowAddScreen = !isBankDetailsComplete || activeScreen === \"add\";\r\n\r\n  return (\r\n    <div>\r\n      {shouldShowAddScreen ? (\r\n        <div className=\"px-6 py-4\">\r\n          <h2 className=\"text-dark font-semibold text-lg\">Add Bank Details</h2>\r\n          <AddBankDetails\r\n            onSubmitSuccess={() => {\r\n              dispatch(setScreen(\"edit\")); // switch to edit after submit\r\n            }}\r\n          />\r\n        </div>\r\n      ) : (\r\n        <div className=\"px-6 py-4\">\r\n          <h2 className=\"text-dark font-semibold text-lg\">Bank Details</h2>\r\n          <EditBankDetails />\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default BankScreens;\r\n"],"names":[],"mappings":";;;;;AACA;AACA;AACA;AACA;AACA;AACA;;;AANA;;;;;;;AAQA,SAAS;;IACP,MAAM,QAAQ,oNAAO,CAAC,GAAG,CAAC;IAC1B,MAAM,WAAW,IAAA,mMAAc;IAC/B,MAAM,eAAe,IAAA,mMAAc;oDAAC,CAAC,IAAM,EAAE,UAAU,CAAC,YAAY;;IAEpE,qBAAqB;IACrB,MAAM,EAAE,IAAI,EAAE,GAAG,IAAA,+MAAc,EAAC,kBAAA,mBAAA,QAAS;IACzC,MAAM,kBAAkB,iBAAA,2BAAA,KAAM,IAAI;IAElC,4CAA4C;IAC5C,MAAM,wBACJ,CAAC,EAAC,4BAAA,sCAAA,gBAAiB,YAAY,KAC/B,CAAC,EAAC,4BAAA,sCAAA,gBAAiB,SAAS,KAC5B,CAAC,EAAC,4BAAA,sCAAA,gBAAiB,cAAc,KACjC,CAAC,EAAC,4BAAA,sCAAA,gBAAiB,SAAS,KAC5B,CAAC,EAAC,4BAAA,sCAAA,gBAAiB,UAAU;IAE/B,6BAA6B;IAC7B,0BAA0B;IAC1B,8CAA8C;IAC9C,MAAM,sBAAsB,CAAC,yBAAyB,iBAAiB;IAEvE,qBACE,8OAAC;kBACE,oCACC,8OAAC;YAAI,WAAU;;8BACb,8OAAC;oBAAG,WAAU;8BAAkC;;;;;;8BAChD,8OAAC,0NAAc;oBACb,iBAAiB;wBACf,SAAS,IAAA,iNAAS,EAAC,UAAU,8BAA8B;oBAC7D;;;;;;;;;;;iCAIJ,8OAAC;YAAI,WAAU;;8BACb,8OAAC;oBAAG,WAAU;8BAAkC;;;;;;8BAChD,8OAAC,2NAAe;;;;;;;;;;;;;;;;AAK1B;GAzCS;;QAEU,mMAAc;QACV,mMAAc;QAGlB,+MAAc;;;KANxB;uCA2CM","debugId":null}}]
}